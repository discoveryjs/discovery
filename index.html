<!doctype html>
<head>
    <title>Discovery.js</title>
    <meta charset="utf-8"/>
    <meta name="viewport">
    <meta name="format-detection" content="telephone=no">
    <link rel="icon" type="image/png" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAABBDSURBVHhe7Z13cBT3FcdNnDjNaZ5xnMkfKZNJ4iROJhMnY0+axuhO5e4QSLuHqDJFgDGiGVGMAQECBLYpMkWIYgHGFIGNMcjCgITpmGowcCqIYkyHiCLACEm/vLf31hx37057Rbo7+H1mvmOs++2vvLe/fb99u/e7RyQSiUQikUgkEolEIpFIJBKJRCKRSCQSiUQikUgkwZOVlfWNOEvKCyarUmC2KKdAl0xWdUpMzIvfoSKSB5GWCeofzVZ1ouZ0qyo8ZFHHU1HJg0LLVu2eAocPhNm+l3W6i6DMNZvN9j06VBKtPK+q341NVDvAjC4yWZQ6ztneNHhywcHZpeU9qSpJtIBx3WRTYjGumyzqdc65RtQ54zUxu7RM5JU4GmaVOk7lbXJ0oSYkkYjZmvwMOG4izPQv3J0ZiOJatRW5a/dqJ4GuvNKympmbK16iJiXhJsZi/xnGdXDYfncH+qOEpFT275lvFtx3Arjo3JKd55+ibkiaE1ycxVnVjnC79pG/cd1VqZ17iLy5C8SxqhPi3WXvsWXs3fpxzteEoWHGRscg6pakKcG4HmtNMUFMXwAz/gbnLCOyJXcQOW/kit179ov6+nqhc/7CRRFns7PHvL5iC3sC6JpTUj6TuikJNbCC/zPM8kng9C855xgROnbI8DHi4w2bxK3bt8nlngwaOoo9PmPMW6zjXZVX6lhKXZYEiymp3c+1+3WL+hnnEKNK7z1QLFuxSly8dJlc7Jvij0vYelq36w5Odng43V35n5SNoiFI/CXGbn8c4zrcr68LJq7bO3bX4npFZRW51Tg3b97SQgRXb/bCYtbproKrgMj9uCKOhiRpDLvd/ijGdZjtC4ON6xNenyY+3bPvvrgeCOMmTmHbSB+awzrdXbAwvE3Dk3gDU7Imq/I6OP0MZ2wjwrieOSxLi+s1NTfJfcGDJxHXXmJyRzFz/ees0901q6SskIYqcSc+Xv09XOarOSMbUbde/cXSwvfFhYuXyGWhpa6uTgsjXNsj8lawDvdQSVlD1qZNj9OQJa6AIZe7G7YxoUNm5r8dUFwPhFnQFtePtL7O1LARzdroKKIhS1yBlf1hzrjuwriO8XjX7n3i7t06ck3zUHmsiu0Tlxr2oToassQVWOGv4IyLwrj+CtyL4+1YKON6IKT3HsD20UdqmJF8kugBnABtOcOiyiuOkfnDz9LCVWwf23bvzziaV37p0SM0bIkOvmrlbRH4/uoiMn/4weSRt9TwGyu2sg73UInjLg1b4gqcAHM4w/buN4TMHxkMHj7ao4+ovmOn8w5nREOWuBJvVf7DGRZ18tRpMn/4wRwD18fW7dPBuY2nhlFz1x56loYtcaEFrAWOc8adV7CYzB9+bt26JWwpHT36iMpetI51uLvySsvH0pglrsDt4AzOsG3saaKhoYFcEH5y3pjm0UdUj2HGUsP5JeWTaciSuDj1CZNVzTBblB2cUXWt/rCYzB9+du89wPbRmRo+zDrdVQ/9CZCQkPBtMJgK+sBsVWpdjehNaekZZP7wg6nh1E7pbD+NpIbzNx59nUzxUNECF3oQ5/NB/+OM51t2cfXqNXJB+Jk9dwHTR1V07td4anhmydEUssmDj8ma8luI7WPhNq+KM5g/mj5rLpk//OA7g1wf45MaTw1nZYnHyDwPJkbjur9SO3Ql80cGPfu8wvYzc/IC1vFOOerJTA8WgcR1TviUb+SYiexnqKoTp8j84adw5Wq2j6ndBjCOd2pWSdl5MtkDQZBx3SlLm/YiO2ey2LFrj/aUD6V26MaWHTl2Ipk//Fy6fMXv1HBeSVk+2S56CUVcR8MNHDJSFBVvYJ/yzcibxx5nS+lAJcJLXX29uHi1RmRkjmD7yaaGS8rE8uWHnyAzRhehiusvwu3c4qUrxNlz58mUPI6yCvZ41Nbtu6hU84KpqOobt0Xlmcvi07LTYqfjC5G3mH9CyKaGNzqqyJzRQajiekq7LuKtmXPEEUe505IG6dqzL1tfxsChVKJ5qLl9R5y8UC32Vp7RnO6qzQcrhdXbW8PuqeEt5c+RaSMfc6LaEmb8aW5gRoRxPSt7kti+81NRW1tLpvSPd5euZOuOb9U26Dd9G+NObZ04c/ma+Oz4OQ+nu2vwqBy2n66p4bxSx3EybeRjtXb4icmqXOEG1Zj6DxouPly7Tly/foNMGTgYJrwtspYXrqJSoaOuvkGL60e/uMg62pveWb2B7aOeGgbnN+R+VPEkmTfygZmfxA3Im9K69xEL3lkmvjxzlkwZOgYO5hdZad1fphLBwcV1f7XjyEmR0p6/a8HU8KyNlVPItNEBbqTADcZVbdqmianTZ4tDnx9p0id1eJfAtR8Hqq4OPDXsK64HolGTprP9bN8rs5rMGj3gFiq4Hw43IMx+bd66Q9y5E1hc95cbN2q09QTXl9wZ+VTKGHfuOuP6QQNx3Yi2HKoS85atEX0GjxIJSW3ZPuLiGUMqmTZ6gBNgHjegjIHDyJxND8bkS9duiswR4zz6gVLaNZ4aDjSue9OOo6fEsqJNYtjYN0UrtRPbL3eZEpKfJ7NGDyabGsMNBnX69Bkyb+jBYHK1BmLy2Stid7kzJhesLGL7gaqsOuE80AUtrmMdQcR1d63ZvFeMnzpH2Dv1YPvhQw24YwmZNapoAVeBE8yARMGiJU5Lh5CbX9WKUxCT9zExedvhEyLJnubRD9SI0ROoBozrtSGN6xv3OsS0eUtE196D2LYNyaJMI3tGHxC/xnGD6tStd0gWfhiTz1657jMmr926T5t53k4ATMKEMq5v+/y4Ftf7DR3tI64b0h5wficwYwunNaOQ2MTU3zED07T/wCFyo3/ocd0BMXkX4wBU6b4ykTt/qej2cibbtruWrC1l6zEqLa5/9Il4NRviutKZbcOQnDuMToyzpTxNJoxeTJbUP8AVIMdkVb/yGCjopb6DyaXGwLh+zCWuuwtnHsZ6bea1bufRni8Nz57M1tmY9KtLalovtl5Dsig3IFQW4J4GuGcRma/5wEZDtX2p2Zz8U3B4fxhQo9umxtvsjaZ4tbh+kY/rugrXbRGvjZ/q9RJvRJiEwWQMV7+78OqCcd3o1YWTCXcrsagbcPcS3MWEzNe82O32x+DsmwrOqtE6ZFWK0YH0sWHwnj/OpqbCgIr8feCzZdtOcvU9jMT1om0HRM70eTDzXmLrDUSLVq1n20Lh1WV+4VqK6/zef8akHAJbD8X9ish84cPLAu09+tgnzm1T1RiTRZ0P9Vxl6jEkfNiD1BuI65v2V4jpBYUiPWOI1/y+MfEJqkEjc+5rD+N6YfEW8eq4yUFdXeCKeAE0Jc5qj6xv84AhjjIdbnjBkvJLKuIBLk5gpo+nxYr7sX4rEWL1wcpT3uP64ZMQ14vFgOHZfsf1+2RRq/AFFFyUwonblSuDdwObP6sQRVsPiAm5c0Xqi0HEdatyG/5bGGtRrc8+2/NbZL7IAgyyxbPj2pbmw6mIBoYFGEhf+GyPe1mjopjHhofc+cs8HL9y/XYxYsI00aZdF4/yRoWvmIHy8ZUzGMbXt1IJCR1/CGO/yR2Di7kgri4NaFOY6T1NJvuPqLnIBR3NDAKkHMG4Dv+2w6VrDfx/wC9yaItB3HNXWxwqM7kyuJhCp6/beVBMmvG2aN/1ZY8yxqX19QOQii+j0FA9gM+X3DsmWCnHwPGjXkhI/Q1VHx2YbPZfwAyp9zKogLdXgzpxV+2J8a2UP1FTGpjPdi+LwhmXnjE4uLhuUXbAyZqBr51Rcz4xJyqJbD1GZVGr8eoSZ1H+CdVFb6IGZmUJO0A/BTPgOtRVgG8B+bqXBcNVcMcHJJe4TtUbJiYm5ptwkp9j6/UqpRba+xD+bfd1dYkqYq1qmudAjQlmAMb1IryXxZBBVfoEyo/g6jIqaJON64GAK3OuDXdRGOsXyC1yxINJCBhgDTdwH9qPcT2QJ1Tx8am/guMb3OprRMbiur9oewta1bv32rknODnwXcaJ+CNQVPzBBQy8yN0A7tINgrts02EBA3Vtdq+flZ9xPRCgjU4Yz6m9G6CFYUvJhgttX11342sGgdsaq/pOqA0CdXp/X5DiOn5xhIp7BeN4KH6Hz5nJTHkaM6P0p4cLLavn5fdwwBmdqVhIgbpfhRNBe0jkT1zHkKXNWqtS7DweF2bK4qSkpB9QEUkggBEnuDr+a1nUdVQk5GBCBmcezmT6Ewtm0uCKYEFHe1+vKG9RcUkgOB/dehoWjF4XrteRtLyBRZkOM/0C17f7ZFFuRUX2LZKB2b7bi3HxrZRmAWM/zObRcOJVsn3xJYvai6qRBII5UenDGRafA1CRJgHXIGaLvQvM9F1c+0YFx2+nKiWBgJdQmEWX7zMsXloNrMiDwchtqFHhvT1VKwkEZ76eHhPDLRk+zqSPmgRfr457l5aSZZ/m4WKWqpYEA14NGludhwK4bJdyjuSEKVkon5GQoD4Jjp7El1FPP1RJnGjGbEn5L+fE++T8/R+PlKy3uxYUhKx4KiaJZGBGs08iYRZ/hff8jWUgoexO92NJS6iIJFIx2ez/ZhxHUkZTMZ/EWtXe7PEyJxD5wAJzA+88tTqmdesfUzGf4Ddm4WTBd++4emROIFIxJ6b8i3WaJmOzXwdCxVKuHpkTiGAg9q/nnObP7NfBBR9bF0jmBCIQfIeOc5ZT/s1+xJlF5H8BXOYEIhCY5es4ZwUy+3XgxMnh6pQ5gQjD21vBTvk/+3Xo1S6mTpkTiCjAycWck4KZ/Tq46GPrljmByADi9HOMc0iBz34dWFj2YOuWOYHIAGZ5Ee+g4Gc/gm8XobO9tCFzAuEk1pb8D9YxmoKf/TpQ17tcGzInEGbAMWs5x4Rq9uvEJapmth2QzAmECVOi8nfOIU6FbvYjlBNgv7YucwJhAi6/aziHhHr268BiMJtrT+YEwgDuiAHG9/I1sNDOfh3nS6V8mzIn0MzA5Xg154immv060O5Wtl2ZE2g+4m3JfwODN+vs14ETrDvbrswJNB9gcPw2L+OEpp39CH5NDNYC/DeIZE6g6TFb7H8FY4dl9utAO+yr5jIn0AzALdf7nPGbY/br4E4lbB9AMifQhLRspfwFjBzW2Y/gLR+EAXancpkTaELAwO+5G1xTM85+HTjhxnB9kTmBJiJSZr+OuZX6a2hb5gSaC7i0ruCMHY7ZrwO3fp+wfZI5gdCCewfBCeBtz8Fmn/06+K1jtk8yJxBawKiFHkbWDB2+2Y/QljL8ppcyJxAazNbkZyJx9uvA3UAB1zeZEwgR4PxlnIHDPft1fH0JVeYEggS/tRvJs59oAX08zvUR/i5zAsEABmS/mhUps1/HZFFHcf2UOYEgwO/oR8Hs18Atar31VeYEAgRW1ws5g0ba7NeBxaC3ndFlTsBfcPsYMCj72zuRNvt1cNdTtr8W5QwVkfgDu1FThM5+xGzu9H3o83XPPitfUhGJP4DhprkbExZVA+jjiASuTh6/lAYnxVj6WOIPWhjA1TX+CggIFlmZ8OeI/vkUu93+qMliHwb9PQh9d2D/8W/0sUQikUgkEolEIpFIJBKJRBKtPPLI/wH4T/z3KpY5zAAAAABJRU5ErkJggg==">
    <style type="discovery/style" src="model.css">.view-button{position:relative;display:inline-block;box-sizing:border-box;padding:8px 12px;outline:none;margin:0;color:var(--discovery-view-button-color);background-color:var(--discovery-view-button-background-color);border:1px solid var(--discovery-view-button-border-color);border-radius:3px;font-family:inherit;font-size:inherit;line-height:1.2;text-align:center;cursor:pointer;--discovery-view-button-color: var(--discovery-color);--discovery-view-button-background-color: rgba(255, 255, 255, .1);--discovery-view-button-border-color: rgba(127, 127, 127, .4);--discovery-view-button-hover-background-color: rgba(221, 221, 221, .3);--discovery-view-button-hover-border-color: rgba(170, 170, 170, .6);--discovery-view-button-active-background-color: rgba(131, 131, 131, .25);--discovery-view-button-active-border-color: var(--discovery-view-button-border-color);--discovery-view-button-focus-background-color: var(--discovery-view-button-background-color);--discovery-view-button-focus-border-color: rgba(128, 128, 128, .6)}.view-button:empty:before{content:"\200b";float:left}.view-button:focus-visible{box-shadow:0 0 1px 3px #0af3;background-color:var(--discovery-view-button-focus-background-color);border-color:var(--discovery-view-button-focus-border-color);z-index:1}.view-button:hover,.view-button.discovery-view-popup-active{background-color:var(--discovery-view-button-hover-background-color);border-color:var(--discovery-view-button-hover-border-color)}.view-button:active{background-color:var(--discovery-view-button-active-background-color);border-color:var(--discovery-view-button-active-border-color)}.view-button[disabled]{opacity:.5;pointer-events:none;cursor:default}.view-button+.view-button{margin-left:1ex}.view-button-primary{--discovery-view-button-color: white;--discovery-view-button-background-color: #00aaff;--discovery-view-button-border-color: transparent;--discovery-view-button-hover-background-color: #009cf0;--discovery-view-button-hover-border-color: transparent;--discovery-view-button-active-background-color: #008ee0;--discovery-view-button-focus-border-color: transparent}.discovery-root-darkmode .view-button-primary{--discovery-view-button-color: #fffd;--discovery-view-button-background-color: #006aa3e6;--discovery-view-button-hover-background-color: #0074b3e6;--discovery-view-button-active-background-color: #006aa3d0}.view-button-danger{--discovery-view-button-color: white;--discovery-view-button-background-color: #ff6163;--discovery-view-button-border-color: transparent;--discovery-view-button-hover-background-color: #f05456;--discovery-view-button-hover-border-color: transparent;--discovery-view-button-active-background-color: #e34449;--discovery-view-button-focus-border-color: transparent}.discovery-root-darkmode .view-button-danger{--discovery-view-button-color: #fffd;--discovery-view-button-background-color: #c32224bf;--discovery-view-button-hover-background-color: #d02528bf;--discovery-view-button-active-background-color: #c32224a6}.view-button-warning{--discovery-view-button-color: rgba(0, 0, 0, .84);--discovery-view-button-background-color: #ffcf21;--discovery-view-button-border-color: transparent;--discovery-view-button-hover-background-color: #fcbd00;--discovery-view-button-hover-border-color: transparent;--discovery-view-button-active-background-color: #f7ad00;--discovery-view-button-focus-border-color: transparent}.discovery-root-darkmode .view-button-warning{--discovery-view-button-color: #eeee;--discovery-view-button-background-color: #ffd40199;--discovery-view-button-hover-background-color: #ffd91aa6;--discovery-view-button-active-background-color: #ffd4018e}.view-checkbox-list>.view-checkbox{display:block}.view-checkbox{--discovery-checkbox-size: max(1em, 14px);padding-left:var(--discovery-checkbox-size)}.view-checkbox>input{-webkit-appearance:none;appearance:none;content:"";font-size:inherit;display:inline-block;position:relative;top:2px;box-sizing:border-box;height:var(--discovery-checkbox-size);width:var(--discovery-checkbox-size);margin:0;margin-left:calc(-1 * var(--discovery-checkbox-size));background-color:#fff3;background-repeat:no-repeat;background-position:center;background-size:calc(.57 * var(--discovery-checkbox-size));border:1px solid rgba(151,162,172,.65);border-radius:3px;outline:none;transition:background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out}.view-checkbox>input:checked{border-color:transparent;background-color:#0079e8ad;background-image:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 8 8">%0A    <path fill="%23fff" d="M6.564.75l-3.59 3.612-1.538-1.55L0 4.26l2.974 2.99L8 2.193z"/>%0A</svg>%0A')}.view-checkbox>input:focus-visible{box-shadow:0 0 1px 3px #0af3}.view-checkbox>input:focus-visible:not(:checked){border-color:#008dffbf}.view-checkbox>input:active{border-color:transparent;background-color:#198bec99}.view-checkbox>input[readonly],.view-checkbox>input:disabled{box-shadow:none;border-color:#a5a5a51a;background-color:#a5a5a54d}.view-checkbox__label{margin-left:5px;margin-right:15px}.view-content-filter>.view-input{line-height:1;margin-bottom:1em}.view-content-filter>.view-input input{background-image:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50">%0A    <path fill="rgba(150, 150, 150, 0.65)" d="M 21 3 C 11.601563 3 4 10.601563 4 20 C 4 29.398438 11.601563 37 21 37 C 24.355469 37 27.460938 36.015625 30.09375 34.34375 L 42.375 46.625 L 46.625 42.375 L 34.5 30.28125 C 36.679688 27.421875 38 23.878906 38 20 C 38 10.601563 30.398438 3 21 3 Z M 21 7 C 28.199219 7 34 12.800781 34 20 C 34 27.199219 28.199219 33 21 33 C 13.800781 33 8 27.199219 8 20 C 8 12.800781 13.800781 7 21 7 Z "></path>%0A</svg>%0A');background-repeat:no-repeat;background-size:32px 16px;background-position:right center;padding-right:30px}.view-content-filter>.content{overflow:auto;flex:1}.view-content-filter>.content .view-list:before{padding:5px 10px;display:block}.view-dropdown{box-sizing:border-box;position:relative;display:inline-flex;overflow:hidden;flex-shrink:0;align-items:center;min-width:10ex;max-width:100%;padding-right:1.2em;line-height:1.2;border-radius:3px;border:1px solid rgba(127,127,127,.4);background-color:#ffffff1a;color:var(--discovery-color);outline:none}.view-dropdown:after{content:"";right:7px;color:#999;display:flex;align-items:center;flex-shrink:0;pointer-events:none;position:absolute;width:1em;height:1em;background-image:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28">%0A    <path fill="%23888" d="M19,15.9393398 L24.4696699,10.4696699 C24.7625631,10.1767767 25.2374369,10.1767767 25.5303301,10.4696699 C25.8232233,10.7625631 25.8232233,11.2374369 25.5303301,11.5303301 L19.5303301,17.5303301 C19.2374369,17.8232233 18.7625631,17.8232233 18.4696699,17.5303301 L12.4696699,11.5303301 C12.1767767,11.2374369 12.1767767,10.7625631 12.4696699,10.4696699 C12.7625631,10.1767767 13.2374369,10.1767767 13.5303301,10.4696699 L19,15.9393398 Z" />%0A</svg>%0A');background-size:1em;background-position:center;cursor:pointer}.view-dropdown.discovery-view-popup-active,.view-dropdown:focus{box-shadow:0 0 1px 3px #0af3,inset 0 1px 1px #8e8e8e33;border-color:#80808099;z-index:1}.view-dropdown:hover{background-color:#dddddd4d;border-color:#aaa9}.view-dropdown:active{background-color:#83838340}.view-dropdown__caption{padding:8px 8px 8px 12px}.view-dropdown:not([data-placeholder]):empty .view-dropdown__caption:before{content:"|";visibility:hidden;padding:8px 0}.view-dropdown[data-placeholder]:empty .view-dropdown__caption:before{content:attr(data-placeholder);visibility:visible;padding:8px 8px 8px 12px;color:#bbb}.view-dropdown>*{pointer-events:none}.discovery-view-popup.view-dropdown-popup{overflow:hidden;display:flex;flex-direction:column}.discovery-view-popup.view-dropdown-popup>.content{gap:5px;padding:8px;display:flex;flex-direction:column;flex:1;overflow:hidden;overflow-y:scroll}.discovery-view-popup.view-dropdown-popup>.confirm{padding:8px;background-color:#0003;font-size:80%;text-align:right}.discovery-view-popup.view-dropdown-popup>.confirm .view-button{padding-top:4px;padding-bottom:4px}.view-input input{position:relative;width:100%;box-sizing:border-box;margin:0;padding:8px 12px;font-family:inherit;font-size:inherit;line-height:1.2;border:1px solid rgba(153,153,153,.5);border-radius:3px;background-color:#ffffff0d;color:var(--discovery-color);outline:0}.view-input input:hover{border-color:#999999bf}.view-input input:focus{border-color:#00aaffa6;box-shadow:0 0 1px 3px #0af3,inset 0 1px 1px #8e8e8e33;z-index:1}.view-menu-item{display:block;padding:4px 12px;color:inherit;text-decoration:none;cursor:pointer}.view-menu-item:empty:before{content:"\200b";float:left}.view-menu-item:hover,.view-menu-item.discovery-view-popup-active{background:#83838340}.view-menu-item.selected{background:#b2ddf84d;cursor:default}.view-menu-item.disabled{opacity:.65;background:none;pointer-events:none}.view-menu-item:not(.onclick):not([href]){pointer-events:none}.view-menu:empty:before{content:attr(emptyText);display:block;padding:4px 12px;color:#888}.view-menu>.more-buttons{margin:2px 12px 8px}.view-nav-button{vertical-align:top;display:inline-block;min-height:1.6em;padding:5px 15px 6px;color:#444;background-color:#9b9b9b26;font-size:12px;text-decoration:none;outline:none;cursor:pointer}.view-nav-button:hover,.view-nav-button:focus,.view-nav-button.discovery-view-popup-active{color:#000;background-color:#9797974d}.view-nav-button+.view-nav-button{margin-left:1px}.view-nav-button.disabled,.view-nav-button:not(.onclick):not([href]){pointer-events:none}.discovery-root-darkmode .view-nav-button{color:inherit}.view-progress{max-width:300px;z-index:1;pointer-events:none}.view-progress.skip-fast-track{transition:opacity .25s var(--appearance-delay, .5s);will-change:opacity;contain:paint;@starting-style{opacity:0}}.view-progress.skip-fast-track.done:not(.error){display:none}.view-progress>.progress{content:"";display:block;position:relative;overflow:hidden;margin-top:4px;box-sizing:border-box;height:3px;background:#c6c6c64d;border-radius:2px}.view-progress>.progress:before{content:"";display:block;height:100%;width:100%;position:absolute;left:0;top:0;transform:scaleX(var(--progress, 0));transform-origin:left;background-color:var(--color, #1f7ec5)}.view-progress>.content.main-secondary{display:flex;white-space:nowrap;gap:1ex}.view-progress>.content>.secondary{flex:1;overflow:hidden;text-overflow:ellipsis;color:#888}.view-select{box-sizing:border-box;position:relative;display:inline-flex;overflow:hidden;flex-shrink:0;align-items:center;min-width:10ex;max-width:100%;padding-right:1.2em;line-height:1.2;border-radius:3px;border:1px solid rgba(127,127,127,.4);background-color:#ffffff1a;color:var(--discovery-color);outline:none}.view-select:after{content:"";right:7px;color:#999;display:flex;align-items:center;flex-shrink:0;pointer-events:none;position:absolute;width:1em;height:1em;background-image:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28">%0A    <path fill="%23888" d="M19,15.9393398 L24.4696699,10.4696699 C24.7625631,10.1767767 25.2374369,10.1767767 25.5303301,10.4696699 C25.8232233,10.7625631 25.8232233,11.2374369 25.5303301,11.5303301 L19.5303301,17.5303301 C19.2374369,17.8232233 18.7625631,17.8232233 18.4696699,17.5303301 L12.4696699,11.5303301 C12.1767767,11.2374369 12.1767767,10.7625631 12.4696699,10.4696699 C12.7625631,10.1767767 13.2374369,10.1767767 13.5303301,10.4696699 L19,15.9393398 Z" />%0A</svg>%0A');background-size:1em;background-position:center;cursor:pointer}.view-select.discovery-view-popup-active,.view-select:focus{box-shadow:0 0 1px 3px #0af3,inset 0 1px 1px #8e8e8e33;border-color:#80808099;z-index:1}.view-select:hover{background-color:#dddddd4d;border-color:#aaa9}.view-select:active{background-color:#83838340}.view-select .view-menu-item{padding-top:8px;padding-bottom:8px;padding-right:8px}.view-select:empty:not([data-placeholder]):before{content:"|";visibility:hidden;padding:8px 0}.view-select:empty[data-placeholder]:before{content:attr(data-placeholder);visibility:visible;padding:8px 8px 8px 12px;opacity:.3}.view-select>*{pointer-events:none}.discovery-view-popup.view-select-popup{display:flex;flex-direction:column;overflow:hidden}.discovery-view-popup.view-select-popup>.view-select__variants{flex:1;overflow:auto;display:flex;flex-direction:column;min-width:100%}.discovery-view-popup.view-select-popup>.view-select__variants:not(:last-child){border-bottom:1px solid rgba(202,202,202,.65)}.discovery-view-popup.view-select-popup>.view-select__filter{margin:0;border-bottom:1px solid rgba(202,202,202,.65)}.discovery-view-popup.view-select-popup>:not(.view-tabs)+.view-select__filter{border-top:1px solid rgba(202,202,202,.65)}.discovery-view-popup.view-select-popup>.view-select__filter input,.discovery-view-popup.view-select-popup>.view-select__filter input:focus{outline:none;box-shadow:none;border:none}.discovery-view-popup.view-select-popup .reset-item{color:#aaa}.discovery-view-popup.view-select-popup .reset-item:empty:before{content:"(nothing selected)";visibility:visible}.view-tab{display:inline-block;position:relative;padding:3px 11px;border-bottom:var(--discovery-view-tabs-border);font-size:13px;cursor:pointer;white-space:nowrap;text-transform:capitalize}.view-tab.active{z-index:10;border-bottom:none;padding-bottom:4px;cursor:default}.view-tab.active:before{content:"";position:absolute;z-index:-1;inset:0;border:var(--discovery-view-tabs-border);border-bottom:none;border-radius:5px 5px 0 0;pointer-events:none}.view-tab.disabled{color:#aaa}.view-tab.disabled,.view-tab:not(.onclick){pointer-events:none}.view-tabs-buttons{--discovery-view-tabs-border: 1px solid rgba(170, 170, 170, .4);margin-top:2px;display:flex;flex-wrap:wrap;align-items:flex-end}.view-tabs-buttons:before,.view-tabs-buttons:after{content:"";width:6px;border-bottom:var(--discovery-view-tabs-border)}.view-tabs-buttons:after{flex:1}.view-tabs-buttons-before,.view-tabs-buttons-after{padding:0 6px 3px;border-bottom:var(--discovery-view-tabs-border);color:#888;font-size:13px}.view-tabs-content{overflow:auto}.view-toggle-group{display:inline-flex;align-items:baseline;flex-wrap:wrap}.view-toggle-group-before{padding-right:1ex}.view-toggle-group-after{padding-left:1ex;order:1000}.view-toggle-group .view-toggle+.view-toggle{margin-left:1px;border-top-left-radius:0;border-bottom-left-radius:0}.view-toggle-group .view-toggle:not(:last-child){border-top-right-radius:0;border-bottom-right-radius:0}.view-toggle{display:inline-block;position:relative;padding:3px 12px;background:#c8c8c833;border-radius:4px;font-size:13px;cursor:pointer;white-space:nowrap}.view-toggle:hover{background-color:#4ebbff33}.view-toggle.checked{background-color:#4ebbff4d;cursor:default}.view-toggle.disabled{color:#aaa}.view-toggle.disabled,.view-toggle:not(.onclick){pointer-events:none}.CodeMirror{font-family:monospace;height:300px;color:#000;direction:ltr}.CodeMirror-lines{padding:4px 0}.CodeMirror pre.CodeMirror-line,.CodeMirror pre.CodeMirror-line-like{padding:0 4px}.CodeMirror-scrollbar-filler,.CodeMirror-gutter-filler{background-color:#fff}.CodeMirror-gutters{border-right:1px solid #ddd;background-color:#f7f7f7;white-space:nowrap}.CodeMirror-linenumber{padding:0 3px 0 5px;min-width:20px;text-align:right;color:#999;white-space:nowrap}.CodeMirror-guttermarker{color:#000}.CodeMirror-guttermarker-subtle{color:#999}.CodeMirror-cursor{border-left:1px solid black;border-right:none;width:0}.CodeMirror div.CodeMirror-secondarycursor{border-left:1px solid silver}.cm-fat-cursor .CodeMirror-cursor{width:auto;border:0!important;background:#7e7}.cm-fat-cursor div.CodeMirror-cursors{z-index:1}.cm-fat-cursor .CodeMirror-line::selection,.cm-fat-cursor .CodeMirror-line>span::selection,.cm-fat-cursor .CodeMirror-line>span>span::selection{background:transparent}.cm-fat-cursor .CodeMirror-line::-moz-selection,.cm-fat-cursor .CodeMirror-line>span::-moz-selection,.cm-fat-cursor .CodeMirror-line>span>span::-moz-selection{background:transparent}.cm-fat-cursor{caret-color:transparent}@-moz-keyframes blink{50%{background-color:transparent}}@-webkit-keyframes blink{50%{background-color:transparent}}@keyframes blink{50%{background-color:transparent}}.cm-tab{display:inline-block;text-decoration:inherit}.CodeMirror-rulers{position:absolute;inset:-50px 0 0;overflow:hidden}.CodeMirror-ruler{border-left:1px solid #ccc;top:0;bottom:0;position:absolute}.cm-s-default .cm-header{color:#00f}.cm-s-default .cm-quote{color:#090}.cm-negative{color:#d44}.cm-positive{color:#292}.cm-header,.cm-strong{font-weight:700}.cm-em{font-style:italic}.cm-link{text-decoration:underline}.cm-strikethrough{text-decoration:line-through}.cm-s-default .cm-keyword{color:#708}.cm-s-default .cm-atom{color:#219}.cm-s-default .cm-number{color:#164}.cm-s-default .cm-def{color:#00f}.cm-s-default .cm-variable-2{color:#05a}.cm-s-default .cm-variable-3,.cm-s-default .cm-type{color:#085}.cm-s-default .cm-comment{color:#a50}.cm-s-default .cm-string{color:#a11}.cm-s-default .cm-string-2{color:#f50}.cm-s-default .cm-meta,.cm-s-default .cm-qualifier{color:#555}.cm-s-default .cm-builtin{color:#30a}.cm-s-default .cm-bracket{color:#997}.cm-s-default .cm-tag{color:#170}.cm-s-default .cm-attribute{color:#00c}.cm-s-default .cm-hr{color:#999}.cm-s-default .cm-link{color:#00c}.cm-s-default .cm-error,.cm-invalidchar{color:red}.CodeMirror-composing{border-bottom:2px solid}div.CodeMirror span.CodeMirror-matchingbracket{color:#0b0}div.CodeMirror span.CodeMirror-nonmatchingbracket{color:#a22}.CodeMirror-matchingtag{background:#ff96004d}.CodeMirror-activeline-background{background:#e8f2ff}.CodeMirror{position:relative;overflow:hidden;background:#fff}.CodeMirror-scroll{overflow:scroll!important;margin-bottom:-50px;margin-right:-50px;padding-bottom:50px;height:100%;outline:none;position:relative;z-index:0}.CodeMirror-sizer{position:relative;border-right:50px solid transparent}.CodeMirror-vscrollbar,.CodeMirror-hscrollbar,.CodeMirror-scrollbar-filler,.CodeMirror-gutter-filler{position:absolute;z-index:6;display:none;outline:none}.CodeMirror-vscrollbar{right:0;top:0;overflow-x:hidden;overflow-y:scroll}.CodeMirror-hscrollbar{bottom:0;left:0;overflow-y:hidden;overflow-x:scroll}.CodeMirror-scrollbar-filler{right:0;bottom:0}.CodeMirror-gutter-filler{left:0;bottom:0}.CodeMirror-gutters{position:absolute;left:0;top:0;min-height:100%;z-index:3}.CodeMirror-gutter{white-space:normal;height:100%;display:inline-block;vertical-align:top;margin-bottom:-50px}.CodeMirror-gutter-wrapper{position:absolute;z-index:4;background:none!important;border:none!important}.CodeMirror-gutter-background{position:absolute;top:0;bottom:0;z-index:4}.CodeMirror-gutter-elt{position:absolute;cursor:default;z-index:4}.CodeMirror-gutter-wrapper ::selection{background-color:transparent}.CodeMirror-gutter-wrapper ::-moz-selection{background-color:transparent}.CodeMirror-lines{cursor:text;min-height:1px}.CodeMirror pre.CodeMirror-line,.CodeMirror pre.CodeMirror-line-like{-moz-border-radius:0;-webkit-border-radius:0;border-radius:0;border-width:0;background:transparent;font-family:inherit;font-size:inherit;margin:0;white-space:pre;word-wrap:normal;line-height:inherit;color:inherit;z-index:2;position:relative;overflow:visible;-webkit-tap-highlight-color:transparent;-webkit-font-variant-ligatures:contextual;font-variant-ligatures:contextual}.CodeMirror-wrap pre.CodeMirror-line,.CodeMirror-wrap pre.CodeMirror-line-like{word-wrap:break-word;white-space:pre-wrap;word-break:normal}.CodeMirror-linebackground{position:absolute;inset:0;z-index:0}.CodeMirror-linewidget{position:relative;z-index:2;padding:.1px}.CodeMirror-rtl pre{direction:rtl}.CodeMirror-code{outline:none}.CodeMirror-scroll,.CodeMirror-sizer,.CodeMirror-gutter,.CodeMirror-gutters,.CodeMirror-linenumber{-moz-box-sizing:content-box;box-sizing:content-box}.CodeMirror-measure{position:absolute;width:100%;height:0;overflow:hidden;visibility:hidden}.CodeMirror-cursor{position:absolute;pointer-events:none}.CodeMirror-measure pre{position:static}div.CodeMirror-cursors{visibility:hidden;position:relative;z-index:3}div.CodeMirror-dragcursors,.CodeMirror-focused div.CodeMirror-cursors{visibility:visible}.CodeMirror-selected{background:#d9d9d9}.CodeMirror-focused .CodeMirror-selected{background:#d7d4f0}.CodeMirror-crosshair{cursor:crosshair}.CodeMirror-line::selection,.CodeMirror-line>span::selection,.CodeMirror-line>span>span::selection{background:#d7d4f0}.CodeMirror-line::-moz-selection,.CodeMirror-line>span::-moz-selection,.CodeMirror-line>span>span::-moz-selection{background:#d7d4f0}.cm-searching{background-color:#ffa;background-color:#ff06}.cm-force-border{padding-right:.1px}@media print{.CodeMirror div.CodeMirror-cursors{visibility:hidden}}.cm-tab-wrap-hack:after{content:""}span.CodeMirror-selectedtext{background:none}.cm-s-neo.CodeMirror{background-color:#fff;color:#2e383c;line-height:1.4375}.cm-s-neo .cm-comment{color:#75787b}.cm-s-neo .cm-keyword,.cm-s-neo .cm-property{color:#1d75b3}.cm-s-neo .cm-atom,.cm-s-neo .cm-number{color:#75438a}.cm-s-neo .cm-node,.cm-s-neo .cm-tag{color:#9c3328}.cm-s-neo .cm-string{color:#b35e14}.cm-s-neo .cm-variable,.cm-s-neo .cm-qualifier{color:#047d65}.cm-s-neo pre{padding:0}.cm-s-neo .CodeMirror-gutters{border:none;border-right:10px solid transparent;background-color:transparent}.cm-s-neo .CodeMirror-linenumber{padding:0;color:#e0e2e5}.cm-s-neo .CodeMirror-guttermarker{color:#1d75b3}.cm-s-neo .CodeMirror-guttermarker-subtle{color:#e0e2e5}.cm-s-neo .CodeMirror-cursor{width:auto;border:0;background:#9b9da25e;z-index:1}.discovery-view-editor-hints-popup{position:absolute;z-index:1000;box-sizing:border-box;overflow:hidden;overflow-y:auto;list-style:none;margin:0;padding:0;min-width:200px;max-height:20em;box-shadow:2px 3px 5px #0003;border-radius:2px;border:1px solid rgba(176,176,176,.65);background:#fff;color:#000;font-family:var(--discovery-monospace-font-family);font-size:12px;line-height:18px}.discovery-root-darkmode .discovery-view-editor-hints-popup{background:#323232;color:#ccc}.discovery-view-editor-hint{display:flex;align-items:baseline;margin:0;padding:2px 6px;white-space:pre;cursor:pointer}.discovery-view-editor-hint:hover{background-color:#b4b4b433}.discovery-view-editor-hint .name{flex:1}.discovery-view-editor-hint .match{color:#06c}.discovery-root-darkmode .discovery-view-editor-hints-popup .discovery-view-editor-hint .match{color:#4d8bca}.discovery-view-editor-hint.active{background:#0af3}.discovery-view-editor-hint:before{content:"?";display:inline-block;place-self:center;aspect-ratio:1 / 1;height:1em;margin-left:-2px;margin-right:4px;padding:2px;border:1px solid currentColor;border-radius:3px;color:#888;font-size:8px;line-height:1;text-align:center}.discovery-view-editor-hint.type-variable:before{content:"$"}.discovery-view-editor-hint.type-property:before{content:"P"}.discovery-view-editor-hint.type-value:before{content:"V"}.discovery-view-editor-hint.type-method:before{content:"M"}.discovery-view-editor-hint.type-assertion:before{content:"A"}.discovery-view-editor{--editor-border-color: rgba(124, 124, 124, .65);display:flex;flex-direction:column;margin-bottom:5px;border:1px solid var(--editor-border-color);border-radius:3px;background-color:var(--discovery-background-color)}.discovery-view-editor:focus-within{--editor-border-color: rgba(0, 141, 255, .75);box-shadow:0 0 1px 3px #0af3,inset 0 1px 1px #8e8e8e33!important}.discovery-view-editor .discovery-view-editor__input-panel{order:0}.discovery-view-editor .discovery-view-editor__output-panel{order:2}.discovery-view-editor .CodeMirror{order:1;height:auto;overflow-y:hidden!important;padding:2px 8px;font-family:var(--discovery-monospace-font-family);font-size:12px;background-color:var(--discovery-input-bg-color);transition:.25s ease-in;transition-property:background-color,color}.discovery-root-darkmode .discovery-view-editor .CodeMirror{color:#d1c7c3}.discovery-view-editor .CodeMirror-scroll{min-height:6.5em;height:auto;overflow-y:hidden!important;cursor:text}.discovery-view-editor.empty-value:not(:focus-within) .CodeMirror .CodeMirror-lines>div[role=presentation]:before{content:attr(data-placeholder);position:absolute;color:#666}.discovery-view-editor .CodeMirror .CodeMirror-line,.discovery-view-editor .CodeMirror .CodeMirror-line-like{padding:0}.discovery-view-editor .CodeMirror-cursor{border-left:1px solid var(--discovery-color, black);background:none}.discovery-view-editor .CodeMirror-focused .CodeMirror-selected{background-color:#00aaff38}.discovery-view-editor .CodeMirror-selected{background-color:#7e7e7e4d}.discovery-view-editor .CodeMirror .cm-comment{color:var(--discovery-fmt-comment-color)}.discovery-view-editor .CodeMirror .cm-keyword{color:var(--discovery-fmt-keyword-color)}.discovery-view-editor .CodeMirror .cm-property{color:var(--discovery-fmt-property-color)}.discovery-view-editor .CodeMirror .cm-atom{color:var(--discovery-fmt-atom-color)}.discovery-view-editor .CodeMirror .cm-number{color:var(--discovery-fmt-number-color)}.discovery-view-editor .CodeMirror .cm-type{color:var(--discovery-fmt-type-color)}.discovery-view-editor .CodeMirror .cm-node,.discovery-view-editor .CodeMirror .cm-tag{color:#9c3328}.discovery-view-editor .CodeMirror .cm-string,.discovery-view-editor .CodeMirror .cm-string-2{color:var(--discovery-fmt-string-color)}.discovery-view-editor .CodeMirror .cm-variable,.discovery-view-editor .CodeMirror .cm-variable-2,.discovery-view-editor .CodeMirror .cm-def,.discovery-view-editor .CodeMirror .cm-qualifier{color:var(--discovery-fmt-variable-color)}.discovery-view-editor .CodeMirror .cm-discovery-view-name{background-color:var(--discovery-fmt-string-highlight-color);border-bottom:1px dashed}.view-inline-list>.view-list-item,.view-comma-list>.view-list-item{display:inline-block;list-style:none}.view-comma-list>.view-list-item>*{margin-right:0}.view-comma-list>.view-list-item:after{content:", ";white-space:pre}.view-comma-list>.view-list-item:last-child:after{content:""}.view-list{display:block;list-style:none}.view-ul,.view-ol{margin:0;padding-left:0}.view-ul:not(:empty),.view-ol:not(:empty){padding-left:20px}:is(.view-list,.view-ul,.view-ol)+:is(.view-list,.view-ul,.view-ol),.view-list-item>:is(.view-list,.view-ul,.view-ol){margin-top:0;margin-bottom:2px}.view-inline-list,.view-comma-list{display:inline-block}.view-list:empty:before,.view-inline-list:empty:before,.view-ul:empty:before,.view-ol:empty:before{content:attr(emptyText);color:#888}.view-alert{position:relative;padding:.75rem 1.25rem;margin-bottom:1rem;border:1px solid transparent;border-radius:.25rem;color:#383d41;background-color:#8b8f9740;border-color:#989da566;background-clip:padding-box}.discovery-root-darkmode .view-alert{color:var(--discovery-color)}.view-alert:last-child{margin-bottom:0}.view-alert>:first-child{margin-top:0}.page>.view-alert:first-child,.page>.view-alert-success:first-child,.page>.view-alert-danger:first-child,.page>.view-alert-warning:first-child{margin-top:15px}.view-alert-primary{color:#004085;background-color:#3397ff40;border-color:#4da2ff66}.discovery-root-darkmode .view-alert-primary{color:#6a96c6}.view-alert-success{color:#155724;background-color:#53b76b40;border-color:#69c07d66}.discovery-root-darkmode .view-alert-success{color:#5fab70}.view-alert-danger{color:#721c24;background-color:#e35f6b40;border-color:#e6707d66}.discovery-root-darkmode .view-alert-danger{color:#c7888e}.view-alert-warning{color:#856404;background-color:#ffcf3740;border-color:#ffd45266}.discovery-root-darkmode .view-alert-warning{color:#bdab77}.view-app-header{display:flex;align-items:center;gap:10px}.view-app-header:not(:last-child){margin-bottom:30px}.view-app-header .icon{--icon: var(--discovery-app-icon);float:left;display:inline-block;line-height:1;width:48px;aspect-ratio:1;vertical-align:middle;padding:4px;background:no-repeat center;background-image:var(--icon, var(--discovery-app-icon));background-size:48px;background-color:#f4f4f4;border-radius:3px}.discovery-root-darkmode .view-app-header .icon{background-color:#2b2b2b}.view-app-header h1{margin:0;font-size:30px;line-height:31px;font-family:Helvetica Neue,Helvetica,Tahoma,Arial,sans-serif;font-weight:200}.view-app-header .version{vertical-align:top;display:inline-block;margin-left:1ex;font-size:12px;line-height:18px;opacity:.4}.view-app-header .version:hover{opacity:.75}.view-app-header .description{font-size:12px;line-height:19px;color:#aaa}.view-badge,.view-pill-badge{--discovery-view-badge-color: rgba(135, 135, 135, .2);--discovery-view-badge-text-color: var(--discovery-color);padding:1px 6px 3px;margin-right:1ex;text-shadow:1px 1px rgba(255,255,255,.35);background:var(--discovery-view-badge-color);color:var(--discovery-view-badge-text-color);border-radius:3px;font-size:85%;text-decoration:none;white-space:nowrap}.view-pill-badge{border-radius:9px}.discovery-root-darkmode .view-badge,.discovery-root-darkmode .view-pill-badge{background:var(--discovery-view-badge-dark-color, var(--discovery-view-badge-color));color:var(--discovery-view-badge-dark-text-color, var(--discovery-view-badge-text-color));text-shadow:1px 1px rgba(0,0,0,.1)}.view-badge[href]:hover,.view-badge.onclick:hover,.view-pill-badge[href]:hover,.view-pill-badge.onclick:hover{color:var(--discovery-color);background-image:linear-gradient(to top,#0000001a,#0000001a);cursor:pointer}.view-badge>.prefix{padding:1px 6px 3px;margin:-1px 6px -3px -6px;border-radius:3px 0 0 3px;background-color:#0000001f}.view-badge>.postfix{padding:1px 6px 3px;margin:-1px -6px -3px 6px;border-radius:0 3px 3px 0;background-color:#0000001f}.view-pill-badge>.prefix{padding:1px 6px 3px;margin:-1px 6px -3px -6px;border-radius:8px 0 0 8px;background-color:#0000001f}.view-pill-badge>.postfix{padding:1px 6px 3px;margin:-1px -6px -3px 6px;border-radius:0 8px 8px 0;background-color:#0000001f}.discovery-buildin-view-tooltip .view-badge,.discovery-buildin-view-tooltip .view-pill-badge{display:inline-block;margin:0 0 3px -5px;padding-top:0;padding-bottom:1px;line-height:19px}.view-blockquote{margin:1px 0;padding:0 0 0 1em;border-left:.25em solid var(--color, rgba(191, 197, 197, .5))}.view-blockquote:not([data-kind]){color:#6a737d}.discovery-root-darkmode .view-blockquote:not([data-kind]){color:#808993}.view-blockquote[data-kind]{padding-top:.4em;padding-bottom:.4em}.view-blockquote[data-kind]:before{content:var(--blockquote-title-text, attr(data-kind));display:block;padding-left:calc(1em + .9ex);margin-bottom:.2em;background-image:var(--blockquote-title-icon);background-size:1.1em;background-repeat:no-repeat;background-position:left center;color:var(--blockquote-title-color);text-transform:capitalize}.view-blockquote[data-kind=note]{--color: #1f6feb;--blockquote-title-icon: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="%234493f8">%0A  <path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13ZM6.5 7.75A.75.75 0 0 1 7.25 7h1a.75.75 0 0 1 .75.75v2.75h.25a.75.75 0 0 1 0 1.5h-2a.75.75 0 0 1 0-1.5h.25v-2h-.25a.75.75 0 0 1-.75-.75ZM8 6a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"/>%0A</svg>%0A');--blockquote-title-color: #4493f8}.view-blockquote[data-kind=tip]{--color: #238636;--blockquote-title-icon: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="%233fb950">%0A  <path d="M8 1.5c-2.363 0-4 1.69-4 3.75 0 .984.424 1.625.984 2.304l.214.253c.223.264.47.556.673.848.284.411.537.896.621 1.49a.75.75 0 0 1-1.484.211c-.04-.282-.163-.547-.37-.847a8.456 8.456 0 0 0-.542-.68c-.084-.1-.173-.205-.268-.32C3.201 7.75 2.5 6.766 2.5 5.25 2.5 2.31 4.863 0 8 0s5.5 2.31 5.5 5.25c0 1.516-.701 2.5-1.328 3.259-.095.115-.184.22-.268.319-.207.245-.383.453-.541.681-.208.3-.33.565-.37.847a.751.751 0 0 1-1.485-.212c.084-.593.337-1.078.621-1.489.203-.292.45-.584.673-.848.075-.088.147-.173.213-.253.561-.679.985-1.32.985-2.304 0-2.06-1.637-3.75-4-3.75ZM5.75 12h4.5a.75.75 0 0 1 0 1.5h-4.5a.75.75 0 0 1 0-1.5ZM6 15.25a.75.75 0 0 1 .75-.75h2.5a.75.75 0 0 1 0 1.5h-2.5a.75.75 0 0 1-.75-.75Z"/>%0A</svg>%0A');--blockquote-title-color: #3fb950}.view-blockquote[data-kind=important]{--color: #8957e5;--blockquote-title-icon: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="%23ab7df8">%0A  <path d="M0 1.75C0 .784.784 0 1.75 0h12.5C15.216 0 16 .784 16 1.75v9.5A1.75 1.75 0 0 1 14.25 13H8.06l-2.573 2.573A1.458 1.458 0 0 1 3 14.543V13H1.75A1.75 1.75 0 0 1 0 11.25Zm1.75-.25a.25.25 0 0 0-.25.25v9.5c0 .138.112.25.25.25h2a.75.75 0 0 1 .75.75v2.19l2.72-2.72a.749.749 0 0 1 .53-.22h6.5a.25.25 0 0 0 .25-.25v-9.5a.25.25 0 0 0-.25-.25Zm7 2.25v2.5a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 1 1.5 0ZM9 9a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"/>%0A</svg>%0A');--blockquote-title-color: #ab7df8}.view-blockquote[data-kind=warning]{--color: #9e6a03;--blockquote-title-icon: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="%23d29922">%0A  <path d="M6.457 1.047c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0 1 14.082 15H1.918a1.75 1.75 0 0 1-1.543-2.575Zm1.763.707a.25.25 0 0 0-.44 0L1.698 13.132a.25.25 0 0 0 .22.368h12.164a.25.25 0 0 0 .22-.368Zm.53 3.996v2.5a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 1 1.5 0ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"/>%0A</svg>%0A');--blockquote-title-color: #d29922}.view-blockquote[data-kind=caution]{--color: #da3633;--blockquote-title-icon: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="%23f85149">%0A  <path d="M4.47.22A.749.749 0 0 1 5 0h6c.199 0 .389.079.53.22l4.25 4.25c.141.14.22.331.22.53v6a.749.749 0 0 1-.22.53l-4.25 4.25A.749.749 0 0 1 11 16H5a.749.749 0 0 1-.53-.22L.22 11.53A.749.749 0 0 1 0 11V5c0-.199.079-.389.22-.53Zm.84 1.28L1.5 5.31v5.38l3.81 3.81h5.38l3.81-3.81V5.31L10.69 1.5ZM8 4a.75.75 0 0 1 .75.75v3.5a.75.75 0 0 1-1.5 0v-3.5A.75.75 0 0 1 8 4Zm0 8a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"/>%0A</svg>%0A');--blockquote-title-color: #f85149}.view-header{font-size:120%;font-weight:400;position:relative}.view-header>.view-header__anchor{position:absolute;margin-left:-22px;display:inline-block;width:22px;text-align:center;color:inherit;background:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" fill="%23888" viewBox="0 0 16 16">%0A  <path d="M4.715 6.542 3.343 7.914a3 3 0 1 0 4.243 4.243l1.828-1.829A3 3 0 0 0 8.586 5.5L8 6.086a1.002 1.002 0 0 0-.154.199 2 2 0 0 1 .861 3.337L6.88 11.45a2 2 0 1 1-2.83-2.83l.793-.792a4.018 4.018 0 0 1-.128-1.287z"/>%0A  <path d="M6.586 4.672A3 3 0 0 0 7.414 9.5l.775-.776a2 2 0 0 1-.896-3.346L9.12 3.55a2 2 0 1 1 2.83 2.83l-.793.792c.112.42.155.855.128 1.287l1.372-1.372a3 3 0 1 0-4.243-4.243L6.586 4.672z"/>%0A</svg>%0A') center / 20px no-repeat content-box;padding-top:2px;font-weight:400;opacity:0;transition:opacity .25s}.view-header:hover>.view-header__anchor{opacity:1}.view-header>.view-header__anchor:before{content:"\a7";display:inline-block;width:0;visibility:hidden}.view-h1{font-size:220%;font-weight:400;margin:.812em 0 .65em}.view-h2{font-size:150%;font-weight:400;margin:.78em 0}.view-h3{font-size:135%;font-weight:400;margin:.73em 0}.view-h4{font-size:120%;font-weight:400;margin:.73em 0}.view-h5{font-size:110%;font-weight:400;margin:.68em 0}.view-link{color:var(--discovery-link-color, #0099DD);text-decoration-skip:ink;text-decoration-color:var(--discovery-link-underline-color, rgba(0, 153, 221, .4))}.view-link.onclick{text-decoration-line:underline;cursor:pointer}.view-link:hover{color:var(--discovery-link-hover-color, #0077BB);text-decoration-color:currentColor}.view-image{background:no-repeat center / 20px}.view-image:not(.error):not(.loaded){background-color:#8d8d8d4d;transition:background-color 1ms ease-in;transition-delay:125ms;@starting-style{background-color:transparent}}.view-image.error,.view-image:not([src]){width:32px;height:32px;background-image:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" fill="%23888" viewBox="0 0 16 16">%0A  <path d="M6.002 5.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"/>%0A  <path d="M2.002 1a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2h-12zm12 1a1 1 0 0 1 1 1v6.5l-3.777-1.947a.5.5 0 0 0-.577.093l-3.71 3.71-2.66-1.772a.5.5 0 0 0-.63.062L1.002 12V3a1 1 0 0 1 1-1h12z"/>%0A</svg>%0A');background-color:#8d46464d}.discovery-root-darkmode .view-image{opacity:.85}.view-image-preview{--image-preview-bg-color: rgba(119, 119, 119, .125);display:flex;justify-content:center;padding:16px;background-image:repeating-conic-gradient(transparent 0% 25%,var(--image-preview-bg-color) 0% 50%);background-position:0 0,10px 10px;background-size:20px 20px;background-attachment:fixed}.view-image-preview .view-image{opacity:1}.view-indicator{display:inline-flex;margin:0 1px 1px 0;width:150px;height:100px;background:#b5b5b526;flex-direction:column;justify-content:center;text-align:center;text-decoration:none}.view-indicator[href]:hover{background:#a5a5a54d}.view-indicator>.value{color:#666;font-size:40px;line-height:1.2}.view-indicator[href]>.value{color:#1f7ec5}.view-indicator>.label{font-size:14px;color:#888;box-sizing:border-box;padding:0 8px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.view-markdown:first-child>:first-child{margin-top:0}.view-markdown:last-child>:last-child{margin-bottom:0}.view-markdown :is(p,blockquote,ul,ol,dl,pre,code){margin:0}.view-markdown :is(p,blockquote,ul,ol,dl,table,pre):not(:first-child){margin-top:15px}.view-markdown :is(ul,ol)+:is(ul,ol),.view-markdown li>:is(ul,ol){margin-top:0!important}.view-markdown code{padding:.2em .4em;font-family:var(--discovery-monospace-font-family);font-size:90%;background-color:#d2dce633;border-radius:3px}.discovery-root-darkmode .view-markdown blockquote code{background-color:#747e8833}.view-markdown kbd{--border-color: #ddd;--bg-color: #f8f8f8;padding:.15em .4em;font-family:var(--discovery-monospace-font-family);font-size:90%;border:1px solid var(--border-color, #888);border-radius:6px;box-shadow:0 -1px var(--border-color, #888) inset;background-color:var(--bg-color)}.discovery-root-darkmode .view-markdown kbd{--border-color: #484848;--bg-color: #181818}.view-markdown sup{vertical-align:top}.view-markdown sub{vertical-align:bottom}.view-markdown pre:not(.view-source){overflow:auto;font-family:var(--discovery-monospace-font-family);font-size:90%;line-height:1.25;background-color:#9b9b9b1a;border-radius:3px;word-break:normal}.view-markdown pre:not(.view-source) code{padding:0;font-family:inherit;font-size:100%;background:none;border-radius:0;text-shadow:none;color:inherit}.view-markdown .check-list-item{list-style:none}.view-markdown .check-list-item>.view-checkbox:first-child{width:20px;margin-left:-20px}.view-source{display:grid;grid-template:"prelude" auto "content" 1fr "postlude" auto;margin:0;border-radius:3px;background-color:#cdcdcd1a;color:var(--discovery-color);font-family:var(--discovery-font-family);font-size:12px;line-height:1.6;white-space:normal;tab-size:4}.view-source+.view-source{margin-top:1px}.view-source__prelude{grid-area:prelude;overflow:hidden;border-top-left-radius:inherit;border-top-right-radius:inherit}.view-source__postlude{grid-area:postlude;overflow:hidden;border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.view-source__content{grid-area:content;position:relative;display:flex;align-items:flex-start;padding:8px;overflow:auto;white-space:pre}.view-source__action-buttons{order:2;position:sticky;top:0;right:0;translate:3px -3px;margin-left:1ex;margin-bottom:-8px;display:flex;gap:4px;font-family:var(--discovery-font-family);font-size:12px;line-height:1.6}.view-source__action-buttons .view-button{padding:4px 6px;margin:0;opacity:.25;transition:.5s opacity;line-height:14px}.view-source__content:hover>.view-source__action-buttons .view-button{opacity:1;transition-duration:.25s}.view-source__action-buttons .view-button.copied{opacity:1}.view-source__action-buttons .view-button.copy:before{content:"";display:inline-block;vertical-align:top;width:12px;height:12px;-webkit-mask:center / 12px no-repeat url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="%23000" viewBox="0 0 16 16">%0A    <path d="M3.5 2a.5.5 0 0 0-.5.5v12a.5.5 0 0 0 .5.5h9a.5.5 0 0 0 .5-.5v-12a.5.5 0 0 0-.5-.5H12a.5.5 0 0 1 0-1h.5A1.5 1.5 0 0 1 14 2.5v12a1.5 1.5 0 0 1-1.5 1.5h-9A1.5 1.5 0 0 1 2 14.5v-12A1.5 1.5 0 0 1 3.5 1H4a.5.5 0 0 1 0 1h-.5Z"/>%0A    <path d="M10 .5a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5.5.5 0 0 1-.5.5.5.5 0 0 0-.5.5V2a.5.5 0 0 0 .5.5h5A.5.5 0 0 0 11 2v-.5a.5.5 0 0 0-.5-.5.5.5 0 0 1-.5-.5Z"/>%0A</svg>%0A');mask:center / 12px no-repeat url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="%23000" viewBox="0 0 16 16">%0A    <path d="M3.5 2a.5.5 0 0 0-.5.5v12a.5.5 0 0 0 .5.5h9a.5.5 0 0 0 .5-.5v-12a.5.5 0 0 0-.5-.5H12a.5.5 0 0 1 0-1h.5A1.5 1.5 0 0 1 14 2.5v12a1.5 1.5 0 0 1-1.5 1.5h-9A1.5 1.5 0 0 1 2 14.5v-12A1.5 1.5 0 0 1 3.5 1H4a.5.5 0 0 1 0 1h-.5Z"/>%0A    <path d="M10 .5a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5.5.5 0 0 1-.5.5.5.5 0 0 0-.5.5V2a.5.5 0 0 0 .5.5h5A.5.5 0 0 0 11 2v-.5a.5.5 0 0 0-.5-.5.5.5 0 0 1-.5-.5Z"/>%0A</svg>%0A');visibility:visible;background-color:currentColor;transition:.1s .25s;transition-property:scale,opacity}.view-source__action-buttons .view-button:after{content:"";display:inline-block;vertical-align:top;margin-left:-12px;width:12px;height:12px;-webkit-mask:center / 16px no-repeat url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="%23000" viewBox="0 0 16 16">%0A  <path d="M12.736 3.97a.733.733 0 0 1 1.047 0c.286.289.29.756.01 1.05L7.88 12.01a.733.733 0 0 1-1.065.02L3.217 8.384a.757.757 0 0 1 0-1.06.733.733 0 0 1 1.047 0l3.052 3.093 5.4-6.425a.247.247 0 0 1 .02-.022Z"/>%0A</svg>%0A');mask:center / 16px no-repeat url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="%23000" viewBox="0 0 16 16">%0A  <path d="M12.736 3.97a.733.733 0 0 1 1.047 0c.286.289.29.756.01 1.05L7.88 12.01a.733.733 0 0 1-1.065.02L3.217 8.384a.757.757 0 0 1 0-1.06.733.733 0 0 1 1.047 0l3.052 3.093 5.4-6.425a.247.247 0 0 1 .02-.022Z"/>%0A</svg>%0A');background-color:#6a9c11;transition:.1s .25s;transition-property:scale,opacity}.view-source__action-buttons .view-button.copied:before,.view-source__action-buttons .view-button:not(.copied):after{scale:0;opacity:0;transition-delay:0s;transition-duration:.2s}.view-source__lines{float:left;text-align:right;min-width:3ex;padding-right:1ex;margin-right:1.5ex;border-right:1px solid rgba(170,170,170,.4);color:#969696a6;font-family:var(--discovery-monospace-font-family);font-size:var(--discovery-monospace-font-size, 12px);line-height:var(--discovery-monospace-line-height, 1.5)}.view-source__lines>span{display:block}.view-source__source{flex-grow:1;font-family:var(--discovery-monospace-font-family);font-size:var(--discovery-monospace-font-size, 12px);line-height:var(--discovery-monospace-line-height, 1.5);color:var(--discovery-fmt-color)}.view-source__source .spotlight,.view-source__source .mark{--bg-color: light-dark(#f5e69a, #515143);--color: light-dark(#948634, #bdb06a);background:#f5e69a;background:var(--bg-color);background-image:linear-gradient(to right,light-dark(#fafafa80,transparent),light-dark(#fafafa80,transparent));color:var(--color);padding:1px 1px 2px;margin:0 -1px}.view-source__source .mark{display:inline-block;margin-left:0;margin-right:2px;padding:3px .35em;font-family:var(--discovery-font-family);font-size:83%;line-height:1;border:.5px solid currentColor;border-color:color-mix(in srgb,currentColor 65%,var(--bg-color));border-radius:4px;background-color:light-dark(#e4e4e4,#2b2b2b);background-clip:padding-box;text-decoration-thickness:1px}.view-source__source .mark[data-kind=none]{color:var(--discovery-color);border-color:transparent;background-clip:border-box}.view-source__source .mark[data-kind=dot]:before{--dot-color: var(--color);content:"";display:inline-block;vertical-align:middle;padding:4px;margin:-2px 4px 0 1px;font-size:0px;border-radius:4px;background-color:color-mix(in srgb,var(--dot-color) 85%,var(--discovery-background-color))}.view-source__source .mark[data-kind=dot]:empty{border:none;background-color:transparent;padding-left:1px;padding-right:1px}.view-source__source .mark[data-kind=dot]:empty:before{margin-right:1px}.view-source__source .mark[data-kind=self]{--color: light-dark(#4c934c, #6eae6e)}.view-source__source .mark[data-kind=nested]{--color: light-dark(#96944d, #aead6e)}.view-source__source .mark[data-kind=total]{--color: light-dark(#9580bf, #aa92da)}.view-source__source .mark[data-prefix]:not([data-kind=dot]):before{content:attr(data-prefix);display:inline-block;color:color-mix(in srgb,currentColor 50%,var(--bg-color));padding:0 3px 0 1px}.view-source__source .mark[data-postfix]:not([data-kind=dot]):after{content:attr(data-postfix);display:inline-block;color:color-mix(in srgb,currentColor 50%,var(--bg-color))}.view-source__source .mark.inactive{--color: #888}.view-source__source .spotlight.error,.view-source__source .mark.error{--bg-color: light-dark(#ffc9c9, #603c3c);--color: light-dark(#bb6665, #ed9e9d)}.view-source__source .spotlight.def,.view-source__source .mark.def{--bg-color: light-dark(#d3e7fb, #3a5066);--color: light-dark(#668fb8, #8cbae7)}.view-source__source .spotlight.ref,.view-source__source .mark.ref{--bg-color: light-dark(#cee99b, #415220);--color: light-dark(#7a9a3b, #95ca2c)}.view-source__source .spotlight.global-ref,.view-source__source .mark.global-ref{--bg-color: light-dark(#ffd8a3, #61492a);--color: light-dark(#9a7f59, #d8b381)}.view-source__source a.spotlight,.view-source__source a.mark{position:relative;text-decoration-color:color-mix(in srgb,currentcolor 45%,transparent);text-underline-offset:1.5px}.view-source__source a.spotlight:hover,.view-source__source a.mark:hover{text-decoration-color:color-mix(in srgb,currentcolor 75%,transparent);background-image:linear-gradient(to right,light-dark(transparent,#35353580),light-dark(transparent,#35353580))}.view-source__source a.mark:hover,.view-source__source .mark.discovery-view-has-tooltip:hover{border-color:currentColor}.view-source__source a.mark[data-kind=dot]:empty:before,.view-source__source .mark.discovery-view-has-tooltip[data-kind=dot]:empty:before{outline:1px solid color-mix(in srgb,var(--dot-color) 45%,transparent);outline-offset:1px}.view-source__source a.mark[data-kind=dot]:hover:before,.view-source__source .mark.discovery-view-has-tooltip[data-kind=dot]:hover:before{outline-color:var(--dot-color)}.view-source__source .spotlight-ignore{background:#ddd;background-image:repeating-linear-gradient(-45deg,transparent,transparent 6px,rgba(225,125,0,.1) 6px,rgba(225,125,0,.1) 12px,transparent 12px)}.view-source__source .token{background:none}.view-source__source .spotlight .token{color:inherit!important}.view-source__source .token.comment,.view-source__source .token.prolog,.view-source__source .token.doctype,.view-source__source .token.cdata,.view-source__source .token.quote{color:var(--discovery-fmt-comment-color)}.view-source__source .token.punctuation{color:var(--discovery-fmt-punctuation-color)}.view-source__source .token.namespace{opacity:.7}.view-source__source .token.boolean,.view-source__source .token.atom{color:var(--discovery-fmt-atom-color)}.view-source__source .token.number{color:var(--discovery-fmt-number-color)}.view-source__source .token.selector,.view-source__source .token.attr-value,.view-source__source .token.string,.view-source__source .token.string-2,.view-source__source .token.char,.view-source__source .token.builtin,.view-source__source .token.inserted{color:var(--discovery-fmt-string-color)}.view-source__source .token.property,.view-source__source .token.tag,.view-source__source .token.constant,.view-source__source .token.symbol,.view-source__source .token.deleted,.view-source__source .token.header{color:var(--discovery-fmt-property-color)}.view-source__source .token.regex,.view-source__source .token.important,.view-source__source .token.def,.view-source__source .token.variable,.view-source__source .token.variable-2{color:var(--discovery-fmt-variable-color)}.view-source__source .token.keyword,.view-source__source .token.atrule,.view-source__source .token.link,.view-source__source .token.url{color:var(--discovery-fmt-keyword-color)}.view-source__source .token.qualifier,.view-source__source .token.function,.view-source__source .token.attribute,.view-source__source .token.attr-name,.view-source__source .token.class-name{color:var(--discovery-fmt-qualifier-color)}.view-source__source .token.entity{color:var(--discovery-fmt-entity-color)}.view-source__source .token.image,.view-source__source .token.type{color:var(--discovery-fmt-type-color)}.view-source__source .token.meta{color:var(--discovery-fmt-meta-color)}.view-source__source .token.negative{color:var(--discovery-fmt-negative-color);background-color:color-mix(in srgb,currentcolor 10%,transparent);padding:1px 0}.view-source__source .token.positive{color:var(--discovery-fmt-positive-color);background-color:color-mix(in srgb,currentcolor 10%,transparent);padding:1px 0}.view-source__source .token.discovery-view-name{background-color:var(--discovery-fmt-string-highlight-color);box-shadow:0 0 0 1px var(--discovery-fmt-string-highlight-color);color:#6a9c11}.view-text-diff{display:inline-block;font-family:var(--discovery-monospace-font-family);font-size:var(--discovery-monospace-font-size, 12px);line-height:var(--discovery-monospace-line-height, 1.5);white-space:pre-wrap;word-break:break-word}.view-text-diff .added{padding:1.5px 0;background-color:color-mix(in srgb,#92da92 70%,var(--discovery-background-color));color:#000000bf}.view-text-diff .removed{padding:1.5px 0;background-color:color-mix(in srgb,#de6666 65%,var(--discovery-background-color));color:#000000bf}.view-text-match{background:#ffe80538;border-bottom:2px solid rgba(213,190,15,.8);line-height:1.2}.view-text-numeric .num-delim{padding-left:.14em}.view-text-render{font-family:var(--discovery-monospace-font-family);font-size:var(--discovery-monospace-font-size, 12px);line-height:var(--discovery-monospace-line-height, 1.5)}.view-column{padding-right:40px;min-width:150px}.view-column:last-child{padding-right:0}.view-columns{display:flex;flex-wrap:wrap}.view-columns:empty:before{content:attr(emptyText);color:#888}.view-list>.view-list-item>.view-expand{margin-bottom:1px}.view-expand+.view-expand{margin-top:1px}.view-list>.view-list-item:not(:last-child)>.view-expand.expanded{margin-bottom:4px}.view-expand.expanded+.view-expand{margin-top:4px}.view-expand>.header{--discovery-view-expand-trigger-size: 22px;display:flex;background-color:#c0c0c02d;background-color:color-mix(in srgb,var(--discovery-background-color),rgb(192,192,192) 17.5%);font-size:12px;cursor:pointer;margin-left:calc(var(--discovery-view-expand-trigger-size) + 1px)}.view-expand.trigger-outside>.header{margin-left:0}.view-expand>.header:hover{background-color:#a5a5a54d;background-color:color-mix(in srgb,var(--discovery-background-color),rgb(165,165,165) 30%)}.view-expand>.header>.header-content{flex:1;padding:2px 8px;overflow:hidden;text-overflow:ellipsis;pointer-events:none}.view-expand>.header>.trigger{order:-1;width:var(--discovery-view-expand-trigger-size, 20px);margin-left:calc(-1 * var(--discovery-view-expand-trigger-size) - 1px);text-align:center;background-color:inherit;background-image:linear-gradient(0deg,#96969626,#96969626)}.view-expand>.header>.trigger:before{background:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">%0A    <path fill="%23888" d="M 3.71875 7.78125 L 2.28125 9.21875 L 11.28125 18.21875 L 12 18.90625 L 12.71875 18.21875 L 21.71875 9.21875 L 20.28125 7.78125 L 12 16.0625 Z "/>%0A</svg>%0A') no-repeat center;background-size:12px;transition:transform .15s ease-in;width:12px;height:100%;display:inline-block;vertical-align:middle;transform:rotate(-90deg);content:""}.view-expand.expanded>.header>.trigger:before{transform:rotate(0)}.view-hstack{display:flex;flex-wrap:wrap;gap:20px 40px}.view-hstack>*{min-width:240px}.view-page-header{position:sticky;z-index:100;top:-15px;left:0;padding:23px var(--discovery-page-padding-right) 6px var(--discovery-page-padding-left);margin:calc(-1 * var(--discovery-page-padding-top)) calc(-1 * var(--discovery-page-padding-right)) 20px calc(-1 * var(--discovery-page-padding-left));background-color:#ffffffeb;transition:background-color .25s ease-in}.discovery-root-darkmode .view-page-header{background-color:#242424eb}.page_overscrolled>.view-page-header{box-shadow:0 0 3px #0003;transition-property:background-color,box-shadow}.discovery-root-darkmode .page_overscrolled>.view-page-header{box-shadow:0 0 3px #00000080}@supports (backdrop-filter: blur(5px)) or (-webkit-backdrop-filter: blur(5px)){.view-page-header{background-color:#fffc;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px)}.discovery-root-darkmode .view-page-header{background-color:#242424cc}}.view-page-header:before{content:"x";visibility:hidden;float:right;margin-left:10px;width:var(--discovery-nav-width, 200px)}.view-page-header__prelude .view-badge,.view-page-header__prelude .view-pill-badge{display:inline-block;padding:3px 8px}.view-page-header__prelude .view-badge .prefix,.view-page-header__prelude .view-badge .postfix,.view-page-header__prelude .view-pill-badge .prefix,.view-page-header__prelude .view-pill-badge .postfix{padding:5px 8px 6px;margin:-3px 6px -3px -8px}.view-page-header__prelude .view-badge .postfix,.view-page-header__prelude .view-pill-badge .postfix{padding:5px 8px 6px;margin:-3px -8px -3px 6px}.view-page-header .view-header{margin:0}.view-toc-section>.header{top:0;position:sticky;z-index:1;padding:9px 12px;line-height:1;font-size:14px;border:1px solid rgba(85,85,85,.2);border-width:1px 0;background-color:#fafafaeb;text-transform:capitalize;margin:0 0 -1px;transition:background-color .25s ease-in}.discovery-root-darkmode .view-toc-section>.header{background-color:#323232eb;border-color:#00000040}@supports (backdrop-filter: blur(5px)) or (-webkit-backdrop-filter: blur(5px)){.view-toc-section>.header{background-color:#fafafacc;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px)}.discovery-root-darkmode .view-toc-section>.header{background-color:#323232cc;border-color:#00000040}}.view-toc-section>.header .view-badge,.view-toc-section>.header .view-pill-badge{text-transform:none;font-weight:400;margin-left:4px;margin-right:0}.view-toc-section>.content{padding:8px 0 8px 12px;white-space:nowrap}.discovery-view-popup{position:fixed;min-width:200px;box-sizing:border-box;z-index:300;overflow:hidden;overflow-y:auto;min-height:20px;border:1px solid rgba(176,176,176,.65);box-shadow:3px 3px 18px #0003;background-color:var(--discovery-background-color);transition-property:background-color;transition-duration:.25s;transition-timing-function:ease-in}.discovery-view-popup.inspect{z-index:2002}.discovery-view-popup.show-on-hover:not([data-pin-mode=popup-hover]):not(.pinned){pointer-events:none}.discovery-view-popup:not(.pinned)[data-pin-mode=trigger-click]:before,.discovery-view-popup:not(.pinned)[data-pin-mode=trigger-click]:after{content:"Click to pin this popup";display:block;visibility:hidden;left:0;right:0;z-index:100;padding:2px 8px;background-color:var(--discovery-background-color);background-image:linear-gradient(to bottom,#0000000d,#0000000d);color:#888;font-size:10px;text-align:center}.discovery-view-popup:not(.pinned)[data-pin-mode=trigger-click][data-v-to=top]:before{position:absolute;visibility:visible;bottom:0}.discovery-view-popup:not(.pinned)[data-pin-mode=trigger-click][data-v-to=bottom]:after{position:absolute;visibility:visible;top:0}.view-section{margin-bottom:30px}.view-signature [data-action]{display:inline-block;vertical-align:middle;margin-left:calc(2em / 9);padding:min(calc(1em / 3),5px) min(calc(3px + 1em / 3),8px);margin-top:max(1px - calc(1em / 3),-4px);color:#aaa6;background-color:#c3c3c30d;border:.85px solid rgba(141,141,141,.15);border-radius:3px;line-height:1;font-size:.75em;cursor:pointer}.discovery-root-darkmode .view-signature [data-action]{--discovery-view-signature-hover-color: #aaa;--discovery-view-signature-toggle-color: #72b372}.view-signature [data-action][data-enabled=true],.view-signature [data-action][data-enabled=true]:hover{color:var(--discovery-view-signature-toggle-color, #333);background:#97df9740;border-color:#89b18966}.view-signature [data-action=collapse]:before{content:"\2013"}.view-signature [data-action=dict-mode]:before{content:"dict"}.view-signature [data-action=sort-keys]:before{content:"keys \2193"}.view-signature [data-action]:hover{color:var(--discovery-view-signature-hover-color, #333);background:#bbbbbb40;border-color:#89898966}.discovery-view-popup.signature-details{padding:10px;min-width:340px}.discovery-view-popup.signature-details>*{max-width:450px}.discovery-view-popup.signature-details .signature-action-buttons{float:right;clear:both;position:relative;z-index:1;margin-top:2px}.discovery-view-popup.signature-details .signature-action-buttons .view-button{padding:0}.discovery-view-popup.signature-details .signature-action-buttons .view-button:after{content:"";display:inline-block;vertical-align:top;width:23px;aspect-ratio:1;mask:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16">%0A    <path d="M14.5 3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-13a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5zm-13-1A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h13a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2z"/>%0A    <path d="M5 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 5 8m0-2.5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5m0 5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5m-1-5a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0M4 8a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0m0 2.5a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0"/>%0A</svg>%0A') no-repeat center / 14px;background-color:currentColor;opacity:.85}.discovery-view-popup.signature-details .signature-action-buttons .group:after{mask-image:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16">%0A    <path d="M14.5 3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-13a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5zm-13-1A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h13a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2z"/>%0A    <path d="M5 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 5 8m0-2.5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5m0 5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5m-1-5a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0M4 8a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0m0 2.5a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0"/>%0A</svg>%0A')}.discovery-view-popup.signature-details .path{position:relative;top:-4px;margin-bottom:-2px;font-size:12px;color:var(--discovery-fmt-property-color);opacity:.8}.discovery-view-popup.signature-details .view-h1{margin:20px 0 15px;line-height:1;font-size:180%}.discovery-view-popup.signature-details .view-h1.property{color:var(--discovery-fmt-property-color)}.discovery-view-popup.signature-details .view-h1.type{color:var(--discovery-fmt-type-color);margin-bottom:8px}.discovery-view-popup.signature-details :is(.path,.signature-action-buttons)+.view-h1,.discovery-view-popup.signature-details .view-h1:first-child{margin-top:0}.discovery-view-popup.signature-details .view-h1:last-child{margin-bottom:0}.discovery-view-popup.signature-details .usage-stat{display:inline-block;padding:0 2ex 0 1ex;font-size:12px;font-weight:400;color:#aaa}.discovery-view-popup.signature-details .usage-stat.optional:before{content:"optional ";color:var(--discovery-fmt-flag-color)}.discovery-view-popup.signature-details .num{color:var(--discovery-fmt-atom-color)}.discovery-view-popup.signature-details .pie-stat{display:flex;align-items:center;margin:10px 0}.discovery-view-popup.signature-details .pie-stat .list-header{font-size:11px;color:#aaa}.discovery-view-popup.signature-details .pie-stat>.view-block:last-child{overflow:hidden;padding-right:10px}.discovery-view-popup.signature-details .pie-stat .view-list-item{display:flex;align-items:baseline;white-space:nowrap}.discovery-view-popup.signature-details .pie-stat .dot{display:inline-block;min-width:var(--size);height:var(--size);border-radius:50%}.discovery-view-popup.signature-details .pie-stat .caption{overflow:hidden;text-overflow:ellipsis;margin:0 5px}.discovery-view-popup.signature-details .pie-stat .caption:empty:before{content:"empty string";padding:2px 4px 3px;border-radius:3px;background:#b4b4b433;color:#888;font-size:11px}.discovery-view-popup.signature-details .pie-stat .times{color:#aaa;font-size:11px}.discovery-view-popup.signature-details .pie-stat .pie{transform:rotate(-90deg);height:var(--size, 100px);width:var(--size, 100px);margin:0 20px 0 10px;border-radius:50%}.discovery-view-popup.signature-details .overview-stat{color:#aaa;font-size:12px}.discovery-view-popup.signature-details .overview-stat+.view-content-filter{margin-top:8px}.discovery-view-popup.signature-details .view-content-filter>.view-input{margin-bottom:4px}.discovery-view-popup.signature-details .view-menu-item{display:flex;align-items:baseline}.discovery-view-popup.signature-details .view-menu-item>.caption{flex:1}.discovery-view-popup.signature-details .view-menu-item>.caption:empty:before{content:"[empty string]";color:#888}.discovery-view-popup.signature-details .view-menu-item>.count{color:#aaa;font-size:11px}.discovery-view-popup.signature-details .struct-list>.view-list-item{position:relative}.discovery-view-popup.signature-details .struct-list>.view-list-item>.view-struct{overflow:hidden}.discovery-view-popup.signature-details .struct-list>.view-list-item>.view-struct.struct-expanded-value{overflow-x:auto}.discovery-view-popup.signature-details .struct-list>.view-list-item>.view-struct>.value:not(.struct-expanded-value)>.string:only-child{white-space:normal;word-break:break-all}.discovery-view-popup.signature-details .struct-list>.view-list-item>.view-struct>.value>.string-text-wrapper{padding-left:6px;margin-left:4px;overflow-x:auto}.discovery-view-popup.signature-details .struct-list>.view-list-item>.view-struct>.string-value-as-text .string-text{display:inline-block;white-space:pre}.discovery-view-popup.signature-details .struct-list>.view-list-item>.count{position:absolute;top:7px;right:0;color:#aaa;font-size:11px;padding:0 4px 1px;border-radius:3px 0 0 3px;background:var(--discovery-background-color);opacity:.9}.discovery-view-popup.signature-details .array-types,.discovery-view-popup.signature-details .set-types{padding:8px 0 8px 12px;margin-top:4px;border-left:2px solid rgba(-45,112,178,.8)}.discovery-view-popup.signature-details .array-types:before,.discovery-view-popup.signature-details .set-types:before{display:block;float:left;position:relative;top:-8px;left:-12px;padding:2px 4px;color:#fff;font-size:10px;line-height:12px;background:#0070b2cc}.discovery-view-popup.signature-details .array-types:before{content:"Array value types"}.discovery-view-popup.signature-details .set-types:before{content:"Set value types"}.view-signature{position:relative;margin:1px 0;padding:7px 32px 7px 8px;overflow:auto;font-family:var(--discovery-monospace-font-family);font-size:var(--discovery-monospace-font-size, 12px);line-height:var(--discovery-monospace-line-height, 1.5);background:#cdcdcd1a;color:var(--discovery-fmt-color);white-space:pre}.discovery-view-popup .view-signature{background:none}.view-signature .expand{padding:2px;margin:0 -2px}.view-signature .expand:hover{color:var(--discovery-fmt-hover-color);background-color:#bbbbbb40;border-radius:4px;cursor:pointer}.view-signature .count{display:inline-block;vertical-align:middle;padding-left:6px;padding-bottom:2px;color:#99999980;font-size:.916em;line-height:1}.view-signature .count:before{content:attr(data-value)}.view-signature .count:hover{color:inherit}.view-signature .object-entries{background-image:linear-gradient(to bottom,#bbbbbb26,#bbbbbb26);background-size:1px calc(100% - 3px);background-position:calc(3px + 1.15ex * var(--object-entries-offset, 0)) 1px;background-repeat:no-repeat;background-attachment:local;background-origin:content-box}.view-signature .property{padding:2px;margin:0 -2px;color:var(--discovery-fmt-property-color);cursor:pointer}.view-signature .property.discovery-view-popup-active,.view-signature .property:hover{background-color:#aaa3}.view-signature .optional{color:var(--discovery-fmt-flag-color);padding-left:2px}.view-signature .type{padding:2px;margin:0 -2px;color:var(--discovery-fmt-type-color);cursor:pointer}.view-signature .type.discovery-view-popup-active,.view-signature .type:hover{background-color:#aaa3}.view-signature .type.discovery-view-popup-active{position:relative;z-index:1}.view-struct .entry-line{white-space:nowrap;padding-left:4ch}.view-struct .entry-line[data-index]:before{content:attr(data-index);position:absolute;padding-left:4px;padding-bottom:4px;padding-top:4px;border-left:1px solid rgba(187,187,187,.15);border-color:color-mix(in srgb,color-mix(in srgb,var(--discovery-background-color),#cdcdcd 10%),#bbb 15%);transform:translate(-26px,18px) rotate(-90deg);transform-origin:left top;font-size:10px;line-height:10px;color:#99999959}.view-struct .label{margin-left:-4ch}.view-struct .property{color:var(--discovery-fmt-property-color)}.view-struct .value{white-space:normal;vertical-align:top}.view-struct .keyword{color:var(--discovery-fmt-atom-color)}.view-struct .value>.number{color:var(--discovery-fmt-number-color)}.view-struct .value>.number .num-delim{padding-left:2px}.view-struct .value>.string,.view-struct .value>.string a{color:var(--discovery-fmt-string-color);text-decoration-color:var(--discovery-fmt-string-underline-color);white-space:pre}.view-struct .value>.string a:hover{color:var(--discovery-fmt-string-hover-color);text-decoration-color:currentColor}.view-struct .value>.regexp{color:var(--discovery-fmt-string-color);white-space:pre}.view-struct .value-size,.view-struct .string-length{display:inline-block;vertical-align:middle;padding-left:6px;padding-bottom:2px;color:#99999980;font-size:.916em;line-height:1}.view-struct .value-size:hover,.view-struct .string-length:hover{color:inherit}.view-struct .value-size>.num-delim,.view-struct .string-length>.num-delim{padding-left:2px}.view-struct .string-text-wrapper{display:block;padding:4px 4px 4px 5.5ex}.view-struct .string-text{display:inline;white-space:pre-wrap;padding:2px 4px 1.5px;background:var(--discovery-fmt-string-highlight-color);color:var(--discovery-fmt-string-color);-webkit-box-decoration-break:clone;box-decoration-break:clone}.view-struct .string-value-as-text .string-text{display:block;white-space:pre-wrap;padding-top:0;padding-bottom:0;background:#9191911a;color:var(--discovery-fmt-color)}.view-struct .view-as-table>.entry-line,.view-struct .view-as-table>.more-buttons{display:none}.view-struct .more{color:#7f7f7fcc;white-space:nowrap}.view-struct .more>.num-delim{padding-left:2px}.view-struct .string>.more.suffix{margin:0 1px 0 3px}.view-struct .string>.more.suffix:before{content:"\2026";padding-right:calc(1ch - 4px)}.view-struct .string>.more.suffix:after{content:" more"}.view-struct .string>.more.prefix{padding:0 .6ch 0 .4ch}.view-struct .string>.more.prefix:after{content:"\2026"}.view-struct .value>.more-buttons{padding-left:4ch}.view-struct .string>.match,.view-struct .string-text>.match{background-color:light-dark(#f5e69a,#565638);padding-top:1px;border-bottom:1px solid light-dark(transparent,#a7a73b)}.view-struct .error-value{display:inline-block;vertical-align:text-top;margin-top:-1px;line-height:1.5;border-radius:3px;border:1px solid light-dark(#f8c1c1,#0004);--bg-color: light-dark(#ffe0e0, #622b29);background-color:var(--bg-color);font-size:84%;color:light-dark(#d23b3b,color-mix(in srgb,#a00 25%,var(--discovery-color)))}.view-struct .error-value__name{vertical-align:top;padding:0 4px}.view-struct .error-value__message{padding:0 4px;display:inline-block;background-color:light-dark(#fff1f1,#443232)}.view-struct .value>.view-table{margin-top:2px;margin-left:4ch;margin-right:4px;padding:0 1px 1px;font-family:var(--discovery-font-family);background-color:var(--discovery-background-color);color:var(--discovery-color)}.view-struct .value>.view-table .more-buttons{margin:2px 5px 4px}.view-struct .struct-action-button{display:inline-block;vertical-align:middle;margin-left:calc(2em / 9);padding:min(calc(1em / 3),5px) min(calc(3px + 1em / 3),8px);margin-top:max(1px - calc(1em / 3),-4px);color:#aaa6;background-color:#c3c3c30d;border:.85px solid rgba(141,141,141,.15);border-radius:3px;line-height:1;font-size:.75em;cursor:pointer}.discovery-root-darkmode .view-struct .struct-action-button{--discovery-view-struct-hover-color: #aaa;--discovery-view-struct-toggle-color: #72b372}.view-struct .struct-action-button:hover,.view-struct .discovery-view-popup-active{color:var(--discovery-view-struct-hover-color, #333);background-color:#bbbbbb40;border-color:#89898966}.view-struct .sort-keys>.struct-action-button[data-action=toggle-sort-keys],.view-struct .string-value-as-text>.struct-action-button[data-action=toggle-string-mode],.view-struct .view-as-table>.struct-action-button[data-action=toggle-view-as-table]{color:var(--discovery-view-struct-toggle-color, #686);background-color:#97df9740;border-color:#89b18966}.view-struct .struct-action-button[data-action=show-signature]{cursor:default}@media (hover:none),(hover:on-demand){.view-struct .struct-action-button{padding:3px 20px;color:#333;background-color:#fff;border-color:#64646433}.discovery-root-darkmode .view-struct .struct-action-button{color:#aaa;background-color:#50505080}.view-struct .struct-action-button[data-action=show-signature]{cursor:pointer}}.discovery-view-popup:not(.discovery-inspect-details-popup) .view-struct .struct-action-button[data-action=show-signature]{display:none}.view-struct .view-as-table>.struct-action-button[data-action=toggle-sort-keys]{display:none}.view-struct .struct-action-button[data-action=collapse]:before{content:"\2013"}.view-struct .struct-action-button[data-action=show-signature]:before{content:"\1d54a"}.view-struct .struct-action-button[data-action=value-actions]:before{content:"\192"}.view-struct .struct-action-button[data-action=toggle-sort-keys]:before{content:"keys \2193"}.view-struct .struct-action-button[data-action=toggle-string-mode]:before{content:"as text"}.view-struct .struct-action-button[data-action=toggle-view-as-table]:before{content:"as table"}.discovery-view-popup.view-struct-actions-popup .notes{display:inline;color:#666}.discovery-view-popup.view-struct-actions-popup .notes:before{content:" "}.view-struct .value-annotations{margin-left:6px}.view-struct .value+.value-annotations{margin-left:1.5ex}.view-struct .value-annotation{display:inline-block;vertical-align:middle;padding:0 .4em;margin-top:calc(-1em / 6);font-size:.85em;line-height:1.6;border-radius:3px;color:#aaa}.view-struct .value-annotation+.value-annotation{margin-left:2px}.view-struct .value-annotation[href]:focus-visible{outline:none;background-color:#bbbbbb40;box-shadow:0 0 0 3px #bbbbbb40}.view-struct .value-annotation.icon:before{content:"";display:inline-block;vertical-align:text-bottom;height:14px;width:14px;background:var(--annotation-image, ) var(--annotation-image-position, 50% center) no-repeat;background-size:var(--annotation-image-size, 14px)}.view-struct .value-annotation.icon.has-text:before{margin-right:var(--annotation-image-margin, 2px)}.view-struct .value-annotation.before+.value{margin-left:2px}.view-struct .value-annotation.style-none,.view-struct .value-annotation.style-default{--annotation-bg-gradient-from: white;--annotation-bg-gradient-to: rgba(255, 255, 255, 0)}.discovery-root-darkmode .view-struct .value-annotation.style-default{--annotation-bg-gradient-from: rgba(33, 33, 33, .5);--annotation-bg-gradient-to: rgba(33, 33, 33, 0)}.view-struct .value-annotation.before.style-default{background:linear-gradient(to left,var(--annotation-bg-gradient-from),var(--annotation-bg-gradient-to));border-right:1px solid}.view-struct .value-annotation.after.style-default{background:linear-gradient(to right,var(--annotation-bg-gradient-from),var(--annotation-bg-gradient-to));border-left:1px solid}.view-struct .value-annotation.style-badge{text-decoration:none;background-color:#9b9b9b26;color:#999;border-radius:3px;user-select:none}.view-struct .value-annotation.style-badge.discovery-view-has-tooltip:hover{box-shadow:0 0 0 .5px #888}.view-struct .value-annotation.style-badge[href]{background-color:#379be629}.view-struct .value-annotation.style-badge[href]:hover{color:#89a0bd;text-decoration:underline;text-decoration-color:#89a0bd88}.view-struct .value-annotation .num-delim{padding-left:2px}.view-struct_image-preview-tooltip{padding:0!important}.view-struct_image-preview-tooltip .view-image-preview{min-width:160px}.view-struct{position:relative;margin:1px 0;padding:7px 8px;overflow:auto;font-family:var(--discovery-monospace-font-family);font-size:var(--discovery-monospace-font-size, 12px);line-height:var(--discovery-monospace-line-height, 1.5);background-color:#cdcdcd1a;color:var(--discovery-fmt-color);white-space:nowrap}.view-struct.struct-expand{cursor:pointer}.view-struct .struct-expand-value{display:inline-block;vertical-align:top;white-space:nowrap!important;border-radius:4px;cursor:pointer}.view-struct.struct-expand:hover,.view-struct.struct-expanded-value .struct-expand-value:hover{color:var(--discovery-fmt-hover-color);background-color:#bbbbbb40}.view-struct.struct-expanded-value,.view-struct .struct-expanded-value{background-image:linear-gradient(to bottom,#bbbbbb26,#bbbbbb26);background-size:1px calc(100% - 36px);background-position:3px 18px;background-repeat:no-repeat;background-attachment:local;background-origin:content-box}.discovery-view-popup.view-struct-actions-popup .error{font-size:11px;color:#d61f1fc4;text-shadow:.2px 0px .3px rgba(255,255,255,.8)}.discovery-root-darkmode .discovery-view-popup.view-struct-actions-popup .error{color:#e66;text-shadow:none}.discovery-view-popup.view-struct-actions-popup .num-delim{padding-left:3px}.discovery-view-popup.view-struct-actions-popup .view-menu-item+.view-menu-item.group-start:not(:first-child){border-top:1px solid #8888}.discovery-view-popup.view-struct-signature-popup.computing{padding:8px;line-height:1px;animation:view-struct-signature-computing .5s forwards linear}@keyframes view-struct-signature-computing{0%{opacity:0}}.discovery-view-popup.view-struct-signature-popup.computing:before{--color: #f6f61cb5;content:"";display:inline-block;vertical-align:top;width:10px;height:10px;border:2px solid var(--color);border-radius:50%;clip-path:inset(0px 0px 50% 50%);animation:view-struct-signature-computing-spinner .65s forwards infinite linear}@keyframes view-struct-signature-computing-spinner{to{rotate:360deg}}.view-table-cell{padding:var(--table-cell-padding-top) var(--table-cell-padding-right) var(--table-cell-padding-bottom) var(--table-cell-padding-left);height:19px;vertical-align:top}.view-table-cell.number{text-align:right}.view-table-cell .num-delim{padding-left:2px}.view-table-cell.complex,.view-table-cell.keyword{color:#888}.view-table-cell.align-left{text-align:left}.view-table-cell.align-center{text-align:center}.view-table-cell.align-right{text-align:right}.view-table-cell.details{padding-left:14px;position:relative;background-clip:padding-box}.view-table-cell.details:before{content:".";color:transparent;display:inline-block;position:absolute;left:3px;top:3px;width:9px;transform:rotate(-90deg);transition:.12s ease-in;transition-property:transform,opacity;background-image:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">%0A    <path fill="%23888" d="M 3.71875 7.78125 L 2.28125 9.21875 L 11.28125 18.21875 L 12 18.90625 L 12.71875 18.21875 L 21.71875 9.21875 L 20.28125 7.78125 L 12 16.0625 Z "/>%0A</svg>%0A');background-repeat:no-repeat;background-position:center;background-size:9px;opacity:.5}.view-table-cell.details:hover{background-color:#b4b4b433;cursor:pointer}.view-table-cell.details-expanded{background-image:linear-gradient(to top,rgba(170,170,170,.2),transparent),linear-gradient(to top,rgba(170,170,170,.2),transparent);background-repeat:no-repeat;background-size:1px 100%;background-position:left top,right top;border-bottom:none!important}.view-table-cell.details-expanded:hover{background-color:#b4b4b433}.view-table-cell.details.details-expanded:before{transform:rotate(0);opacity:1}.view-table-cell-details-row>.view-cell-details-content{padding:1px;border:1px solid rgba(170,170,170,.25);border-top:none}.view-table-cell-details-row>.view-cell-details-content>:first-child{margin-top:0!important}.view-table-cell-details-row>.view-cell-details-content>:last-child{margin-bottom:0!important}.view-table-cell>.view-struct,.view-table-cell>.view-struct:hover{margin:calc(-1*max(calc(var(--table-cell-padding-top) - 1px),0px)) calc(-1*max(calc(var(--table-cell-padding-right) - 1px),0px)) calc(-1 * var(--table-cell-padding-bottom)) calc(-1 * var(--table-cell-padding-left));padding:var(--table-cell-padding-top) var(--table-cell-padding-right) max(calc(var(--table-cell-padding-bottom) - 1px),0px) var(--table-cell-padding-left)}.view-table-cell>.view-struct{background-color:transparent}.view-table-header{position:sticky;top:0;z-index:1}.view-table-header-cell{padding:var(--table-cell-padding-top) var(--table-cell-padding-right) var(--table-cell-padding-bottom) var(--table-cell-padding-left);border:solid var(--discovery-background-color);border-width:1px 1px 1px 0;font-weight:400;text-align:left;background:#8d8d8d26 no-repeat right 1px center;background-color:color-mix(in srgb,var(--discovery-background-color),#8d8d8d 15%);background-size:16px;background-clip:padding-box}.view-table-header-cell:last-child{border-right:none}.view-table-header-cell.sortable{padding-right:18px;background-image:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 172 172">%0A    <path fill="rgba(153, 153, 153, 0.4)" d="M86,11.21192l-64.03808,64.03808h128.07617zM86,26.41308l38.08692,38.08692h-76.17383zM21.96192,86l64.03808,64.03808l64.03808,-64.03808zM47.91308,96.75h76.17383l-38.08692,38.08692z"/>%0A</svg>%0A');cursor:pointer}.view-table-header-cell.sortable:not(.asc):not(.desc){background-size:14px;background-position:right 2px center}.view-table-header-cell.sortable.asc{background-image:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">%0A    <path fill="%23888" d="M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"/>%0A</svg>%0A')}.view-table-header-cell.sortable.desc{background-image:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" preserveAspectRatio="xMidYMid meet">%0A    <path fill="%23888" d="M4 12l1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8-8 8z" />%0A</svg>%0A')}.view-table-header-cell.sortable:hover{background-color:#8d8d8d4d;background-color:color-mix(in srgb,var(--discovery-background-color),rgba(141,141,141) 30%)}.view-table-footer.no-cells-with-content{display:none}.view-table-footer-cell{padding:var(--table-cell-padding-top) max(calc(var(--table-cell-padding-right) - 1px),0px) var(--table-cell-padding-bottom) var(--table-cell-padding-left);border:solid var(--discovery-background-color);border-top-color:transparent;border-width:1px 1px 1px 0;color:#888;background-color:color-mix(in srgb,var(--discovery-background-color),#8d8d8d 8%);background-clip:padding-box}.view-table-footer-cell:last-child{border-right:0}.view-table{--table-cell-padding-top: 2px;--table-cell-padding-right: 8px;--table-cell-padding-bottom: 2px;--table-cell-padding-left: 8px;font-size:12px;line-height:19px;border-spacing:0}.view-table>tbody>.view-table-row:not(:last-child)>td,.view-table>tbody:not(:last-child)>.view-table-row:last-child>td,.view-table>.view-table-more-buttons:not(:last-child)>tr>td:not(:empty){border-bottom:1px solid rgba(170,170,170,.2)}.view-table>tbody.view-table-more-buttons>tr>td>.more-buttons{margin-bottom:2px}.view-table>tbody.view-table-more-buttons>tr>td:empty{padding:0}.view-table-cell-details-row>.view-cell-details-content>.view-table:first-child{margin-top:-1px!important}.view-tree-leaf{--view-leaf-lines-offset: 0;position:relative;display:grid;grid-template-columns:20px auto;grid-template-areas:"toggle content" "toggle children";background-image:linear-gradient(to right,#99999980,#99999980),linear-gradient(to right,#99999980,#99999980);background-size:1px calc(1em - 7px * var(--view-leaf-lines-offset, 0)),1px 100%;background-position:5px top,5px calc(1em + 6px * var(--view-leaf-lines-offset, 0));background-repeat:no-repeat}.view-tree-leaf.has-children:not(.non-collapsible),.view-tree-leaf.has-children.collapsed{--view-leaf-lines-offset: 1}.view-tree-leaf.last,:not(.incomplete)>.view-tree-leaf:last-child{background-image:linear-gradient(to right,#99999980,#99999980)}.view-tree-leaf-toggle{grid-area:toggle;visibility:hidden;display:inline-block;position:relative;top:1em;margin-top:-3px;width:9px;height:9px;border-radius:2px;border:1px solid currentColor;margin-right:9px;font-size:10px;line-height:8px;text-align:center;color:#7f7f7fcc;cursor:pointer}.view-tree-leaf-toggle:hover{color:gray}.view-tree-leaf.has-children>.view-tree-leaf-toggle{visibility:visible}.view-tree-leaf.non-collapsible:not(.collapsed)>.view-tree-leaf-toggle{visibility:hidden}.view-tree-leaf-toggle:before{content:"\2013"}.view-tree-leaf.collapsed>.view-tree-leaf-toggle:before{content:"+"}.view-tree-leaf-toggle:after{content:"";visibility:visible;position:absolute;top:4px;left:5px;right:-6px;height:1px;background-color:#99999980;pointer-events:none}.view-tree-leaf.has-children:not(.non-collapsible)>.view-tree-leaf-toggle:after,.view-tree-leaf.has-children.collapsed>.view-tree-leaf-toggle:after{left:11px}.view-tree-leaf-content{grid-area:content;display:inline-block}.view-tree-leaf-content:before{content:"\200b";float:left}.view-tree-leaf-content:empty:before{content:"<empty>";color:#888}.view-tree-leaf-children{grid-area:children;list-style:none;margin:0;padding:0}.view-tree-leaf.collapsed>.view-tree-leaf-children{display:none}.view-tree{list-style:none;margin:0;padding:0;font-size:13px;line-height:24px}.view-tree:empty:before{content:attr(emptyText);color:#888}.more-buttons{display:flex;flex-wrap:wrap;gap:5px;margin-top:2px}.more-buttons .more-button{vertical-align:top;color:var(--discovery-color, black);min-height:0;padding:4px 8px;margin:0;background-color:#ffffff1a;border:1px solid rgba(127,127,127,.4);border-radius:3px;font-size:11px;line-height:12px;font-family:var(--discovery-ui-font-family);cursor:pointer}@supports not (gap: 5px){.more-buttons{margin-top:0}.more-buttons .more-button{margin-top:4px;margin-right:5px}}.more-buttons .more-button:hover,.more-buttons .more-button:active,.more-buttons .more-button:focus{background-color:#dddddd4d;border-color:#aaa9;outline:none}.more-buttons .more-button:active{background-color:#83838340;border-color:#7f7f7f66}.page-default h1.no-data-loaded{margin-top:0}.page-default h1.no-data-loaded:before{display:inline-block;vertical-align:middle;position:relative;top:-5px;margin-right:10px;width:42px;height:42px;content:"";background:var(--discovery-app-icon) no-repeat center;background-size:42px}.welcome-block{margin-top:-10px}.welcome-block .upload-data{margin-top:1.5em;margin-left:-13px;background-color:#00000008;border:1px dashed #a8a8a8;padding:12px;border-radius:7px;max-width:620px}.discovery-root-darkmode .welcome-block .upload-data{background-color:#00000014;border-color:#555}.welcome-block .upload-notes{font-size:82%;color:#aaa;padding:10px 0 0 3px}.page-discovery>.discovery-header{display:flex;flex-direction:row;line-height:1.2;position:sticky;top:-2px;z-index:100;padding:22px calc(210px + var(--discovery-page-padding-right)) 7px var(--discovery-page-padding-left);padding:22px calc(var(--discovery-page-padding-right) + 6px + max(42px * 3,var(--discovery-nav-width, 0px))) 7px var(--discovery-page-padding-left);margin:0 calc(-1 * var(--discovery-page-padding-right)) 18px calc(-1 * var(--discovery-page-padding-left));background-color:#ffffffeb;transition:background-color .25s ease-in}.discovery-root-darkmode .page-discovery>.discovery-header{background-color:#242424eb}.page-discovery.page_overscrolled>.discovery-header{box-shadow:0 0 3px #0003;transition-property:background-color,box-shadow}.discovery-root-darkmode .page-discovery.page_overscrolled>.discovery-header{box-shadow:0 0 3px #00000080}@supports (backdrop-filter: blur(5px)) or (-webkit-backdrop-filter: blur(5px)){.page-discovery>.discovery-header{background-color:#fffc;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px)}.discovery-root-darkmode .page-discovery>.discovery-header{background-color:#242424cc}}.page-discovery>.discovery-header .discovery-header-text{flex:1;position:relative;font-size:220%}.page-discovery>.discovery-header .discovery-header-text:before{content:attr(data-title);white-space:pre}.page-discovery>.discovery-header .discovery-header-text:focus-within:before{visibility:hidden}.page-discovery>.discovery-header .discovery-header-text input{font:inherit;color:inherit;position:absolute;top:0;left:0;width:100%;margin:-1px;padding:0;opacity:.0001;border:1px solid #aaa;border-color:transparent transparent #aaa transparent;background-color:transparent;transition:box-shadow .15s ease-out}.page-discovery>.discovery-header .discovery-header-text input:hover,.page-discovery>.discovery-header .discovery-header-text input:focus{opacity:1}.page-discovery>.discovery-header .discovery-header-text input:focus{border-bottom-color:#0af;box-shadow:0 3px #0af3!important;outline:0}.page-discovery>.discovery-header .discovery-header-text .timestamp{display:block;font-size:10px;color:#99999980;margin-top:4px}.page-discovery>.discovery-actions{position:sticky;top:34px;transition:top .25s;z-index:101;display:flex;justify-content:flex-end;margin-top:19px;margin-bottom:-61px;pointer-events:none}.page-discovery>.discovery-actions button{width:42px;height:42px;background:center no-repeat;border-radius:5px;border:none;text-indent:-500px;overflow:hidden;cursor:pointer;opacity:.5;outline:none;pointer-events:auto}.page-discovery>.discovery-actions button.discovery-view-popup-active,.page-discovery>.discovery-actions button:hover,.page-discovery>.discovery-actions button:focus{background-color:#00000008;opacity:1}.page-discovery>.discovery-actions button.toggle-fullscreen{background-image:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50">%0A    <path stroke="%23888" stroke-width=".5" fill="%23888" d="M -3 8 C -2.734375 8 -2.48046875 8.10546875 -2.29296875 8.29296875 C -2.10546875 8.48046875 -2 8.734375 -2 9 L -2 26.265625 C -2.29296875 26.09765625 -2.63671875 26 -3 26 L -4 26 L -4 10 L -46 10 L -46 44 L -29.999998092651367 44 L -29.999998092651367 45 C -29.999998092651367 45.36328125 -29.902341842651367 45.70703125 -29.734373092651367 46 L -47 46 C -47.265625 46 -47.51953125 45.89453125 -47.70703125 45.70703125 C -47.89453125 45.51953125 -48 45.265625 -48 45 L -48 9 C -48 8.734375 -47.89453125 8.48046875 -47.70703125 8.29296875 C -47.51953125 8.10546875 -47.265625 8 -47 8 Z M -36 13 C -35.640625 12.99609375 -35.3046875 13.18359375 -35.12109375 13.49609375 C -34.94140625 13.80859375 -34.94140625 14.19140625 -35.12109375 14.50390625 C -35.3046875 14.81640625 -35.640625 15.00390625 -36 15 L -39.5859375 15 L -29.292966842651367 25.29296875 C -29.031248092651367 25.54296875 -28.925779342651367 25.91796875 -29.019529342651367 26.265625 C -29.109373092651367 26.6171875 -29.382810592651367 26.890625 -29.734373092651367 26.98046875 C -30.082029342651367 27.07421875 -30.457029342651367 26.96875 -30.707029342651367 26.70703125 L -41 16.4140625 L -41 20 C -40.99609375 20.359375 -41.18359375 20.6953125 -41.49609375 20.87890625 C -41.80859375 21.05859375 -42.19140625 21.05859375 -42.50390625 20.87890625 C -42.81640625 20.6953125 -43.00390625 20.359375 -43 20 L -43 13 Z M -3 28 C -2.44921875 28 -2 28.44921875 -2 29 L -2 45 C -2 45.55078125 -2.44921875 46 -3 46 L -26.999998092651367 46 C -27.550779342651367 46 -27.999998092651367 45.55078125 -27.999998092651367 45 L -27.999998092651367 29 C -27.999998092651367 28.44921875 -27.550779342651367 28 -26.999998092651367 28 Z M -4 30 L -25.999998092651367 30 L -25.999998092651367 44 L -4 44 Z" transform="matrix(1 0 0 1 50 0)" />%0A</svg>%0A');background-size:25px}.page-discovery>.discovery-actions button.edit-mode{background-image:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 128">%0A    <path d="M84.7,39.1l-37.3,64.4c-3.1,5.4-7.4,10-12.6,13.4L24,124l0.8-12.9c0.4-6.2,2.2-12.2,5.3-17.6l37.3-64.4" style="fill:%23FFFFFF;"></path>%0A    <path d="M60.4,44.1c-0.5,0-1-0.1-1.5-0.4c-1.4-0.8-1.9-2.7-1.1-4.1l7-12c0.8-1.4,2.7-1.9,4.1-1.1s1.9,2.7,1.1,4.1l-7,12C62.4,43.5,61.4,44.1,60.4,44.1z" style="fill:%23FFFFFF;"></path>%0A    <path d="M77.7,54.1c-0.5,0-1-0.1-1.5-0.4c-1.4-0.8-1.9-2.7-1.1-4.1l7-12c0.8-1.4,2.7-1.9,4.1-1.1c1.4,0.8,1.9,2.7,1.1,4.1l-7,12C79.7,53.5,78.7,54.1,77.7,54.1z" style="fill:%23FFFFFF;"></path>%0A    <path d="M47.2,94.8c-0.5,0-1-0.1-1.5-0.4c-1.4-0.8-1.9-2.7-1.1-4.1l25-43.4c0.8-1.4,2.6-1.8,4.1-1.1c5.6,2.7,5.6,2.7,5.6,2.7L49.9,93.4C49.3,94.4,48.2,94.8,47.2,94.8z" style="fill:%23FCCA3D;"></path>%0A    <path fill="%23888" stroke="%23888" stroke-width=".5" d="M24,127c-0.5,0-1-0.1-1.5-0.4c-1-0.6-1.6-1.6-1.5-2.8l0.8-12.9c0.4-6.6,2.4-13.2,5.7-18.9l30.3-52.4c0.8-1.4,2.7-1.9,4.1-1.1c1.4,0.8,1.9,2.7,1.1,4.1L32.7,95c-2.9,4.9-4.5,10.6-4.9,16.3l-0.4,6.9l5.8-3.8C38,111.3,42,107,44.9,102l30.3-52.4c0.8-1.4,2.7-1.9,4.1-1.1c1.4,0.8,1.9,2.7,1.1,4.1L50,105c-3.3,5.8-8,10.7-13.5,14.4l-10.8,7.1C25.2,126.8,24.6,127,24,127z"></path>%0A    <path fill="%23888" stroke="%23888" stroke-width=".5" d="M89,127H49c-1.7,0-3-1.3-3-3s1.3-3,3-3h40c1.7,0,3,1.3,3,3S90.7,127,89,127z"></path>%0A    <circle fill="%23888" stroke="%23888" stroke-width=".5" cx="104" cy="124" r="3"></circle>%0A    <path d="M87.7,36.7c-0.5,0-1-0.1-1.5-0.4c-1.4-0.8-1.9-2.7-1.1-4.1c0.9-1.6,1.2-3.5,0.7-5.3s-1.6-3.3-3.3-4.2c-1.6-0.9-3.5-1.2-5.3-0.7s-3.3,1.6-4.3,3.3c-0.8,1.4-2.7,1.9-4.1,1.1s-1.9-2.7-1.1-4.1c3.6-6.2,11.6-8.3,17.8-4.8c3,1.7,5.2,4.5,6.1,7.9s0.4,6.9-1.3,9.9C89.7,36.2,88.7,36.7,87.7,36.7z" style="fill:%23FF5576;"></path>%0A    <path d="M87.7,33.7c2.8-4.8,1.1-10.9-3.7-13.7l0,0c-4.8-2.8-10.9-1.1-13.7,3.7l-3.7,6.5l17.3,10L87.7,33.7z" style="fill:%23FF5576;"></path>%0A    <path d="M83.9,43.2c-0.5,0-1-0.1-1.5-0.4l-17.3-10c-0.7-0.4-1.2-1.1-1.4-1.8c-0.2-0.8-0.1-1.6,0.3-2.3l3.7-6.5c3.6-6.2,11.6-8.3,17.8-4.8c3,1.7,5.2,4.5,6.1,7.9s0.4,6.9-1.3,9.9l-3.7,6.5c-0.4,0.7-1.1,1.2-1.8,1.4C84.4,43.2,84.2,43.2,83.9,43.2z M70.7,29.1l12.1,7l2.2-3.9l0,0c0.9-1.6,1.2-3.5,0.7-5.3s-1.6-3.3-3.3-4.2c-3.3-1.9-7.6-0.8-9.6,2.6L70.7,29.1z" style="fill:%23FF5576;"></path>%0A    <path d="M83.9,43.2c-0.5,0-1-0.1-1.5-0.4c-1.4-0.8-1.9-2.7-1.1-4.1l3.7-6.5c1-1.8,1.2-4,0.5-6c-0.6-1.6,0.2-3.3,1.8-3.9c1.6-0.6,3.3,0.2,3.9,1.8c1.4,3.7,1,7.7-0.9,11.1l-3.7,6.5C86,42.7,85,43.2,83.9,43.2z" style="fill:%23D32F56;"></path>%0A</svg>%0A');background-size:20px}.page-discovery>.discovery-actions button.edit-mode:not(.disabled){opacity:1}.page-discovery>.discovery-actions button.edit-mode.disabled{filter:grayscale()}.page-discovery>.discovery-actions button.share{background-image:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50">%0A    <path stroke="%23888" stroke-width=".5" fill="%23888"  d="M 28.875 11 C 28.371094 11.0625 27.996094 11.492188 28 12 L 28 19.0625 C 16.488281 19.414063 10.28125 25.507813 7.21875 31.5625 C 4.113281 37.699219 4.003906 43.683594 4 43.875 C 4 43.875 4 43.9375 4 43.9375 L 4 44 C 3.984375 44.550781 4.417969 45.015625 4.96875 45.03125 C 5.519531 45.046875 5.984375 44.613281 6 44.0625 C 6 44.0625 6 44 6 44 C 6.007813 43.90625 6.230469 40.878906 9.09375 37.65625 C 11.90625 34.496094 17.394531 31.308594 28 31.09375 L 28 38 C 28 38.382813 28.21875 38.734375 28.566406 38.902344 C 28.914063 39.070313 29.324219 39.023438 29.625 38.78125 L 45.625 25.78125 C 45.863281 25.589844 46 25.304688 46 25 C 46 24.695313 45.863281 24.410156 45.625 24.21875 L 29.625 11.21875 C 29.414063 11.046875 29.144531 10.96875 28.875 11 Z M 30 14.09375 L 43.40625 25 L 30 35.90625 L 30 30 C 30 29.449219 29.550781 29 29 29 C 17.246094 29 10.910156 32.613281 7.59375 36.34375 C 7.46875 36.484375 7.398438 36.609375 7.28125 36.75 C 7.703125 35.375 8.257813 33.90625 9 32.4375 C 11.917969 26.671875 17.488281 21 29 21 C 29.550781 21 30 20.550781 30 20 Z " />%0A</svg>%0A');background-size:25px}.discovery[data-dzen] .page-discovery>.discovery-actions{top:20px}.discovery[data-dzen] .page-discovery>.discovery-actions button.toggle-fullscreen{background-image:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50">%0A    <path stroke="%23888" stroke-width=".5" fill="%23888" d="M -3 8 C -2.734375 8 -2.48046875 8.10546875 -2.29296875 8.29296875 C -2.10546875 8.48046875 -2 8.734375 -2 9 L -2 26.265625 C -2.29296875 26.09765625 -2.63671875 26 -3 26 L -4 26 L -4 10 L -46 10 L -46 44 L -29.999998092651367 44 L -29.999998092651367 45 C -29.999998092651367 45.36328125 -29.902341842651367 45.70703125 -29.734373092651367 46 L -47 46 C -47.265625 46 -47.51953125 45.89453125 -47.70703125 45.70703125 C -47.89453125 45.51953125 -48 45.265625 -48 45 L -48 9 C -48 8.734375 -47.89453125 8.48046875 -47.70703125 8.29296875 C -47.51953125 8.10546875 -47.265625 8 -47 8 Z M -35.98592758178711 27.01408576965332 C -36.34530258178711 27.01799201965332 -36.68124008178711 26.83049201965332 -36.86483383178711 26.51799201965332 C -37.04452133178711 26.20549201965332 -37.04452133178711 25.82267951965332 -36.86483383178711 25.51017951965332 C -36.68124008178711 25.19767951965332 -36.34530258178711 25.01017951965332 -35.98592758178711 25.01408576965332 L -32.39999008178711 25.01408576965332 L -42.692962646484375 14.721118927001953 C -42.954681396484375 14.471118927001953 -43.060150146484375 14.096118927001953 -42.966400146484375 13.748462677001953 C -42.876556396484375 13.396900177001953 -42.603118896484375 13.123462677001953 -42.251556396484375 13.033618927001953 C -41.903900146484375 12.939868927001953 -41.528900146484375 13.045337677001953 -41.278900146484375 13.307056427001953 L -30.98592185974121 23.60002326965332 L -30.98592185974121 20.01408576965332 C -30.98982810974121 19.65471076965332 -30.80232810974121 19.31877326965332 -30.48982810974121 19.13517951965332 C -30.17732810974121 18.95549201965332 -29.79451560974121 18.95549201965332 -29.48201560974121 19.13517951965332 C -29.16951560974121 19.31877326965332 -28.98201560974121 19.65471076965332 -28.98592185974121 20.01408576965332 L -28.98592185974121 27.01408576965332 Z M -3 28 C -2.44921875 28 -2 28.44921875 -2 29 L -2 45 C -2 45.55078125 -2.44921875 46 -3 46 L -26.999998092651367 46 C -27.550779342651367 46 -27.999998092651367 45.55078125 -27.999998092651367 45 L -27.999998092651367 29 C -27.999998092651367 28.44921875 -27.550779342651367 28 -26.999998092651367 28 Z M -4 30 L -25.999998092651367 30 L -25.999998092651367 44 L -4 44 Z" transform="matrix(1 0 0 1 50 -7.10543e-15)" />%0A</svg>%0A')}.page-discovery>.discovery-editor .discovery-editor-tabs{overflow:hidden;display:inline-block;vertical-align:top}.page-discovery>.discovery-editor .data-query-result:before,.page-discovery>.discovery-editor .discovery-editor-tabs:before{padding:3px 4px;width:40px;text-align:right;box-sizing:border-box;font-size:11px;color:#8d8d8dbf}.page-discovery>.discovery-editor .discovery-editor-tab{display:inline-block;margin:0 1px 1px 0;padding:2px 12px;background:#c8c8c833;font-size:12px;user-select:none;cursor:pointer}.page-discovery>.discovery-editor .discovery-editor-tab.active{margin-bottom:0;background:#6cbcf126;cursor:default}.page-discovery>.discovery-editor .discovery-editor-tab:not(.active):hover{background:#bbb6}.page-discovery>.discovery-editor .discovery-editor-tab:first-child{border-top-left-radius:4px;border-bottom-left-radius:4px}.page-discovery>.discovery-editor .discovery-editor-tab:last-child{border-top-right-radius:4px;border-bottom-right-radius:4px}.page-discovery>.discovery-editor .editor-toolbar{display:flex;flex-direction:row;justify-content:flex-end;align-items:baseline;gap:10px}.page-discovery>.discovery-editor .editor-toolbar label{padding:4px;margin:0 1ex;white-space:nowrap}.page-discovery>.discovery-editor .editor-toolbar .syntax-hint{padding-left:10px;flex:1;color:#8d8d8dbf;font-size:12px;align-self:start}.page-discovery>.discovery-editor .editor-toolbar .view-checkbox__label{margin-right:0}.page-discovery>.discovery-editor .discovery-editor-error{border-bottom:1px solid rgba(255,0,0,.6);background:#ffd7d14d}.page-discovery>.discovery-editor textarea{padding:8px;width:100%;box-sizing:border-box;min-height:9em;font-family:var(--discovery-monospace-font-family);font-size:12px;line-height:18px;border-color:#aaa;border-radius:3px;box-shadow:inset 0 1px 1px #8e8e8e33;resize:vertical}.page-discovery>.discovery-editor textarea:focus{border-color:#0af;box-shadow:0 0 1px 3px #0af3,inset 0 1px 1px #8e8e8e33!important;outline:0}.page-discovery>.discovery-editor .query-datasets{margin-top:-8px;margin-bottom:11px;display:flex;gap:4px;flex-wrap:wrap;display:none}.page-discovery>.discovery-editor .query-datasets .dataset{position:relative;display:inline-block;padding:2px 8px 2px 32px;border:1px solid #2e4155;border-radius:6px;background-color:#0a66b92e;font-family:var(--discovery-monospace-font-family);line-height:1.3;box-shadow:1px 1px 1px #0006}.page-discovery>.discovery-editor .query-datasets .dataset:before{content:"";position:absolute;top:0;left:0;width:32px;height:100%;mask-image:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16">%0A  <path stroke-width=".1" d="M8.186 1.113a.5.5 0 0 0-.372 0L1.846 3.5 8 5.961 14.154 3.5zM15 4.239l-6.5 2.6v7.922l6.5-2.6V4.24zM7.5 14.762V6.838L1 4.239v7.923zM7.443.184a1.5 1.5 0 0 1 1.114 0l7.129 2.852A.5.5 0 0 1 16 3.5v8.662a1 1 0 0 1-.629.928l-7.185 2.874a.5.5 0 0 1-.372 0L.63 13.09a1 1 0 0 1-.63-.928V3.5a.5.5 0 0 1 .314-.464z"/>%0A</svg>');mask-repeat:no-repeat;mask-position:center;mask-size:20px;background-color:color-mix(in srgb,#769ec8,var(--discovery-color));opacity:.7}.page-discovery>.discovery-editor .query-datasets .dataset__type{display:block;font-size:9px;color:color-mix(in srgb,#769ec8 65%,#23303f)}.page-discovery>.discovery-editor .query-datasets .dataset__name{display:block;font-size:12px;color:color-mix(in srgb,#769ec8,var(--discovery-color))}.page-discovery>.discovery-editor .query-datasets:empty:before{content:"No datasets";color:#888}.page-discovery>.discovery-editor .query-graph{position:relative;display:flex;flex-direction:row;flex-wrap:nowrap;gap:30px;margin:1px calc(-1 * var(--discovery-page-padding-right)) 1px calc(-1 * var(--discovery-page-padding-left));padding:1px var(--discovery-page-padding-right) 12px calc(1px + var(--discovery-page-padding-left));overflow-x:auto}.page-discovery>.discovery-editor .query-graph .query-graph-layer{display:flex;flex-direction:column;align-items:flex-start;gap:4px}.page-discovery>.discovery-editor .query-graph .query-graph-layer>.view-button{order:1;margin:0 -1px;padding:3px 12px;font-family:var(--discovery-monospace-font-family);font-size:10px;line-height:1;text-align:center}.page-discovery>.discovery-editor .query-graph .query-graph-node{--color: #8888;display:flex;align-items:center;gap:3px;cursor:pointer;margin-top:calc(var(--pad, 0) * 22px)}.page-discovery>.discovery-editor .query-graph .query-graph-node.target{pointer-events:none}.page-discovery>.discovery-editor .query-graph .query-graph-node>.query-graph-node__dot{position:relative;display:block;width:10px;height:10px;padding:3px;background-color:var(--color);background-clip:content-box;border-radius:50%;transition:.2s ease-in-out;transition-property:box-shadow,background-color;outline:.75px solid var(--discovery-background-color);outline-offset:-3px}.page-discovery>.discovery-editor .query-graph .query-graph-node>.query-graph-node__label{position:relative;z-index:-1;padding:0 6px;--overlap-dot: 20px;padding-left:calc(-1px + var(--overlap-dot));margin-left:calc(-1 * var(--overlap-dot));max-width:180px;min-width:40px;border-radius:9px;border:1px solid transparent;outline:.5px solid color-mix(in srgb,var(--color),transparent 35%);overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-family:var(--discovery-monospace-font-family);font-size:10px;color:color-mix(in srgb,var(--discovery-color),var(--color) 30%);background-color:color-mix(in srgb,var(--discovery-background-color),var(--color) 30%)}.page-discovery>.discovery-editor .query-graph .query-graph-node:is(:hover,.target)>.query-graph-node__label{outline-color:var(--color);outline-width:1px}.page-discovery>.discovery-editor .query-graph .query-graph-node>.query-graph-node__label:is(:empty,:not(.has-label)){color:color-mix(in srgb,#888 65%,var(--color))}.page-discovery>.discovery-editor .query-graph .query-graph-node>.query-graph-node__label:empty:before{content:"<empty query>"}.page-discovery>.discovery-editor .query-graph .query-graph-node[data-state=computing]{--color: light-dark(#b1ac1a, #f6f61cb5)}.page-discovery>.discovery-editor .query-graph .query-graph-node[data-state=computing],.page-discovery>.discovery-editor .query-graph .query-graph-node[data-state=computing]>.query-graph-node__dot,.page-discovery>.discovery-editor .query-graph .query-graph-node[data-state=computing]>.query-graph-node__label{transition-property:background-color,outline-color,border-color,box-shadow,color}.page-discovery>.discovery-editor .query-graph .query-graph-node[data-state=computing]>.query-graph-node__dot:before{content:"";position:absolute;display:block;aspect-ratio:1/1;width:12px;margin:-3px 0 0 -3px;border:2px solid var(--color);border-radius:50%;clip-path:inset(0px 0px 50% 50%);animation:discovery-graph-computing .65s forwards infinite linear,discovery-graph-computing-appear .1s 1 forwards linear}@keyframes discovery-graph-computing{to{rotate:360deg}}@keyframes discovery-graph-computing-appear{0%{opacity:0}99%{opacity:0}to{opacity:1}}@keyframes discovery-graph-await-computing{to{background-color:transparent}}.page-discovery>.discovery-editor .query-graph .query-graph-node[data-state=successful]{--color: #4da32fcf}.page-discovery>.discovery-editor .query-graph .query-graph-node[data-state=successful],.page-discovery>.discovery-editor .query-graph .query-graph-node[data-state=successful]>.query-graph-node__dot,.page-discovery>.discovery-editor .query-graph .query-graph-node[data-state=successful]>.query-graph-node__label{transition:none}.page-discovery>.discovery-editor .query-graph .query-graph-node[data-state=failed]{--color: #d84343}.page-discovery>.discovery-editor .query-graph .query-graph-node[data-state=canceled]>.query-graph-node__dot{--color: #d84343;--color-dash: color-mix(in srgb, var(--discovery-background-color), #888 15%);--dash-start: 7px;--dash-end: 9px;outline:none;background-color:color-mix(in srgb,var(--color),#8888);background-image:linear-gradient(to right,transparent var(--dash-start),var(--color-dash) var(--dash-start),var(--color-dash) var(--dash-end),transparent var(--dash-end));rotate:45deg}.page-discovery>.discovery-editor .query-graph .query-graph-node.target>.query-graph-node__dot{cursor:default}.page-discovery>.discovery-editor .query-graph .query-graph-node.target:not([data-state=computing])>.query-graph-node__dot{box-shadow:0 0 0 2px var(--color) inset,0 0 0 3px var(--discovery-background-color) inset}.page-discovery>.discovery-editor .query-graph .query-graph-node:not(.target):hover>.query-graph-node__dot{box-shadow:0 0 0 2px color-mix(in srgb,var(--color),var(--discovery-color) 35%) inset,0 0 0 3px var(--discovery-background-color) inset;opacity:1;transition:none}.page-discovery>.discovery-editor .query-graph .query-graph-node[data-state=awaiting]>.query-graph-node__dot{background-color:light-dark(#b1ac1a,#f6f61cb5)}.page-discovery>.discovery-editor .query-graph>svg{position:absolute;inset:0;width:100%;height:100%;z-index:-1;pointer-events:none}.page-discovery>.discovery-editor .query-graph>svg :is(line,path){stroke:light-dark(#bbb,#666)}.page-discovery>.discovery-editor .query-graph>svg :is(line,path).current{stroke-width:1.25;stroke:light-dark(#666,#bbb)}.query-graph-actions{display:flex;gap:1px}.query-graph-actions .view-button{padding:0;width:23.5px;margin:0!important;border:none;border-radius:0;background-color:#c0c0c02d;background-repeat:no-repeat;background-position:center}.query-graph-actions .view-button:hover{background-color:#a5a5a54d}.query-graph-actions .view-button.clone{background-image:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48" fill="%23888">%0A    <path d="M 13.5 5 C 11.458 5 9.737 5.82 8.629 7.066 C 7.521 8.313 7 9.917 7 11.5 C 7 13.083 7.521 14.687 8.629 15.934 C 9.439 16.845 10.65 17.394 12 17.695 L 12 30.305 C 10.65 30.606 9.439 31.155 8.629 32.066 C 7.521 33.313 7 34.917 7 36.5 C 7 38.083 7.521 39.687 8.629 40.934 C 9.737 42.18 11.458 43 13.5 43 C 17.072 43 20 40.072 20 36.5 C 20 33.596 18.03 31.21 15.387 30.385 C 15.439 30.313 15.421 30.166 15.486 30.098 C 15.806 29.763 16.385 29.433 17.23 29.168 C 18.921 28.637 21.526 28.421 24.229 28.006 C 26.931 27.591 29.792 26.971 32.111 25.252 C 34.185 23.716 35.591 21.178 35.881 17.719 C 38.775 17.064 41 14.583 41 11.5 C 41 7.928 38.072 5 34.5 5 C 32.458 5 30.737 5.82 29.629 7.066 C 28.521 8.313 28 9.917 28 11.5 C 28 13.083 28.521 14.687 29.629 15.934 C 30.397 16.798 31.531 17.329 32.791 17.652 C 32.54 20.191 31.712 21.815 30.326 22.842 C 28.708 24.041 26.319 24.648 23.771 25.039 C 21.224 25.431 18.579 25.601 16.332 26.307 C 15.869 26.452 15.43 26.645 15 26.855 L 15 17.695 C 17.835 16.997 20 14.541 20 11.5 C 20 7.928 17.072 5 13.5 5 Z" transform="matrix(0, 1, -1, 0, 48, 0)"/>%0A</svg>%0A');background-size:17.5px 17.5px}.query-graph-actions.root .view-button.clone{background-image:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48" fill="%23888">%0A  <ellipse cx="23.652" cy="10.385" rx="6.462" ry="6.462"/>%0A  <ellipse cx="23.617" cy="37.467" rx="6.462" ry="6.462"/>%0A  <rect x="22.18" y="16.245" width="2.959" height="16.643"/>%0A</svg>%0A')}.query-graph-actions .view-button.stash{background-image:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48" fill="%23888">%0A    <path d="M 13.5 5 C 11.458 5 9.737 5.82 8.629 7.066 C 7.521 8.313 7 9.917 7 11.5 C 7 13.083 7.521 14.687 8.629 15.934 C 9.439 16.845 10.65 17.394 12 17.695 L 12 30.305 C 10.65 30.606 9.439 31.155 8.629 32.066 C 7.521 33.313 7 34.917 7 36.5 C 7 38.083 7.521 39.687 8.629 40.934 C 9.737 42.18 11.458 43 13.5 43 C 17.072 43 20 40.072 20 36.5 C 20 33.596 18.03 31.21 15.387 30.385 C 15.439 30.313 15.421 30.166 15.486 30.098 C 15.806 29.763 16.385 29.433 17.23 29.168 C 18.921 28.637 21.526 28.421 24.229 28.006 C 26.931 27.591 29.792 26.971 32.111 25.252 C 34.185 23.716 35.591 21.178 35.881 17.719 C 38.775 17.064 41 14.583 41 11.5 C 41 7.928 38.072 5 34.5 5 C 32.458 5 30.737 5.82 29.629 7.066 C 28.521 8.313 28 9.917 28 11.5 C 28 13.083 28.521 14.687 29.629 15.934 C 30.397 16.798 31.531 17.329 32.791 17.652 C 32.54 20.191 31.712 21.815 30.326 22.842 C 28.708 24.041 26.319 24.648 23.771 25.039 C 21.224 25.431 18.579 25.601 16.332 26.307 C 15.869 26.452 15.43 26.645 15 26.855 L 15 17.695 C 17.835 16.997 20 14.541 20 11.5 C 20 7.928 17.072 5 13.5 5 Z M 34.5 8 C 36.451 8 38 9.549 38 11.5 C 38 13.42 36.493 14.935 34.586 14.982 C 34.527 14.979 34.467 14.979 34.408 14.982 C 33.182 14.958 32.413 14.551 31.871 13.941 C 31.313 13.313 31 12.417 31 11.5 C 31 10.583 31.313 9.687 31.871 9.059 C 32.43 8.43 33.208 8 34.5 8 Z" transform="matrix(0, 1, -1, 0, 48, 0)"/>%0A</svg>%0A');background-size:17.5px 17.5px}.query-graph-actions.root .view-button.stash{background-image:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48" fill="%23888">%0A  <path d="M 24.5 5 C 22.458 5 20.737 5.82 19.629 7.066 C 18.521 8.313 18 9.917 18 11.5 C 18 13.083 18.521 14.687 19.629 15.934 C 20.439 16.845 21.65 17.394 23 17.695 L 23 30.305 C 21.65 30.606 20.439 31.155 19.629 32.066 C 18.521 33.313 18 34.917 18 36.5 C 18 38.083 18.521 39.687 19.629 40.934 C 20.737 42.18 22.458 43 24.5 43 C 28.072 43 31 40.072 31 36.5 C 31 33.596 28.671 31.193 26.028 30.368 C 26.08 30.296 26 17.695 26 17.695 C 28.835 16.997 31 14.541 31 11.5 C 31 7.928 28.072 5 24.5 5 Z M 24.5 8 C 26.451 8 28 9.549 28 11.5 C 28 13.42 26.493 14.935 24.586 14.982 C 24.527 14.979 24.467 14.979 24.408 14.982 C 23.182 14.958 22.413 14.551 21.871 13.941 C 21.313 13.313 21 12.417 21 11.5 C 21 10.583 21.313 9.687 21.871 9.059 C 22.43 8.43 23.208 8 24.5 8 Z" style="transform-origin: 24.5px 24px;" transform="matrix(-1, 0, 0, -1, 0, 0)"/>%0A</svg>%0A')}.query-graph-actions .view-button.subquery{background-image:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48" fill="%23888">%0A    <path d="M 24.5 5 C 22.458 5 20.737 5.82 19.629 7.066 C 18.521 8.313 18 9.917 18 11.5 C 18 13.083 18.521 14.687 19.629 15.934 C 20.439 16.845 21.65 17.394 23 17.695 L 23 30.305 C 21.65 30.606 20.439 31.155 19.629 32.066 C 18.521 33.313 18 34.917 18 36.5 C 18 38.083 18.521 39.687 19.629 40.934 C 20.737 42.18 22.458 43 24.5 43 C 28.072 43 31 40.072 31 36.5 C 31 33.596 28.671 31.193 26.028 30.368 C 26.08 30.296 26 17.695 26 17.695 C 28.835 16.997 31 14.541 31 11.5 C 31 7.928 28.072 5 24.5 5 Z M 24.5 8 C 26.451 8 28 9.549 28 11.5 C 28 13.42 26.493 14.935 24.586 14.982 C 24.527 14.979 24.467 14.979 24.408 14.982 C 23.182 14.958 22.413 14.551 21.871 13.941 C 21.313 13.313 21 12.417 21 11.5 C 21 10.583 21.313 9.687 21.871 9.059 C 22.43 8.43 23.208 8 24.5 8 Z" transform="matrix(0, 1, -1, 0, 48.499998, -0.499998)"/>%0A</svg>%0A');background-size:18.5px 18.5px}.query-graph-actions .view-button.delete{background-image:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="%23888">%0A  <path d="M6.5 1h3a.5.5 0 0 1 .5.5v1H6v-1a.5.5 0 0 1 .5-.5ZM11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3A1.5 1.5 0 0 0 5 1.5v1H2.506a.58.58 0 0 0-.01 0H1.5a.5.5 0 0 0 0 1h.538l.853 10.66A2 2 0 0 0 4.885 16h6.23a2 2 0 0 0 1.994-1.84l.853-10.66h.538a.5.5 0 0 0 0-1h-.995a.59.59 0 0 0-.01 0H11Zm1.958 1-.846 10.58a1 1 0 0 1-.997.92h-6.23a1 1 0 0 1-.997-.92L3.042 3.5h9.916Zm-7.487 1a.5.5 0 0 1 .528.47l.5 8.5a.5.5 0 0 1-.998.06L5 5.03a.5.5 0 0 1 .47-.53Zm5.058 0a.5.5 0 0 1 .47.53l-.5 8.5a.5.5 0 1 1-.998-.06l.5-8.5a.5.5 0 0 1 .528-.47ZM8 4.5a.5.5 0 0 1 .5.5v8.5a.5.5 0 0 1-1 0V5a.5.5 0 0 1 .5-.5Z"/>%0A</svg>%0A');background-size:12.5px 12.5px}.discovery-buildin-view-tooltip.hint-tooltip{font-size:12px;padding:1px 6px}.discovery-buildin-view-tooltip.hint-tooltip>.view-markdown{padding:2px 4px}.query-graph-tooltip{margin:4px}.query-graph-tooltip .view-source{margin:-5px -10px;background:none}.query-graph-tooltip>.view-badge{vertical-align:top;padding:4px 8px!important;margin:0 -5px!important;font-size:12px}.page-discovery>.discovery-editor .query-path{opacity:.35}.page-discovery>.discovery-editor .query-path .query{background:#eee;border:solid #888;border-width:1px 1px 0 1px;padding:2px 8px 6px;margin-bottom:-4px;border-radius:4px 4px 0 0;font-family:var(--discovery-monospace-font-family);font-size:10px;line-height:16px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;cursor:pointer}.discovery-root-darkmode .page-discovery>.discovery-editor .query-path .query{background:#333}.page-discovery>.discovery-editor .query-path .query:last-child{padding-bottom:7px}.page-discovery>.discovery-editor .query-path .query:empty:before{content:"<empty query>"}.page-discovery>.discovery-editor .query-path .query:hover{background:#ccc}.discovery-root-darkmode .page-discovery>.discovery-editor .query-path .query:hover{background:#444}.page-discovery>.discovery-editor .query-editor{position:relative}.page-discovery>.discovery-editor .query-editor>.discovery-view-editor>.discovery-view-editor__input-panel{display:grid;grid-template-areas:"actions input engine" "details details details";grid-template-columns:auto 1fr auto;margin:1px 0;padding:0 1px;background-color:var(--discovery-background-color);border-radius:1px 1px 0 0;gap:0 1px}.page-discovery>.discovery-editor .query-editor>.discovery-view-editor>.discovery-view-editor__input-panel.details-expanded{gap:1px;border-bottom:1px solid var(--editor-border-color, #888)}.page-discovery>.discovery-editor .query-editor>.discovery-view-editor .query-engine{grid-area:engine;background-color:#c0c0c02d;padding:1px 8px 3px;font-size:12px;color:var(--discovery-color);text-decoration:none}.page-discovery>.discovery-editor .query-editor>.discovery-view-editor .query-engine:hover{background-color:#a5a5a54d}.page-discovery>.discovery-editor .query-editor>.discovery-view-editor .query-engine:before{content:"Syntax: ";color:#888}.page-discovery>.discovery-editor .query-editor>.discovery-view-editor .query-input{grid-area:input;display:flex;gap:1px;font-size:12px}.page-discovery>.discovery-editor .query-editor>.discovery-view-editor .query-input-data,.page-discovery>.discovery-editor .query-editor>.discovery-view-editor .query-input-context{flex:1;padding:1px 8px 3px;background-color:#c0c0c02d;cursor:pointer}.page-discovery>.discovery-editor .query-editor>.discovery-view-editor .query-input-data:hover,.page-discovery>.discovery-editor .query-editor>.discovery-view-editor .query-input-context:hover{background-color:#a5a5a54d!important}.page-discovery>.discovery-editor .query-editor>.discovery-view-editor .query-input[data-details=data] .query-input-data,.page-discovery>.discovery-editor .query-editor>.discovery-view-editor .query-input[data-details=context] .query-input-context{margin-bottom:-1px;background-color:#cdcdcd1a;background-clip:padding-box;border-bottom:1px solid #cdcdcd1a}.page-discovery>.discovery-editor .query-editor>.discovery-view-editor .query-input-variable{position:relative;padding-right:14px;color:var(--discovery-fmt-variable-color);font-family:var(--discovery-monospace-font-family)}.page-discovery>.discovery-editor .query-editor>.discovery-view-editor .num-delim-wrapper .num-delim{padding-left:1.25px}.page-discovery>.discovery-editor .query-editor>.discovery-view-editor .query-input-variable:before{content:"";background:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">%0A    <path fill="%23888" d="M 3.71875 7.78125 L 2.28125 9.21875 L 11.28125 18.21875 L 12 18.90625 L 12.71875 18.21875 L 21.71875 9.21875 L 20.28125 7.78125 L 12 16.0625 Z "/>%0A</svg>%0A') no-repeat center;background-size:12px;transition:transform .15s ease-in;height:100%;aspect-ratio:1/1;position:absolute;right:0;top:0;transform:rotate(-90deg);margin-right:2px}.page-discovery>.discovery-editor .query-editor>.discovery-view-editor .query-input[data-details=data] .query-input-data .query-input-variable:before,.page-discovery>.discovery-editor .query-editor>.discovery-view-editor .query-input[data-details=context] .query-input-context .query-input-variable:before{transform:rotate(0)}.page-discovery>.discovery-editor .query-editor>.discovery-view-editor .query-input-variable:after{content:" (" attr(data-name) ") ";color:#888;font-family:var(--discovery-font-family)}.page-discovery>.discovery-editor .query-editor>.discovery-view-editor .query-input-details{display:none;grid-area:details;max-height:max(30vh,150px);overflow:auto}.page-discovery>.discovery-editor .query-editor>.discovery-view-editor .discovery-view-editor__input-panel.details-expanded .query-input-details{display:block;margin-bottom:1px}.page-discovery>.discovery-editor .query-editor>.discovery-view-editor .query-input-details>.view-struct{margin:0}.page-discovery>.discovery-editor .query-editor>.discovery-view-editor>.discovery-view-editor__output-panel{display:grid;grid-template-areas:"result buttons";grid-template-columns:1fr auto;gap:1px;margin:1px;overflow:hidden;border-radius:0 0 1px 1px}.page-discovery>.discovery-editor .query-editor>.discovery-view-editor>.discovery-view-editor__output-panel.details-expanded{grid-template-areas:"result buttons" "details details"}.page-discovery>.discovery-editor .query-editor>.discovery-view-editor>.discovery-view-editor__output-panel>.buttons{grid-area:buttons;display:flex;gap:1px}.page-discovery>.discovery-editor .query-editor>.discovery-view-editor>.discovery-view-editor__output-panel>.buttons .view-button{font-size:12px;padding:3px 16px 4px;border-radius:0}.page-discovery>.discovery-editor .query-editor>.discovery-view-editor>.discovery-view-editor__output-panel>.buttons .view-checkbox{padding:2px 6px;align-content:center;background-color:#c0c0c02d;font-size:12px;cursor:pointer}.page-discovery>.discovery-editor .query-editor>.discovery-view-editor>.discovery-view-editor__output-panel>.buttons .view-checkbox input{display:none}.page-discovery>.discovery-editor .query-editor>.discovery-view-editor>.discovery-view-editor__output-panel>.buttons .view-checkbox .view-checkbox__label{margin:0}.page-discovery>.discovery-editor .query-editor>.discovery-view-editor>.discovery-view-editor__output-panel>.buttons .view-checkbox .view-checkbox__label{content:"";display:block;width:16px;aspect-ratio:1;overflow:hidden;color:transparent;background-color:light-dark(#c8c8c8,#6b6b6b);mask:no-repeat center;mask-size:16px}.page-discovery>.discovery-editor .query-editor>.discovery-view-editor>.discovery-view-editor__output-panel>.buttons .view-checkbox.suggestions .view-checkbox__label{mask-image:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 4 172 176">%0A    <path fill="%23888" stroke="%23888" stroke-width="1.5" d="M25.86719,12.84961l-7.64257,7.64257l3.82128,3.7793l7.60059,7.60058l3.77929,3.82129l7.64258,-7.64258l-3.82129,-3.77929l-7.60058,-7.60059zM146.13281,12.84961l-3.77929,3.82128l-11.37989,11.37989l7.60058,7.64258l3.7793,-3.82129l11.37987,-11.37989zM86,21.5c-23.68359,0 -43,19.31641 -43,43c0,14.86524 6.50879,23.43165 11.75781,30.73828c5.29102,7.26465 9.74219,13.4375 9.74219,28.38672v10.75c0,6.97071 4.57715,12.93359 10.83399,15.11719c-0.042,0.33594 -0.08399,0.67188 -0.08399,1.00781c0,5.9209 4.8291,10.75 10.75,10.75c5.9209,0 10.75,-4.8291 10.75,-10.75c0,-0.33594 0,-0.67187 -0.04199,-1.00781c6.25683,-2.22558 10.79199,-8.14648 10.79199,-15.11719v-10.75c0,-14.94922 4.45118,-21.12207 9.74219,-28.38672c5.24902,-7.30664 11.75781,-15.87304 11.75781,-30.73828c0,-23.68359 -19.31641,-43 -43,-43zM86,32.25c17.88868,0 32.25,14.36133 32.25,32.25c0,12.00977 -4.24121,16.88086 -9.74219,24.35547c-4.74511,6.59277 -9.44824,15.87305 -10.75,29.39453h-23.51562c-1.30176,-13.52148 -6.00489,-22.80176 -10.75,-29.39453c-5.50098,-7.4746 -9.74219,-12.3457 -9.74219,-24.35547c0,-17.88867 14.36133,-32.25 32.25,-32.25zM10.75,64.5v10.75h21.5v-10.75zM139.75,64.5v10.75h21.5v-10.75zM33.42578,104.05665l-3.77929,3.82128l-7.60059,7.60059l-3.82128,3.77929l7.64257,7.60058l11.37989,-11.37987l3.82129,-3.7793zM138.57422,104.05665l-7.60058,7.64257l15.15918,15.15918l7.60058,-7.60058l-11.37987,-11.37989zM75.25,129h21.5v5.375c0,3.02344 -2.35156,5.375 -5.375,5.375h-10.75c-3.02344,0 -5.375,-2.35156 -5.375,-5.375z" />%0A</svg>%0A')}.page-discovery>.discovery-editor .query-editor>.discovery-view-editor>.discovery-view-editor__output-panel>.buttons .view-checkbox.live-update .view-checkbox__label{mask-image:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="-16 0 172 156">%0A    <path fill="%23888" stroke="%23888" stroke-width="1.5" d="M32.08203,10.75l-21.5,86h29.05859l-17.46875,53.75h23.89355l50.68457,-86h-32.37598l21.5,-53.75zM127.65625,10.75l-20.15625,53.75h12.09375l4.03125,-10.75h21.5l4.03125,10.75h12.09375l-20.15625,-53.75zM40.48047,21.5h29.52051l-21.5,53.75h29.43652l-38.00293,64.5h-2.98145l17.46875,-53.75h-30.06641zM134.375,25.11133l6.71875,17.88867h-13.4375z" />%0A</svg>%0A')}.page-discovery>.discovery-editor .query-editor>.discovery-view-editor>.discovery-view-editor__output-panel>.buttons .view-checkbox :checked+.view-checkbox__label{background-color:light-dark(rgba(0,141,255,.75),#b8b8b8)}.page-discovery>.discovery-editor .query-editor>.discovery-view-editor>.discovery-view-editor__output-panel>.buttons .view-checkbox:hover{background-color:#a5a5a54d}.page-discovery>.discovery-editor .data-query-result .query-result-data{display:flex;flex:1;padding:2px 8px;background-color:#c0c0c02d;font-size:12px;cursor:pointer}.page-discovery>.discovery-editor .data-query-result .query-result-data:hover{background-color:#a5a5a54d}.page-discovery>.discovery-editor .data-query-result .query-result-data>.query-output-message{flex:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.page-discovery>.discovery-editor .data-query-result .query-result-data>.query-output-prelude{color:#888;position:relative;display:inline-block;padding-right:20px}.page-discovery>.discovery-editor .data-query-result .query-result-data>.query-output-prelude:before{content:"";background:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">%0A    <path fill="%23888" d="M 3.71875 7.78125 L 2.28125 9.21875 L 11.28125 18.21875 L 12 18.90625 L 12.71875 18.21875 L 21.71875 9.21875 L 20.28125 7.78125 L 12 16.0625 Z "/>%0A</svg>%0A') no-repeat center;background-size:12px;transition:transform .15s ease-in;height:100%;aspect-ratio:1/1;position:absolute;right:0;top:0;transform:rotate(-90deg);margin-right:2px}.page-discovery>.discovery-editor .data-query-result .query-result-data.error{background-color:#ff2d2836}.page-discovery>.discovery-editor .discovery-view-editor__output-panel.details-expanded .data-query-result .query-result-data>.query-output-prelude:before{transform:rotate(0)}.page-discovery>.discovery-editor .data-query-result{grid-area:result;overflow:hidden}.page-discovery>.discovery-editor .data-query-result>*{overflow:hidden}.page-discovery>.discovery-editor .query-editor>.discovery-view-editor>.discovery-view-editor__output-panel .data-query-result-details{grid-area:details;max-height:max(50vh,200px);overflow:auto}.page-discovery>.discovery-editor .query-editor>.discovery-view-editor>.discovery-view-editor__output-panel:not(.details-expanded) .data-query-result-details{display:none}.page-discovery>.discovery-editor .query-editor>.discovery-view-editor>.discovery-view-editor__output-panel .data-query-result-details>.view-struct{margin:0}.page-discovery>.discovery-editor .query-editor>.discovery-view-editor .query-input-details>.state-message,.page-discovery>.discovery-editor .query-editor>.discovery-view-editor>.discovery-view-editor__output-panel .data-query-result-details .state-message{padding:4px 8px;color:#888;background-color:#cdcdcd1a;font-size:12px}.page-discovery>.discovery-editor .view-editor-form{margin:12px calc(-1 * var(--discovery-page-padding-right)) 12px calc(-1 * var(--discovery-page-padding-left))}.page-discovery>.discovery-editor .view-editor-form-header{display:flex;flex-wrap:wrap-reverse;margin-right:var(--discovery-page-padding-right)}.page-discovery>.discovery-editor .view-editor-form-header-links{flex:1;margin:2px 0 0 10px;text-align:right;font-size:12px}.page-discovery>.discovery-editor .discovery-editor-tabs.view-mode:before{display:inline-block;content:"View:"}.page-discovery>.discovery-editor .discovery-editor-tab[data-mode=default]{border-top-left-radius:4px}.page-discovery>.discovery-editor .view-editor-form:not(.hide-editor) .discovery-editor-tab[data-mode=default]{border-bottom-left-radius:0}.page-discovery>.discovery-editor .discovery-editor-tab[data-mode=custom]{cursor:pointer}.page-discovery>.discovery-editor .view-editor-form:not(.hide-editor) .discovery-editor-tab[data-mode=custom]{border-bottom-right-radius:0;padding-bottom:3px}.page-discovery>.discovery-editor .discovery-editor-tabs .discovery-editor-tab:not(.active) .show-view-editor-toggle{pointer-events:none}.page-discovery>.discovery-editor .discovery-editor-tabs .show-view-editor-toggle{display:inline-block;vertical-align:middle;margin:-3px -9px -7px 1px;cursor:pointer}.page-discovery>.discovery-editor .discovery-editor-tabs .show-view-editor-toggle:before{content:"";display:inline-block;width:20px;aspect-ratio:1;mask:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16">%0A  <path stroke="%23888" stroke-width=".5" d="M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2z"/>%0A  <path stroke="%23888" stroke-width=".5" d="M4 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 4 8"/>%0A</svg>%0A') center no-repeat;mask-size:12px;background-color:light-dark(#aaa,#aaac)}.page-discovery>.discovery-editor .discovery-editor-tabs .discovery-editor-tab.active:hover .show-view-editor-toggle:before{background-color:#fff;background-color:light-dark(rgba(0,141,255,1),#ccc)}.page-discovery>.discovery-editor .view-editor-form.hide-editor .discovery-editor-tabs .show-view-editor-toggle:before{mask-image:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16">%0A  <path stroke="%23888" stroke-width=".5" d="M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2z"/>%0A  <path stroke="%23888" stroke-width=".5" d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4"/>%0A</svg>%0A')}.page-discovery>.discovery-editor .discovery-editor-tabs.presets{margin-left:3ex}.page-discovery>.discovery-editor .discovery-editor-tabs.presets:before{content:"View presets:"}.page-discovery>.discovery-editor .discovery-editor-tabs.presets .discovery-editor-tab:first-child{border-bottom-left-radius:4px}.page-discovery>.discovery-editor .view-editor-form.hide-editor .view-editor-form-content{display:none}.page-discovery>.discovery-editor .view-editor-form-content{padding:8px var(--discovery-page-padding-right) 8px var(--discovery-page-padding-left);margin-bottom:1px;background-color:#6cbcf126}.page-discovery>.discovery-editor .view-editor-form-content .formatting{position:absolute;left:5px;width:30px;height:30px;font-size:0;background-image:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 172 172">%0A    <path fill="%23888" d="M26.875,21.5c-8.84221,0 -16.125,7.28279 -16.125,16.125v96.75c0,8.84221 7.28279,16.125 16.125,16.125h37.625v-10.75h-37.625c-3.02579,0 -5.375,-2.34921 -5.375,-5.375v-96.75c0,-3.02579 2.34921,-5.375 5.375,-5.375h118.25c3.02579,0 5.375,2.34921 5.375,5.375v26.875h10.75v-26.875c0,-8.84221 -7.28279,-16.125 -16.125,-16.125zM78.35742,43l-24.37646,83.54345l-0.23096,2.45655h10.68701l6.27783,-21.5h15.09619l10.75,-10.75h-22.69678l12.19873,-41.76123l11.73682,40.52246l8.6084,-8.6084l-12.63965,-43.90283zM137.46142,75.29199c-2.61253,0 -5.21878,0.97757 -7.18066,2.93945l-52.04932,52.07031c-3.92375,3.92375 -3.92375,10.43757 0,14.36132l24.35547,24.35547c3.92375,3.92375 10.43757,3.92375 14.36132,0l52.04932,-52.04932c3.94035,-3.91783 3.94035,-10.4645 0,-14.38232l-24.33447,-24.35547c-1.96187,-1.96188 -4.58912,-2.93945 -7.20166,-2.93945zM137.46142,86.25195l23.53662,23.53663l-21.81493,21.79394l-23.51562,-23.51563zM108.06689,115.66748l23.51563,23.51562l-21.81493,21.81493l-23.51563,-23.51562z"/>%0A</svg>%0A');background-repeat:no-repeat;background-size:20px;background-position:center;border-color:#1562944d}.page-discovery>.discovery-editor .view-editor-form-content .view-expand{width:100%;margin-top:5px}.page-discovery>.discovery-editor .view-editor-form-content .view-expand .header{background:none}.page-discovery>.discovery-editor .view-editor-form-content .view-expand .header:hover{background:#0000000d}.page-discovery>.discovery-editor .view-editor-form-content .view-editor-view-list{display:none;padding:15px 8px;font-size:12px;color:#aaa;column-count:8;column-width:150px;column-gap:20px;margin-right:-190px}.page-discovery>.discovery-editor .view-editor-form-content .view-editor-view-list.visible{display:block}.page-discovery>.discovery-editor .view-editor-form-content .view-editor-view-list .item:not([href]){color:#888}.discovery-view-popup.view-editor-view-list-hint{padding:20px;min-width:640px;min-height:100px}.discovery-view-popup.view-editor-view-list-hint>.discovery-view-usage>.view-header:first-child{font-size:16px;background:#b4b4b433;margin:-36px -20px 0;padding:6px 20px;line-height:24px}.page-discovery{padding-top:20px!important}.discovery:not([data-dzen]) .page-discovery>.discovery-render-content{min-height:calc(100vh - 121px)}.page-discovery>.discovery-editor .discovery-error,.page-discovery>.discovery-render-content>.discovery-error{display:block;overflow:hidden;border-left:3px solid rgba(255,0,0,.8);background:#e14b4b33;background-clip:padding-box;padding:8px 12px;font-size:12px;white-space:pre-wrap;font-family:var(--discovery-monospace-font-family);font-size:11px}.page-discovery>.discovery-editor .discovery-error:before,.page-discovery>.discovery-render-content>.discovery-error:before{display:block;margin-bottom:.5em;font-size:16px}.page-discovery>.discovery-editor .query-error:before{content:"Query error"}.page-discovery>.discovery-render-content>.render-error:before{content:"Render error"}.discovery-view-usage{margin-top:16px}.discovery-view-usage>.view-header:first-child{margin-top:0;font-family:Helvetica Neue,Helvetica,Tahoma,Arial,sans-serif;font-weight:200}.discovery-view-usage .usage-render{position:relative;z-index:0;margin:15px 0 10px;padding:30px 16px 16px;border:solid rgba(170,170,170,.2);border-width:2px;border-radius:3px}.discovery-view-usage .usage-render[data-render-type=text]>.view-text-render{overflow-x:auto;padding:16px;margin:-16px}.discovery-view-usage .usage-render.demo-fixed{--image-preview-bg-color: rgba(119, 119, 119, .125);margin-top:29px;padding:var(--discovery-page-padding-top) var(--discovery-page-padding-right) var(--discovery-page-padding-bottom) var(--discovery-page-padding-left);border-top-left-radius:0;background-clip:padding-box;background-image:linear-gradient(45deg,var(--image-preview-bg-color) 25%,transparent 0,transparent 75%,var(--image-preview-bg-color) 75%),linear-gradient(45deg,var(--image-preview-bg-color) 25%,transparent 0,transparent 75%,var(--image-preview-bg-color) 75%);background-position:0 0,10px 10px;background-size:20px 20px}.discovery-view-usage .usage-render:before{content:"DEMO";position:absolute;top:0;left:0;padding:2px 24px 3px;font-size:9px;line-height:1;background-color:#aaa3;border-bottom-right-radius:4px}.discovery-view-usage .usage-render.demo-fixed:before{top:-16px;left:-2px;padding-left:26px;border-radius:4px 4px 0 0}.discovery-view-usage .usage-section>.view-h2{margin-top:1.2em;margin-bottom:.5em}.discovery-view-usage .usage-section>.view-h2 .view-header__anchor{scroll-margin:.5em}.discovery-view-usage .view-tabs.usage-sources .view-tabs-buttons:before{display:none}.discovery-view-usage .view-tabs.usage-sources .view-tabs-content{overflow:visible;border:1px solid rgba(170,170,170,.4);border-top:none;border-radius:0 0 3px 3px;padding:2px}.discovery-view-usage .view-tabs.usage-sources .view-tabs-content .view-expand{margin-bottom:1px}.discovery-view-usage .view-tabs.usage-sources .view-tabs-content .view-expand>.header{--discovery-view-expand-trigger-size: 32px}.discovery-view-usage .view-tabs.usage-sources .view-tabs-content .view-expand .view-struct.struct-expand{padding-left:28px}.discovery-view-usage .view-tabs.usage-sources .view-tabs-content .view-expand .view-struct:not(.struct-expand){border-left:20px solid rgba(205,205,205,.1)}.discovery-view-usage .view-tabs.usage-sources .view-source{background:#9b9b9b1a;border-top-left-radius:0;border-top-right-radius:0}.discovery-view-usage .view-tabs.usage-sources .view-source.first-tab{border-top-left-radius:0}.discovery-view-usage .view-tabs.usage-sources .view-source .spotlight{padding:3px 2px 2px;margin:0 -2px}.discovery-root-darkmode .discovery-view-usage .view-tabs.usage-sources .view-source .spotlight{background:#92926654;color:#b6aa6a}.page-views-showcase{flex:1;display:flex;flex-direction:row;border:1px solid rgba(170,170,170,.4);margin:35px 40px 20px;padding:0!important;box-sizing:border-box;overflow:hidden;border-radius:3px;background-color:#fffc;transition-property:background-color;transition-duration:.25s;transition-timing-function:ease-in}.discovery-root-darkmode .page-views-showcase{background-color:#242424cc}.page-views-showcase>.sidebar{display:flex;flex-direction:column;width:220px;border-right:1px solid rgba(170,170,170,.2)}.page-views-showcase>.sidebar>.sidebar-header{display:flex;align-items:stretch;margin:1px;gap:1px}.page-views-showcase>.sidebar>.sidebar-header .index-page-link{display:block;flex:1;padding:3px 11px;color:var(--discovery-color);text-decoration:none;font-size:13px;text-align:center}.page-views-showcase>.sidebar>.sidebar-header .index-page-link:not(.view-selected){background-color:#bd78ff40;cursor:default}.page-views-showcase>.sidebar>.sidebar-header .index-page-link.view-selected:hover{background-color:#83838340;cursor:pointer}.page-views-showcase>.sidebar>.sidebar-header .index-page-link:before{content:"\2191  ";font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Tahoma,sans-serif}.page-views-showcase>.sidebar>.sidebar-header .index-page-link:not(.view-selected):before{content:""}.page-views-showcase>.sidebar>.sidebar-header .render-toggle{border-left:1px solid rgba(170,170,170,.2);padding-left:8px;font-size:11px}.page-views-showcase>.sidebar>.sidebar-header .render-toggle .view-toggle{font-size:11px;border-radius:0;padding-top:5px;padding-bottom:5px}.page-views-showcase>.sidebar .view-content-filter{flex:1;overflow:hidden;display:flex;flex-direction:column}.page-views-showcase>.sidebar .view-content-filter>.view-input{margin:0}.page-views-showcase>.sidebar .view-content-filter>.view-input input{border:none;border-top:1px solid rgba(170,170,170,.2);border-bottom:1px solid rgba(170,170,170,.2);border-radius:0;box-shadow:none}.page-views-showcase>.sidebar .view-content-filter .view-block{flex:1;overflow:hidden;overflow-y:scroll;padding:1px}.page-views-showcase>.sidebar .view-menu-item:not(.disabled){color:var(--discovery-link-color, #0099DD)}.page-views-showcase>.sidebar .view-menu-item.selected{background-color:#54768b4d}.page-views-showcase>.sidebar .view-menu-item:not(.selected):hover{color:var(--discovery-link-hover-color, #0077BB)}.page-views-showcase>.content{flex:1;padding:0 24px 20px;overflow:hidden;overflow-y:scroll}.page-views-showcase>.content:not(:has(>.discovery-view-usage>.view-h1:first-child,>.view-h1:first-child)){padding-top:20px}.page-views-showcase>.content>.view-h1{margin-top:16px;font-family:Helvetica Neue,Helvetica,Tahoma,Arial,sans-serif;font-weight:200}.page-views-showcase .view-markdown .view-render{display:flex;gap:2px;margin:8px 0}.page-views-showcase .view-markdown .view-render__source:before,.page-views-showcase .view-markdown .view-render__result:before{content:"Discovery.js view";display:block;border-bottom:1px solid var(--discovery-background-color);background-color:color-mix(in srgb,currentcolor 15%,var(--discovery-background-color));padding:4px 8px}.page-views-showcase .view-markdown .view-render__result:before{content:"Render result"}.page-views-showcase .view-markdown .view-render__source{display:flex;flex-direction:column;max-width:49%;width:510px}.page-views-showcase .view-markdown .view-render__source>.view-source{flex:1}.page-views-showcase .view-markdown .view-render__result{display:flex;flex-direction:column;flex:1}.page-views-showcase .view-markdown .view-render__result>pre{padding:8px 16px;flex:1}.discovery-view-inspector-overlay{position:fixed;inset:0;background-color:#0000ff1a;z-index:2000}.discovery-view-inspector-overlay .cancel-hint{content:"Inspection mode is enabled. Press Esc to cancel";position:absolute;z-index:10;top:4px;left:50%;transform:translate(-50%);padding:2px 10px;font-size:12px;border-radius:25px;background-color:var(--discovery-background-color);opacity:.8}.discovery-view-inspector-overlay .cancel-hint:before{content:"Inspection mode is enabled. Press Esc to cancel"}.discovery-view-inspector-overlay .cancel-hint[data-alt]:before{content:"Inspection mode is enabled. Unhold Alt to cancel"}.discovery-view-inspector-overlay .overlay{position:absolute;transition:background-color 15ms 25ms;box-sizing:border-box}.discovery-view-inspector-overlay .overlay.view-root:not([data-inspectable]){pointer-events:none}.discovery-view-inspector-overlay .overlay:not(.view-root){pointer-events:auto}.discovery-view-inspector-overlay .overlay.hovered{background-color:rgba(0,255,0,var(--discovery-background-alpha));outline:1px dashed rgba(0,128,0,.4);outline-offset:-1px;--discovery-background-alpha: .3}.discovery-view-inspector-overlay .overlay.view-root.hovered{background-color:rgba(106,0,204,var(--discovery-background-alpha));outline:1px dashed rgba(54,0,102,.4)}.discovery-root-darkmode .discovery-view-inspector-overlay .overlay.hovered{outline-color:#80c880a6;--discovery-background-alpha: .2}.discovery-root-darkmode .discovery-view-inspector-overlay .overlay.view-root.hovered{outline-color:#6f4a98a6}@supports (backdrop-filter: grayscale(1)) or (-webkit-backdrop-filter: grayscale(1)){.discovery-view-inspector-overlay .overlay.hovered{--discovery-background-alpha: .25;-webkit-backdrop-filter:grayscale(1);backdrop-filter:grayscale(1)}}.discovery-inspect-details-popup{pointer-events:none;z-index:2001;max-width:650px!important;display:grid;grid-template-areas:"sidebar toolbar toolbar" "sidebar props-config data-context";grid-template-rows:auto 1fr;grid-template-columns:0px 4fr 6fr;gap:1px;padding:1px;border-radius:2px;background:rgba(255,255,255,var(--discovery-background-alpha));--discovery-background-alpha: .95;--discovery-mate-background: rgba(240, 240, 240, .5);--discovery-link-color: #333;--discovery-link-underline-color: #0002;--discovery-view-root-highlight-color: rgba(106, 0, 204, 25%)}.discovery-root-darkmode .discovery-inspect-details-popup{background:rgba(36,36,36,var(--discovery-background-alpha));--discovery-background-alpha: .92;--discovery-mate-background: rgba(52, 52, 52, .5);--discovery-link-color: #aaa;--discovery-link-underline-color: #aaa2;--discovery-view-root-highlight-color: rgba(189, 120, 255, 25%)}.discovery-inspect-details-popup.frozen{pointer-events:all;inset:32px 20px 20px!important;max-height:none!important;max-width:none!important;transition:.125s ease;transition-property:top,left,right,bottom,grid-template-rows,grid-template-columns;grid-template-rows:auto minmax(20%,1fr);grid-template-columns:minmax(290px,25%) 4fr 6fr}.discovery-inspect-details-popup:not(.frozen){padding-bottom:21px}.discovery-inspect-details-popup:not(.frozen):after{content:"Cmd+Click (Mac) or Ctrl+Click (Win) opens the view description in a documentation";position:absolute;bottom:0;left:0;right:0;padding:.4em 1ex;text-align:center;white-space:nowrap;font-size:11px;line-height:1;border-top:1px solid var(--discovery-background-color);background-color:color-mix(in srgb,var(--discovery-background-color),light-dark(#000,#fff) 10%);color:#888}@supports (backdrop-filter: blur(5px)) or (-webkit-backdrop-filter: blur(5px)){.discovery-inspect-details-popup{--discovery-background-alpha: .65;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px)}.discovery-root-darkmode .discovery-inspect-details-popup{--discovery-background-alpha: .4}}.discovery-inspect-details-popup .sidebar{grid-area:sidebar;overflow:auto;overscroll-behavior:contain;padding:4px;background-color:var(--discovery-mate-background)}.discovery-inspect-details-popup .sidebar .view-tree-leaf-content{white-space:nowrap;padding-right:12px}.discovery-inspect-details-popup .sidebar .view-root{display:inline-block;margin-bottom:1px;margin-left:-6px;border:4px solid transparent;border-width:1px 8px;background-color:var(--discovery-view-root-highlight-color)}.discovery-inspect-details-popup .sidebar .selected{background-color:#4ebbff4d;box-shadow:0 0 0 3px #4ebbff4d;display:inline}.discovery-inspect-details-popup .sidebar .skipped{text-decoration:line-through;font-style:italic;opacity:.65}.discovery-inspect-details-popup .sidebar>.view-tree-leaf:only-child{margin:-4px 0 0 -4px;grid-template-columns:6px auto;background:none}.discovery-inspect-details-popup .sidebar>.view-tree-leaf:only-child>.view-tree-leaf-toggle{display:none}.discovery-inspect-details-popup .sidebar .view-badge{vertical-align:top;margin-left:1ex;margin-right:0;border-radius:0;font-size:9px}.discovery-inspect-details-popup .sidebar .view-badge+.view-badge{margin-left:1px}.discovery-inspect-details-popup .toolbar{grid-area:toolbar;display:flex;gap:1px}.discovery-inspect-details-popup .stack-view-chain{flex:1;gap:1px;background-color:var(--discovery-mate-background)}.discovery-inspect-details-popup .stack-view-chain .view-toggle{border-radius:0;margin:0;padding:5px 8px;line-height:16px}.discovery-inspect-details-popup .stack-view-chain .skipped{text-decoration:line-through;font-style:italic;opacity:.65}.discovery-inspect-details-popup .stack-view-chain .view-root:not(.checked):not(:hover){background-color:var(--discovery-view-root-highlight-color)}.discovery-inspect-details-popup .stack-view-chain .data-flow-changes{position:relative;vertical-align:middle;display:inline-flex;gap:2px;margin:-5px -2px -2px 4px;font-size:7px;line-height:12px;text-align:center;text-transform:uppercase}.discovery-inspect-details-popup .stack-view-chain .data-flow-changes>*{width:12px;height:12px;border-radius:8px;overflow:hidden;box-shadow:1px 1px 1px #0003}.discovery-inspect-details-popup .stack-view-chain .data-flow-changes .data{background:#1f841f80}.discovery-inspect-details-popup .stack-view-chain .data-flow-changes .context{background:#b1366f80;bottom:0}.discovery-inspect-details-popup .toolbar .view-button{padding:5px 8px 7px;font-size:12px;line-height:12px;border-radius:2px 1px 2px 2px;box-shadow:none}.discovery-inspect-details-popup .content{overflow:hidden;background-color:var(--discovery-mate-background);font-size:12px;line-height:14px}.discovery-inspect-details-popup.frozen .content{overflow:auto}.discovery-inspect-details-popup .content .view-struct{overflow:visible;background-color:transparent}.discovery-inspect-details-popup .content .view-source{font-size:11px;line-height:15px;background-color:transparent}.discovery-inspect-details-popup .content.props-config{grid-area:props-config}.discovery-inspect-details-popup .content.data-context{grid-area:data-context}.discovery-inspect-details-popup .content-section:before{content:var(--header);display:inline-block;padding:8px 10px 2px 1px;margin-left:7px;text-transform:uppercase;font-size:10px;color:#444;border-bottom:2px solid #ddd}.discovery-root-darkmode .discovery-inspect-details-popup .content-section:before{color:inherit;text-shadow:1px 1px 0 rgba(0,0,0,.25);border-bottom:2px solid #666}.discovery-inspect-details-popup .content-section.skip{--header: "Not rendered reason"}.discovery-inspect-details-popup .content-section.skip .view-block{padding:6px 0 8px 6px;font-size:14px}.discovery-inspect-details-popup .content-section.render{--header: "Render function"}.discovery-inspect-details-popup .content-section.props{--header: "Render props"}.discovery-inspect-details-popup .content-section.config{--header: "Config"}.discovery-inspect-details-popup .content-section.props .transition-fn{position:relative;padding:16px 0 0 4px;margin:-4px 0 -4px 11px;border-left:1px solid #888}.discovery-inspect-details-popup .content-section.props .transition-fn .view-source__content{padding-bottom:6px}.discovery-inspect-details-popup .content-section.props .transition-fn:before{content:"";position:absolute;left:-4px;top:-2px;width:7px;height:7px;border:3.5px solid transparent;border-top:none;border-bottom:7px solid #888;box-sizing:border-box}.discovery-inspect-details-popup .content-section.props .transition-fn:after{content:"Normalize (view.options.props)";position:absolute;top:5px;left:0;padding:0 4px;background:#8885;font-size:10px;opacity:.75}.discovery-inspect-details-popup .content-section.config>.view-tree{margin-left:6px}.discovery-inspect-details-popup .content-section.config .view-tree-leaf-content>.view-struct{margin:-4px 0 -4px -4px}.discovery-inspect-details-popup .content-section.data{--header: "Data"}.discovery-inspect-details-popup .content-section.data .data-flow-transitions{display:flex;flex-direction:column-reverse}.discovery-inspect-details-popup .content-section.data .data-flow-transitions>.more-buttons{margin-top:0;padding:6px 0 0 8px;margin-bottom:-4px}.discovery-inspect-details-popup .content-section.data .data-flow-transitions>.more-buttons .more-button{padding-top:2px;padding-bottom:2px}.discovery-inspect-details-popup .content-section.data .root-data{padding:6px 0 0 8px;pointer-events:none;margin-bottom:-6px}.discovery-inspect-details-popup .content-section.data .root-data .view-badge{padding:2px 8px;font-size:9px;text-transform:uppercase}.discovery-inspect-details-popup .content-section.data .data-flow-transition{position:relative;padding:12px 0 0 4px;margin:-4px 0 -2px 11px;border-left:1px solid #888}.discovery-inspect-details-popup .content-section.data .data-flow-transition>.view-name{position:absolute;top:0;left:0;padding:0 4px;background:#8885;font-size:10px;opacity:.75}.discovery-inspect-details-popup .content-section.data .data-flow-transition:before{content:"";position:absolute;left:-4px;bottom:-2px;width:7px;height:7px;border:3.5px solid transparent;border-bottom:none;border-top:7px solid #888;box-sizing:border-box}.discovery-inspect-details-popup .content-section.context{--header: "Context"}:host{transition:opacity .2s}.discovery-root{all:initial;color-scheme:only light;position:relative;font-family:var(--discovery-font-family);font-size:14px;line-height:1.6;-webkit-text-size-adjust:none;text-size-adjust:none;background-color:var(--discovery-background-color, white);color:var(--discovery-color, black);transition-property:background-color,color;transition-duration:.25s;transition-timing-function:ease-in;--discovery-app-icon: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="-6 -4 136 140">%0A    <rect x="65.6" y="24.6" transform="matrix(0.9397 -0.342 0.342 0.9397 -9.9426 31.828)" fill="%23FFFFFF" width="39.3" height="39"></rect>%0A    <rect x="70.6" y="52.7" transform="matrix(-0.9397 0.342 -0.342 -0.9397 194.7852 81.1204)" fill="%23C7D7E2" width="39.3" height="10"></rect>%0A    <path fill="%2398BED8" d="M111.5,54.6l-1.1,1.1L97.1,19.1l1.5,0.2c8,0.9,14.7,6.2,17.4,13.7l0,0C118.8,40.4,117,48.8,111.5,54.6z"></path>%0A    <path fill="%23454B54" d="M73.5,72.2c-1.2,0-2.4-0.8-2.8-2L57.3,33.5c-0.3-0.7-0.2-1.6,0.1-2.3c0.3-0.7,0.9-1.3,1.7-1.6l36.9-13.4c1.6-0.6,3.3,0.2,3.8,1.8l13.3,36.6c0.3,0.7,0.2,1.6-0.1,2.3c-0.3,0.7-0.9,1.3-1.7,1.6L74.5,72C74.2,72.1,73.8,72.2,73.5,72.2zM64,34.3l11.3,31l31.3-11.4l-11.3-31L64,34.3z"></path>%0A    <rect x="35" y="46.7" transform="matrix(0.9397 -0.342 0.342 0.9397 -16.2011 20.988)" fill="%23FFFFFF" width="32.8" height="19.5"></rect>%0A    <rect x="37.3" y="59.8" transform="matrix(-0.9397 0.342 -0.342 -0.9397 125.6763 103.3946)" fill="%23C7D7E2" width="32.8" height="6"></rect>%0A    <path fill="%23454B54" d="M39.4,74.2c-0.4,0-0.9-0.1-1.3-0.3c-0.7-0.3-1.3-0.9-1.6-1.7l-6.7-18.3c-0.3-0.7-0.2-1.6,0.1-2.3c0.3-0.7,0.9-1.3,1.7-1.6l30.8-11.2c0.7-0.3,1.6-0.2,2.3,0.1c0.7,0.3,1.3,0.9,1.6,1.7L73,59c0.6,1.6-0.2,3.3-1.8,3.8L40.4,74C40,74.1,39.7,74.2,39.4,74.2z M36.5,54.7l4.6,12.7l25.2-9.2l-4.6-12.7L36.5,54.7z"></path>%0A    <path fill="%23454B54" d="M70,118.9c-1.2,0-2.4-0.7-2.8-1.9l-14-37.2l-8.4,3.1l-17.2,34.4c-0.7,1.5-2.5,2.1-4,1.3c-1.5-0.7-2.1-2.5-1.3-4L40,79c0.3-0.7,0.9-1.2,1.7-1.5L54,73.1c1.5-0.6,3.3,0.2,3.8,1.8l15,40c0.6,1.6-0.2,3.3-1.8,3.9C70.7,118.8,70.4,118.9,70,118.9z"></path>%0A    <path fill="%23454B54" d="M13.6,80.1c-1.2,0-2.4-0.8-2.8-2L6.3,65.9c-0.6-1.6,0.2-3.3,1.8-3.8c1.6-0.6,3.3,0.2,3.8,1.8l4.4,12.2c0.6,1.6-0.2,3.3-1.8,3.8C14.3,80.1,14,80.1,13.6,80.1z"></path>%0A    <path fill="%23454B54" d="M13.2,73.3c-1.2,0-2.4-0.8-2.8-2c-0.6-1.6,0.2-3.3,1.8-3.8L35,59.2c1.6-0.6,3.3,0.2,3.8,1.8c0.6,1.6-0.2,3.3-1.8,3.8l-22.8,8.3C13.9,73.3,13.6,73.3,13.2,73.3z"></path>%0A</svg>%0A');--discovery-font-family: Tahoma, Verdana, Arial, sans-serif;--discovery-monospace-font-family: SFMono-Regular, Consolas, Liberation Mono, Menlo, monospace;--discovery-monospace-font-size: 12px;--discovery-monospace-line-height: 1.5;--discovery-ui-font-family: system-ui, Arial, sans-serif;--discovery-background-color: white;--discovery-color: black;--discovery-input-bg-color: white;--discovery-input-color: black;--discovery-button-color: black;--discovery-button-bg-color: white;--discovery-button-border-color: #cccccc;--discovery-button-hover-color: black;--discovery-button-hover-bg-color: #f5f5f5;--discovery-button-hover-border-color: #cccccc;--discovery-fmt-color: #666;--discovery-fmt-hover-color: #333;--discovery-fmt-flag-color: #ff6e13;--discovery-fmt-variable-color: #047d65;--discovery-fmt-property-color: #bd6476;--discovery-fmt-keyword-color: #9150c5;--discovery-fmt-number-color: #07a;--discovery-fmt-atom-color: #07a;--discovery-fmt-type-color: #a7994b;--discovery-fmt-string-color: #690;--discovery-fmt-string-highlight-color: rgba(35, 165, 25, .1);--discovery-fmt-comment-color: #75787b;--discovery-fmt-qualifier-color: #dd4a68;--discovery-fmt-entity-color: #9a6e3a;--discovery-fmt-punctuation-color: #999;--discovery-fmt-meta-color: #9150c5;--discovery-fmt-negative-color: #ec2b2b;--discovery-fmt-positive-color: #690;--discovery-page-padding-top: 35px;--discovery-page-padding-right: 40px;--discovery-page-padding-bottom: 30px;--discovery-page-padding-left: 40px}.discovery-root-darkmode{color-scheme:only dark;--discovery-background-color: #242424;--discovery-color: #cccccc;--discovery-link-color: #1c87d4;--discovery-link-underline-color: rgb(37, 146, 226, 50%);--discovery-link-hover-color: #4aa6e8;--discovery-input-bg-color: #343434;--discovery-input-color: #e8e8e8;--discovery-button-color: #cccccc;--discovery-button-bg-color: #3a3a3a;--discovery-button-border-color: #cccccc;--discovery-button-hover-color: black;--discovery-button-hover-bg-color: #f5f5f5;--discovery-button-hover-border-color: #cccccc;--discovery-fmt-color: #999;--discovery-fmt-hover-color: #aaa;--discovery-fmt-flag-color: #ff8030;--discovery-fmt-variable-color: #16a78a;--discovery-fmt-property-color: #d17a8c;--discovery-fmt-keyword-color: #a783c4;--discovery-fmt-number-color: #0f8dc2;--discovery-fmt-atom-color: #0f8dc2;--discovery-fmt-string-color: #7faf20;--discovery-fmt-string-underline-color: #85ab51;--discovery-fmt-string-hover-color: #97cf26;--discovery-fmt-meta-color: #a783c4;--discovery-fmt-negative-color: #eb6969;--discovery-fmt-positive-color: #7faf20}.discovery[data-dzen] .discovery-hidden-in-dzen{display:none}.discovery{display:flex;overflow:hidden;height:100%}.discovery-content{flex:1;display:flex;flex-direction:column;position:relative;overflow:auto;z-index:10}.discovery-content>.page{padding:var(--discovery-page-padding-top) var(--discovery-page-padding-right) var(--discovery-page-padding-bottom) var(--discovery-page-padding-left)}.discovery[data-compact] .page{--discovery-page-padding-top: 0;--discovery-page-padding-left: 0;--discovery-page-padding-right: 0;--discovery-page-padding-bottom: 0}.discovery-sidebar{position:relative;z-index:200;overflow:auto;width:350px;background:#6969691a;border-right:1px solid rgba(85,85,85,.2);box-shadow:2px 0 5px -3px #00000042;transform:translateZ(0)}.discovery-sidebar:empty{display:none}.discovery-sidebar .view-tabs,.discovery-sidebar .view-tabs-content,.discovery-sidebar .view-content-filter{display:flex;flex-direction:column;max-height:100%}.discovery-sidebar .view-tabs{height:100%}.discovery-sidebar .view-tab.active:before{background-color:#fff;transition-property:background-color;transition-duration:.25s;transition-timing-function:ease-in}.discovery-root-darkmode .discovery-sidebar .view-tab.active:before{background-color:#363637}.discovery-sidebar .view-content-filter>.view-input{border-bottom:1px solid rgba(170,170,170,.4);margin-bottom:-1px;background-color:#fff;transition-property:background-color;transition-duration:.25s;transition-timing-function:ease-in}.discovery-root-darkmode .discovery-sidebar .view-content-filter>.view-input{background-color:#363637}.discovery-sidebar .view-content-filter>.view-input input,.discovery-sidebar .view-content-filter>.view-input input:focus{background-color:transparent;outline:none;box-shadow:none;border:none;border-radius:0}.discovery-sidebar .view-content-filter>.content>.view-list{padding:8px 0 8px 12px}.discovery-sidebar .view-content-filter>.content>.view-tree{padding:4px 0 8px 8px}.discovery-sidebar .view-list-item:first-child .view-toc-section{margin-top:-8px}.discovery-sidebar .view-list-item:last-child .view-toc-section{margin-bottom:-8px}.discovery-sidebar .view-toc-section{margin-left:-12px}.discovery-sidebar .view-text-match{color:#282828d9;background:#ffffff73;border-bottom:2px solid orange;line-height:1.2;display:inline-block;border-radius:3px;padding:0 1px}.discovery-nav{position:absolute;z-index:102;top:0;right:var(--discovery-page-padding-right, 40px);padding:0 1px 1px;border-radius:0 0 6px 6px;background-color:#ffffffeb;transition:background-color .25s ease-in;user-select:none}.discovery-root-darkmode .discovery-nav{background-color:#242424eb}@supports (backdrop-filter: blur(5px)) or (-webkit-backdrop-filter: blur(5px)){.discovery-nav{background-color:#fffc;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px)}.discovery-root-darkmode .discovery-nav{background-color:#242424cc}}.discovery-nav>:first-child{border-bottom-left-radius:5px;transition:border-radius .25s ease-in-out}.discovery-nav>:last-child{border-bottom-right-radius:5px;transition:border-radius .25s ease-in-out}.discovery-nav .view-nav-button.discovery-view-popup-active:not(.discovery-view-has-tooltip){border-radius:0}.discovery-nav .view-nav-button[data-name=burger]{background-image:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 172 172">%0A    <path fill="%23888" d="M21.5,35.83333c-2.58456,-0.03655 -4.98858,1.32136 -6.29153,3.55376c-1.30295,2.2324 -1.30295,4.99342 0,7.22582c1.30295,2.2324 3.70697,3.59031 6.29153,3.55376h129c2.58456,0.03655 4.98858,-1.32136 6.29153,-3.55376c1.30295,-2.2324 1.30295,-4.99342 0,-7.22582c-1.30295,-2.2324 -3.70697,-3.59031 -6.29153,-3.55376zM21.5,78.83333c-2.58456,-0.03655 -4.98858,1.32136 -6.29153,3.55376c-1.30295,2.2324 -1.30295,4.99342 0,7.22582c1.30295,2.2324 3.70697,3.59031 6.29153,3.55376h129c2.58456,0.03655 4.98858,-1.32136 6.29153,-3.55376c1.30295,-2.2324 1.30295,-4.99342 0,-7.22582c-1.30295,-2.2324 -3.70697,-3.59031 -6.29153,-3.55376zM21.5,121.83333c-2.58456,-0.03655 -4.98858,1.32136 -6.29153,3.55376c-1.30295,2.2324 -1.30295,4.99342 0,7.22582c1.30295,2.2324 3.70697,3.59031 6.29153,3.55376h129c2.58456,0.03655 4.98858,-1.32136 6.29153,-3.55376c1.30295,-2.2324 1.30295,-4.99342 0,-7.22582c-1.30295,-2.2324 -3.70697,-3.59031 -6.29153,-3.55376z" />%0A</svg>%0A');background-repeat:no-repeat;background-position:center;background-size:18px}.discovery-nav .view-nav-button[data-name=inspect]:before{content:"";display:inline-block;vertical-align:text-top;height:16px;aspect-ratio:1;margin:0 -8px;mask:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30 30">%0A    <path fill="currentColor" d="M 15 2 C 8.3844239 2 3 7.3844287 3 14 C 3 20.615571 8.3844239 26 15 26 L 25 26 C 26.105 26 27 25.105 27 24 L 27 14 C 27 7.3844287 21.615576 2 15 2 z M 15 4 C 20.534697 4 25 8.465307 25 14 C 25 19.534693 20.534697 24 15 24 C 9.4653034 24 5 19.534693 5 14 C 5 8.465307 9.4653034 4 15 4 z M 15.953125 6.9863281 A 1.0001 1.0001 0 0 0 15.013672 7.8359375 L 13.013672 19.835938 A 1.0001 1.0001 0 1 0 14.986328 20.164062 L 16.986328 8.1640625 A 1.0001 1.0001 0 0 0 15.953125 6.9863281 z M 10.980469 9.9882812 A 1.0001 1.0001 0 0 0 10.167969 10.445312 L 8.1679688 13.445312 A 1.0001 1.0001 0 0 0 8.1679688 14.554688 L 10.167969 17.554688 A 1.0001 1.0001 0 1 0 11.832031 16.445312 L 10.201172 14 L 11.832031 11.554688 A 1.0001 1.0001 0 0 0 10.980469 9.9882812 z M 18.988281 9.9882812 A 1.0001 1.0001 0 0 0 18.167969 11.554688 L 19.798828 14 L 18.167969 16.445312 A 1.0001 1.0001 0 1 0 19.832031 17.554688 L 21.832031 14.554688 A 1.0001 1.0001 0 0 0 21.832031 13.445312 L 19.832031 10.445312 A 1.0001 1.0001 0 0 0 18.988281 9.9882812 z"/>%0A</svg>%0A') no-repeat center / 16px;background-color:currentColor;opacity:.85}.discovery-nav .view-nav-button[data-name=inspect][data-suspend-seconds]:before{visibility:hidden}.discovery-nav .view-nav-button[data-name=inspect][data-suspend-seconds]:after{content:attr(data-suspend-seconds);display:inline-block;position:absolute;margin-left:-11px;width:24px;text-align:center}.discovery-nav>.view-nav-button[data-name=upload-from-clipboard]:before{content:"";display:inline-block;vertical-align:text-top;height:15px;aspect-ratio:1;margin-left:-3px;margin-right:5px;mask:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAUGVYSWZNTQAqAAAACAACARIAAwAAAAEAAQAAh2kABAAAAAEAAAAmAAAAAAADoAEAAwAAAAEAAQAAoAIABAAAAAEAAABAoAMABAAAAAEAAABAAAAAAFSMbK4AAAIwaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJYTVAgQ29yZSA2LjAuMCI+CiAgIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOmV4aWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vZXhpZi8xLjAvIgogICAgICAgICAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyI+CiAgICAgICAgIDxleGlmOlBpeGVsWURpbWVuc2lvbj42NDwvZXhpZjpQaXhlbFlEaW1lbnNpb24+CiAgICAgICAgIDxleGlmOlBpeGVsWERpbWVuc2lvbj42NDwvZXhpZjpQaXhlbFhEaW1lbnNpb24+CiAgICAgICAgIDxleGlmOkNvbG9yU3BhY2U+MTwvZXhpZjpDb2xvclNwYWNlPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KK+qO+QAAATBJREFUeAHtl0kSgzAMBJ1U/v/lLEdceFGQZBl1bmDipdWaglL4QQACEIAABCCQlcDD8OBv5blN9vpU3uR20/1DVbuy2tBEZ0pvwEsbf2c+UWW+87iYhgGdis0OtSqrXUGTdTBgtswKz2kbobClUtIbAAAVjzaexPI9oJXaoXDRAqHKsWAz6Q2wzACvel7KmvQGAMDL06jreGSA9zeAKBNogahqeu0rvQEeGVAXU9Sj9Z9Pri9lTHoDAHCiVKpbKzKgBiztYdUMoQXqcmS7Tm9AhAxQ7WmpwekNAIBUmbs9HyEDRu8BphlBC9xNael50hsQIQNMe3xkBAaMCE2M1ym+tKIT+z08ggEHHD4XtTE+qzZWwYAGmN7trXq8d5DfWHoDRoAYhwAEIAABCEDgvgQ+7DUMfq3x1WcAAAAASUVORK5CYII=) no-repeat center / 17px;background-color:currentColor;opacity:.85}.discovery-nav>.view-nav-button[data-name=upload-from-clipboard]:empty:before{margin-left:-7px;margin-right:-7px}.discovery-nav>.view-nav-button[data-name=github]:before{content:"";display:inline-block;vertical-align:text-top;height:15px;aspect-ratio:1;margin-left:-3px;margin-right:5px;mask:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 98 96">%0A    <path d="M48.854 0C21.839 0 0 22 0 49.217c0 21.756 13.993 40.172 33.405 46.69 2.427.49 3.316-1.059 3.316-2.362 0-1.141-.08-5.052-.08-9.127-13.59 2.934-16.42-5.867-16.42-5.867-2.184-5.704-5.42-7.17-5.42-7.17-4.448-3.015.324-3.015.324-3.015 4.934.326 7.523 5.052 7.523 5.052 4.367 7.496 11.404 5.378 14.235 4.074.404-3.178 1.699-5.378 3.074-6.6-10.839-1.141-22.243-5.378-22.243-24.283 0-5.378 1.94-9.778 5.014-13.2-.485-1.222-2.184-6.275.486-13.038 0 0 4.125-1.304 13.426 5.052a46.97 46.97 0 0 1 12.214-1.63c4.125 0 8.33.571 12.213 1.63 9.302-6.356 13.427-5.052 13.427-5.052 2.67 6.763.97 11.816.485 13.038 3.155 3.422 5.015 7.822 5.015 13.2 0 18.905-11.404 23.06-22.324 24.283 1.78 1.548 3.316 4.481 3.316 9.126 0 6.6-.08 11.897-.08 13.526 0 1.304.89 2.853 3.316 2.364 19.412-6.52 33.405-24.935 33.405-46.691C97.707 22 75.788 0 48.854 0z"/>%0A</svg>%0A') no-repeat center / 15px;background-color:currentColor;opacity:.85}.discovery-nav>.view-nav-button[data-name=github]:empty:before{margin-left:-7px;margin-right:-7px}.discovery-nav-popup>.toggle-menu-item{padding:4px 4px 4px 12px}.discovery-nav-popup>.toggle-menu-item .view-toggle-group{display:flex;align-items:center}.discovery-nav-popup>.toggle-menu-item .view-toggle-group-before{flex:1}.discovery-nav-popup>.toggle-menu-item .view-toggle{font-size:11px;padding-top:2px;padding-bottom:2px}.discovery-nav-popup .powered-by-discoveryjs{padding:2px 6px 4px;font-size:11px;opacity:.75;background-color:#8882;text-align:right}.discovery>.loading-overlay{position:absolute;z-index:1000;inset:0;padding:35px 40px;background:var(--discovery-background-color);will-change:opacity,visibility}.discovery>.loading-overlay.error{overflow:auto;display:flex;flex-direction:column;gap:16px}.discovery>.loading-overlay>.view-app-header{transition:opacity .25s .5s;will-change:opacity;contain:paint;@starting-style{opacity:0}}.discovery>.loading-overlay.error>.view-app-header{transition:none!important}.discovery>.loading-overlay.done>.view-app-header{visibility:hidden}.discovery>.loading-overlay.error>.view-app-header:first-child{margin-top:-10px;margin-bottom:27px}.discovery>.loading-overlay.error>.action-buttons .view-button+.view-button{margin-left:2ex}.discovery>.loading-overlay.error>.error-message,.discovery>.loading-overlay.error>.warning-message{padding:20px;box-sizing:border-box;color:#d85a5a;background:#ff00002e;overflow:auto;min-height:6.2em}.discovery>.loading-overlay.error>.warning-message{color:#856404;background-color:#fff3d1}.discovery-root-darkmode>.loading-overlay.error>.error-message{background-color:#3f3333;color:#dc7c7c}.discovery-root-darkmode>.loading-overlay.error>.warning-message{background-color:#3c3627;color:#bdab77}.discovery>.loading-overlay.error>:is(.error-message,.warning-message) a{color:inherit;color:color-mix(in srgb,currentColor,var(--discovery-color) 35%);text-decoration-color:color-mix(in srgb,currentColor,var(--discovery-background-color) 65%)}.discovery-root-darkmode>.loading-overlay.error>:is(.error-message,.warning-message) a{color:color-mix(in srgb,currentColor,var(--discovery-color) 45%);text-decoration-color:color-mix(in srgb,currentColor,var(--discovery-background-color) 45%)}.discovery>.loading-overlay.error>:is(.error-message,.warning-message) a:hover{text-decoration-color:currentColor}.discovery>.loading-overlay.error>:is(.error-message,.warning-message) .error-type-badge{margin:-20px 0 15px -20px}.discovery>.loading-overlay.error>:is(.error-message,.warning-message) .error-type-badge:before{content:"Error" attr(data-stage);display:inline-block;padding:1ex 20px;background-color:#ff9d9d;color:#992d2d;text-shadow:none;font-size:11px;text-transform:uppercase}.discovery-root-darkmode>.loading-overlay.error>:is(.error-message,.warning-message) .error-type-badge:before{color:var(--discovery-color);background-color:#833939}.discovery>.loading-overlay.error>.warning-message .error-type-badge:before{color:inherit;background-color:#f9de91}.discovery-root-darkmode>.loading-overlay.error>.warning-message .error-type-badge:before{background-color:#5d502d}.discovery>.loading-overlay.done{opacity:0;visibility:hidden;transition:all .25s;pointer-events:none}.discovery>.loading-overlay .view-progress{max-width:none}.discovery>.loading-overlay .view-progress .progress{max-width:300px}.discovery-buildin-view-render-error{display:inline-block;vertical-align:top;margin:1px;border:1px solid rgba(212,0,0,.4);background-image:linear-gradient(to bottom,rgba(255,25,25,.1) 19px,transparent 0);background-clip:padding-box;color:#c66;border-radius:4px;padding:4px;font-size:10px;line-height:1}.discovery-buildin-view-render-error:before{content:"ERROR";display:inline-block;margin:-4px 1ex -4px -4px;border-radius:3px 0 0 3px;background:#e2242466;color:#ffffffd9;text-shadow:1px 1px rgb(0,0,0,.2);padding:4px}.discovery-buildin-view-render-error[data-type=config]:before{content:"CONFIG ERROR"}.discovery-buildin-view-render-error[data-type=render]:before{content:"RENDER ERROR"}.discovery-buildin-view-render-error.expanded:before{border-bottom-left-radius:0}.discovery-buildin-view-render-error .toggle-config{margin-left:1ex;cursor:pointer;opacity:.65;color:#888;user-select:none}.discovery-buildin-view-render-error .toggle-config:hover{opacity:1}.discovery-buildin-view-render-error .view-struct{margin:5px -4px -4px;border-radius:0 0 3px 3px}.discovery-buildin-view-tooltip{padding:5px 10px;min-width:120px;border:.5px solid #fff5;border-radius:3px;font-size:12px;background:#ffffffbf;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}.discovery-root-darkmode .discovery-buildin-view-tooltip{background:#242424cc}
</style>
    <style type="discovery/style" src="model-loader.css">.view-progress{max-width:300px;z-index:1;pointer-events:none}.view-progress.skip-fast-track{transition:opacity .25s var(--appearance-delay, .5s);will-change:opacity;contain:paint;@starting-style{opacity:0}}.view-progress.skip-fast-track.done:not(.error){display:none}.view-progress>.progress{content:"";display:block;position:relative;overflow:hidden;margin-top:4px;box-sizing:border-box;height:3px;background:#c6c6c64d;border-radius:2px}.view-progress>.progress:before{content:"";display:block;height:100%;width:100%;position:absolute;left:0;top:0;transform:scaleX(var(--progress, 0));transform-origin:left;background-color:var(--color, #1f7ec5)}.view-progress>.content.main-secondary{display:flex;white-space:nowrap;gap:1ex}.view-progress>.content>.secondary{flex:1;overflow:hidden;text-overflow:ellipsis;color:#888}:host{position:absolute;z-index:1001!important;padding:35px 40px;width:100%}.view-button{position:relative;display:inline-block;box-sizing:border-box;padding:8px 12px;outline:none;margin:0;color:var(--discovery-view-button-color);background-color:var(--discovery-view-button-background-color);border:1px solid var(--discovery-view-button-border-color);border-radius:3px;font-family:inherit;font-size:inherit;line-height:1.2;text-align:center;cursor:pointer;--discovery-view-button-color: var(--discovery-color);--discovery-view-button-background-color: rgba(255, 255, 255, .1);--discovery-view-button-border-color: rgba(127, 127, 127, .4);--discovery-view-button-hover-background-color: rgba(221, 221, 221, .3);--discovery-view-button-hover-border-color: rgba(170, 170, 170, .6);--discovery-view-button-active-background-color: rgba(131, 131, 131, .25);--discovery-view-button-active-border-color: var(--discovery-view-button-border-color);--discovery-view-button-focus-background-color: var(--discovery-view-button-background-color);--discovery-view-button-focus-border-color: rgba(128, 128, 128, .6)}.view-button:empty:before{content:"\200b";float:left}.view-button:focus-visible{box-shadow:0 0 1px 3px #0af3;background-color:var(--discovery-view-button-focus-background-color);border-color:var(--discovery-view-button-focus-border-color);z-index:1}.view-button:hover,.view-button.discovery-view-popup-active{background-color:var(--discovery-view-button-hover-background-color);border-color:var(--discovery-view-button-hover-border-color)}.view-button:active{background-color:var(--discovery-view-button-active-background-color);border-color:var(--discovery-view-button-active-border-color)}.view-button[disabled]{opacity:.5;pointer-events:none;cursor:default}.view-button+.view-button{margin-left:1ex}.view-button-primary{--discovery-view-button-color: white;--discovery-view-button-background-color: #00aaff;--discovery-view-button-border-color: transparent;--discovery-view-button-hover-background-color: #009cf0;--discovery-view-button-hover-border-color: transparent;--discovery-view-button-active-background-color: #008ee0;--discovery-view-button-focus-border-color: transparent}.discovery-root-darkmode .view-button-primary{--discovery-view-button-color: #fffd;--discovery-view-button-background-color: #006aa3e6;--discovery-view-button-hover-background-color: #0074b3e6;--discovery-view-button-active-background-color: #006aa3d0}.view-button-danger{--discovery-view-button-color: white;--discovery-view-button-background-color: #ff6163;--discovery-view-button-border-color: transparent;--discovery-view-button-hover-background-color: #f05456;--discovery-view-button-hover-border-color: transparent;--discovery-view-button-active-background-color: #e34449;--discovery-view-button-focus-border-color: transparent}.discovery-root-darkmode .view-button-danger{--discovery-view-button-color: #fffd;--discovery-view-button-background-color: #c32224bf;--discovery-view-button-hover-background-color: #d02528bf;--discovery-view-button-active-background-color: #c32224a6}.view-button-warning{--discovery-view-button-color: rgba(0, 0, 0, .84);--discovery-view-button-background-color: #ffcf21;--discovery-view-button-border-color: transparent;--discovery-view-button-hover-background-color: #fcbd00;--discovery-view-button-hover-border-color: transparent;--discovery-view-button-active-background-color: #f7ad00;--discovery-view-button-focus-border-color: transparent}.discovery-root-darkmode .view-button-warning{--discovery-view-button-color: #eeee;--discovery-view-button-background-color: #ffd40199;--discovery-view-button-hover-background-color: #ffd91aa6;--discovery-view-button-active-background-color: #ffd4018e}:host{display:flex;flex-direction:column;box-sizing:border-box;max-width:100vw;height:100%;z-index:1}:host(.generate-data-crash){display:flex;flex-direction:column}:host>.view-progress{max-width:none}:host>.view-progress>.progress{max-width:300px}:host>.error{margin:20px 0;padding:20px;box-sizing:border-box;width:100%;font-family:Menlo,Monaco,Consolas,monospace;font-size:12px;color:#d85a5a;background:#ff00002e;text-shadow:1px 1px var(--discovery-background-color);white-space:pre-wrap;overflow:auto}:host([darkmode])>.error{background-color:#3f3333;color:#eb8f8f}:host>.error .error-type-badge{margin:-20px 0 15px -20px}:host>.error .error-type-badge:before{content:"Client error";display:inline-block;padding:1ex 20px;background-color:#ff9d9d;color:#e23c3c;text-shadow:none;font-size:11px;text-transform:uppercase}:host>.error .error-type-badge[data-type=server]:before{content:"Server error"}:host([darkmode])>.error .error-type-badge:before{color:var(--discovery-color);background-color:#833939}:host>.action-buttons{font-size:14px}:host>.action-buttons .view-button{padding-left:20px;padding-right:20px}:host(.generate-data-crash)>.action-buttons{margin:-3px 0 0 -20px}.data-status{flex:1;overflow:hidden;display:flex;flex-direction:column;margin:-15px -20px;font-family:Menlo,Monaco,Consolas,monospace;font-size:12px;line-height:16px;transition:opacity .5s,margin .5s;pointer-events:all;@starting-style{opacity:0}}.view-progress+.data-status{margin-top:15px}.data-status.finished{transition-duration:.15s}.data-status.finished:not(.crashed){opacity:0;transition-duration:.5s}.data-status.compliment-error{margin:10px 0 20px}.data-status>.header{padding:10px 20px;background-color:#c0c0c01f;background-image:linear-gradient(to top,#96969626,#96969626);margin-bottom:1px;opacity:.8}.data-status.crashed>.header{background-color:#ff898940;color:#d00;opacity:1}:host([darkmode]) .data-status.crashed>.header{background-color:#91000040;color:#eb8f8f}.data-status.compliment-error.collapsed>.header,.data-status.compliment-error:not(.collapsed)>.output{margin-bottom:20px}.data-status>.output{flex:1;padding:10px 20px;overflow:scroll;white-space:pre-wrap;background-color:#c0c0c01f}.data-status.crashed>.output{background-color:#ff98981f}.data-status.collapsed>.output{display:none}.data-status>.output .stderr{color:#d00}:host([darkmode]) .data-status>.output .stderr{color:#eb8f8f}.data-status .plan-step-list{--nested-padding: 20px;padding:0;margin:0;margin-left:var(--nested-padding)}.data-status>.output>.plan-step-list{margin-left:-20px}.data-status .plan-step{list-style:none}.data-status .num-delim{padding-left:.14em}.data-status .plan-step>.plan-step__header{display:flex;align-items:center;height:2em;margin:0 -20px 0 calc(-20px - var(--nested-padding) * var(--level, 0));padding:0 20px 0 calc(20px + var(--nested-padding) * var(--level, 0))}.data-status .plan-step:is(.started,.finished,.crashed)>.plan-step__header:hover{background-color:#0001;cursor:pointer}:host([darkmode]) .data-status .plan-step:is(.started,.finished,.crashed)>.plan-step__header:hover{background-color:#0002}.data-status .plan-step:not(.started,.finished,.crashed)>.plan-step__header .plan-step__header-content,.data-status .plan-step:not(.started,.finished,.crashed)>.plan-step__header .plan-step__header-status{filter:brightness(.65) contrast(.1)}.data-status .plan-step>.plan-step__header .plan-step__header-status{display:inline-block;box-sizing:border-box;height:10px;margin-top:-1px;margin-right:1ex;aspect-ratio:1/1;border:1px solid currentColor;border-radius:50%;background-clip:content-box;background-color:transparent}.data-status .plan-step.started>.plan-step__header .plan-step__header-status{--spinner-color: #a88d16;border-width:0px;background:radial-gradient(farthest-side,var(--spinner-color) 94%,#0000) top / 1px 1px no-repeat,conic-gradient(#0000 30%,var(--spinner-color));-webkit-mask:radial-gradient(farthest-side,#0000 calc(100% - 1px),#000 0);mask:radial-gradient(farthest-side,#0000 calc(100% - 1px),#000 0);animation:1.25s infinite linear discovery-loader-processing}:host([darkmode]) .data-status .plan-step.started>.plan-step__header .plan-step__header-status{--spinner-color: #d8d431}.data-status .plan-step.finished>.plan-step__header .plan-step__header-status{background:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 8 8">%0A    <path fill="%23fff6" d="M6.564.75l-3.59 3.612-1.538-1.55L0 4.26l2.974 2.99L8 2.193z"/>%0A</svg>%0A') no-repeat center #1e7d1e;background-size:6px;transform:scale(1.2);border-color:#28701a;filter:brightness(1.4)}:host([darkmode]) .data-status .plan-step.finished>.plan-step__header .plan-step__header-status{background-color:#146614;border-color:#1f880b;filter:none}.data-status .plan-step.crashed>.plan-step__header .plan-step__header-status{background:#e05f5fab;border-color:#b97d7d;transition:.5s ease-in-out;transition-property:border,background-color}.data-status .plan-step>.plan-step__header .plan-step__header-toggle{order:-1;height:100%;width:20px;text-align:center;filter:brightness(.75)}.data-status .plan-step>.plan-step__header:hover .plan-step__header-toggle,.data-status .plan-step:not(.collapsed)>.plan-step__header .plan-step__header-toggle{filter:brightness(1)}.data-status .plan-step:not(.has-output,:not(.collapsed))>.plan-step__header:not(:hover) .plan-step__header-toggle{visibility:hidden}.data-status .plan-step>.plan-step__header .plan-step__header-toggle:before{content:"";background:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">%0A    <path fill="%23888" d="M 3.71875 7.78125 L 2.28125 9.21875 L 11.28125 18.21875 L 12 18.90625 L 12.71875 18.21875 L 21.71875 9.21875 L 20.28125 7.78125 L 12 16.0625 Z "/>%0A</svg>%0A') no-repeat center;background-size:11px;transition:transform .15s ease-out;width:12px;height:100%;display:inline-block;vertical-align:middle;transform:rotate(-90deg)}.data-status .plan-step:not(.collapsed)>.plan-step__header .plan-step__header-toggle:before{transform:rotate(0)}.data-status .plan-step>.plan-step__header .plan-step__header-summary{order:3;padding:2px 6px;margin-left:12px;background-color:#8882;color:#888;border-radius:3px;opacity:1;transition:opacity .5s ease-in}:host([darkmode]) .data-status .plan-step>.plan-step__header .plan-step__header-summary{background-color:#0003}.data-status .plan-step>.plan-step__header .plan-step__header-summary:empty{opacity:0;visibility:hidden}.data-status .plan-step>.plan-step__header .plan-step__elapsed-time{opacity:.5;margin-left:12px;padding-top:1px;font-size:11px}.data-status .plan-step>.plan-step__content{min-height:1em;margin:2px 0 2px 24px;padding:.25em 0 .25em 12px;border-left:1px solid #888;line-height:1.4}.data-status .plan-step>.plan-step__content>.stdout{filter:brightness(.8) contrast(.1)}.data-status .plan-step>.plan-step__content:empty:before{content:"No output";filter:brightness(.65) contrast(.1);font-style:italic}.data-status .plan-step.collapsed>.plan-step__content{display:none}@keyframes discovery-loader-processing{to{transform:rotate(1turn)}}
</style>
    
    
    
    <style>
        html,
        body {
            height: 100%;
            margin: 0;
            padding: 0;
            border: none;
            -webkit-text-size-adjust: 100%;
        }
        .discovery {
            height: 100vh;
        }
    </style>
</head>
<body>
    <noscript type="discovery-noscript">
        <style>body { margin: 16px }</style>
        <p>Sorry, but this page requires JavaScript to display properly.</p>
        <p>Please enable JavaScript in your browser settings or upgrade to a browser that supports JavaScript.</p>
    </noscript>
    <script>(()=>{var WS=Object.create;var ca=Object.defineProperty;var $S=Object.getOwnPropertyDescriptor;var VS=Object.getOwnPropertyNames;var US=Object.getPrototypeOf,GS=Object.prototype.hasOwnProperty;var I=(t,e)=>()=>(t&&(e=t(t=0)),e);var bt=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Se=(t,e)=>{for(var r in e)ca(t,r,{get:e[r],enumerable:!0})},zg=(t,e,r,o)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of VS(e))!GS.call(t,s)&&s!==r&&ca(t,s,{get:()=>e[s],enumerable:!(o=$S(e,s))||o.enumerable});return t};var nn=(t,e,r)=>(r=t!=null?WS(US(t)):{},zg(e||!t||!t.__esModule?ca(r,"default",{value:t,enumerable:!0}):r,t)),YS=t=>zg(ca({},"__esModule",{value:!0}),t);var fa,Gu=I(()=>{fa=[]});var QS,KS,rn,De,it=I(()=>{({toString:QS,hasOwnProperty:KS}=Object.prototype),rn=t=>QS.call(t),De=Object.hasOwn||((t,e)=>KS.call(t,e))});function Di(){return[performance.timeOrigin.toString(16),(1e4*performance.now()).toString(16),Math.random().toString(16).slice(2)].join("-")}var da=I(()=>{});var Et,lr=I(()=>{Et=class{subscriber;value;constructor(e,r){this.subscriber=null,this.value=e,this.shouldUpdate=typeof r=="function"?r:this.shouldUpdate}get readonly(){let e=this;return{subscribe:this.subscribe.bind(this),subscribeSync:this.subscribeSync.bind(this),unsubscribe:this.unsubscribe.bind(this),get value(){return e.value}}}subscribe(e){return this.subscriber={callback:e,subscriber:this.subscriber},()=>this.unsubscribe(e)}subscribeSync(e){let r=this.subscribe(e);return e(this.value,r),r}unsubscribe(e){let r=this,o=this.subscriber;for(;o!==null;){if(o.callback===e){o.callback=null,r.subscriber=o.subscriber;break}r=o,o=o.subscriber}}shouldUpdate(e,r){return e!==r}set(e){return this.#e(e)!==!1}asyncSet(e){let r=this.#e(e);return r===!1?Promise.resolve(!1):Promise.all(r).then(()=>!0)}#e(e){if(!this.shouldUpdate(e,this.value))return!1;let r=[],o=this.subscriber;for(this.value=e;o!==null;){let{callback:s}=o;s!==null&&r.push(s(e,()=>this.unsubscribe(s))),o=o.subscriber}return r}}});function JS(t){let e=Rg(t),r=new Map;return function(s){let u=r.get(s);return u===void 0&&(u=new ha(e,s),r.set(s,u),XS(e,r)),u}}function ZS(t){let e=Rg(t);return function(o){return e?.getItem(o)??null}}function Rg(t){let e="__storage_test__"+Math.random(),r;try{r=window[t]}catch{return null}try{r.setItem(e,e),r.removeItem(e)}catch(o){if(!(o instanceof DOMException&&(o.code===22||o.code===1014||o.name==="QuotaExceededError"||o.name==="NS_ERROR_DOM_QUOTA_REACHED")&&r.length!==0))return null}return r}function XS(t,e){t!==null&&!pa.has(t)&&(pa.set(t,e),pa.size===1&&addEventListener("storage",r=>{let o=pa.get(r.storageArea);if(o!==void 0){let s=o.get(r.key);s&&s.forceSync()}}))}var Yu,Qu,pa,ha,Ku=I(()=>{lr();Yu=JS("localStorage"),Qu=ZS("localStorage"),pa=new Map;ha=class extends Et{#e;#t;constructor(e,r){super(e?.getItem(r)??null),this.#e=e,this.#t=r}#n(){return this.#e?.getItem(this.#t)??null}get storage(){return this.#e}get key(){return this.#t}get(){return this.value}set(e){if(this.#e){let r=this.#n();if(e!==r)return this.#e.setItem(this.#t,e),super.set(e)}return!1}delete(){this.#e&&this.#e.removeItem(this.#t)}forceSync(){return this.#e?super.set(this.#n()):!1}}});function qg(t){return eE.includes(t)}function Io(){return matchMedia("(prefers-color-scheme:dark)")}function _g(t,e){let r=t;switch(t){case!0:t="dark";break;case!1:t="light";break;case"disabled":case"disable":case"off":t="light-only";break;case"only":t="dark-only";break}if(r!==t&&console.warn(`Used legacy value "${r}" for ColorSheme, value replaced for "${t}"`),t!=="light-only"&&t!=="dark-only"&&e){let o=Qu(Hg);qg(o)&&(t=o)}return t}function tE(t){switch(t){case"light":case"dark":return"manual";case"light-only":case"dark-only":return"only";case"auto":return"auto";default:return t}}function Ju(t){let e=Si(t);return e==="auto"?Io().matches?"dark":"light":e}function Si(t){switch(t){case"auto":return"auto";case"dark":case"dark-only":return"dark";case"light":case"light-only":default:return"light"}}function ya(t="auto",e=!1){return Ju(_g(t,e))}var Hg,eE,ma,ga,Ei=I(()=>{Ku();Hg="discoveryjs:color-scheme",eE=Object.freeze(["auto","light","dark"]),ma=Object.freeze(["auto","light","dark","light-only","dark-only"]);ga=class{#e;#t;#n;#i;#r;#o;persistent;state;value;serializedValue;mode;constructor(e="auto",r=!1){this.#e=r?Yu(Hg):null,this.#i=[],this.#r=_g(e,r),this.#o=Ju(this.#r),Object.defineProperties(this,{persistent:{get:()=>this.#e!==null},state:{get:()=>this.#r},value:{get:()=>this.#o},serializedValue:{get:()=>Si(this.#r)},mode:{get:()=>tE(this.#r)}}),this.#t=this.#e?.subscribe(o=>{qg(o)&&o!==this.serializedValue&&this.mode!=="only"&&this.set(o)}),this.#n=()=>{let o=Io(),s=()=>{this.state==="auto"&&this.set("auto")};return o.addEventListener("change",s),()=>o.removeEventListener("change",s)}}subscribe(e,r=!1){let o={fn:e};return this.#i.push(o),r&&o.fn(this.#o,this.#r),()=>{let s=o!==null?this.#i.indexOf(o):-1;o=null,s!==-1&&this.#i.splice(s,1)}}destroy(){this.#t?.(),this.#t=void 0,this.#n?.(),this.#n=void 0}set(e){let r=this.serializedValue,o=this.#o,s=this.#r;if(!ma.includes(e)){console.warn(`Bad value "${e}" for ColorScheme#state, value ignored`);return}this.#r=e,this.#o=Ju(e),this.serializedValue!==r&&this.#e?.set(this.serializedValue),(this.#r!==s||this.#o!==o)&&this.#i.forEach(({fn:u})=>u(this.#o,this.#r))}toggle(e=!1){switch(this.#r){case"auto":this.set(Io().matches?"dark":"light");return;case"dark":this.set(e&&!Io().matches?"auto":"light");return;case"light":this.set(e&&Io().matches?"auto":"dark");return}console.warn(`ColorScheme is locked for changes (mode=${this.#r})`)}}});function $g(t,e,r){e in r||(r[e]=[t.style.getPropertyValue(e),t.style.getPropertyPriority(e)])}function Zu(t,e){let r=Wg.get(t)||Object.create(null),o=ya(e)==="dark";for(let[s,u]of Object.entries(nE))$g(t,s,r),t.style.setProperty(s,u);for(let[s,u]of Object.entries(rE))$g(t,s,r),o?t.style.setProperty(s,u):t.style.removeProperty(s);return Wg.set(t,r),o}var Wg,nE,rE,Xu=I(()=>{Ei();Wg=new WeakMap,nE={"font-family":"Tahoma, Verdana, Arial, sans-serif","font-size":"14px","line-height":"1.6","-webkit-text-size-adjust":"none","text-size-adjust":"none","background-color":"var(--discovery-background-color, white)",color:"var(--discovery-color, black)"},rE={"--discovery-background-color":"#242424","--discovery-color":"#cccccc"}});function $(t,e,r){let o=document.createElement(t);typeof e=="string"&&(e={class:e});for(let s in e)if(De(e,s)){let u=e[s];if(typeof u>"u")continue;typeof u=="function"?o.addEventListener(s.slice(2),u):o.setAttribute(s,u)}return Array.isArray(r)?o.append(...r):typeof r=="string"&&(o.innerHTML=r),o}function Vg(t){return document.createTextNode(String(t))}function ec(t){return t.nodeType===Node.DOCUMENT_FRAGMENT_NODE}function Hn(...t){let e=document.createDocumentFragment();return t.forEach(r=>e.appendChild(r instanceof Node?r:Vg(r))),e}var Ug,Rt,ze=I(()=>{it();Ug=(()=>{let t=!1;try{let e={get passive(){return t=!0,!1}},r=()=>{};window.addEventListener("test-passive",r,e),window.removeEventListener("test-passive",r)}catch{}return t})(),Rt=Ug?Object.freeze({passive:!0,capture:!0}):!0});async function jo(t,e){let r=$("style",null,":host{display:none}"),o=new Set;Array.isArray(e)&&(t.append(...e.map(s=>{switch(typeof s=="string"&&(s={type:"style",content:s}),s.type){case"style":case"inline":return $("style",{media:s.media},s.content);case"link":case"external":{let u,f,d=new Promise((g,m)=>{u=g,f=m});return o.add(d),$("link",{rel:"stylesheet",href:s.href,media:s.media,onerror(g){o.delete(d),f(g)},onload(){o.delete(d),u()}})}default:throw new Error(`Unknown type "${s.type}" for a style descriptor`)}})),o.size&&(t.append(r),await Promise.all(o),r.remove()))}var va=I(()=>{ze()});function iE(t){if(!t||typeof t!="object")return"value is not an object";let{name:e,test:r,decode:o}=t;return typeof e!="string"?"missed name":typeof r!="function"?"missed test function":typeof o!="function"?"missed decode function":!1}function oE(t){let e=iE(t);if(e)throw new Error(`Bad encoding config${t?.name?` "${t.name}"`:""}: ${e}`);let{name:r,test:o,streaming:s,decode:u}=t;return Object.freeze(s?{name:r||"unknown",test:o,streaming:!0,decode:u}:{name:r||"unknown",test:o,streaming:!1,decode:u})}function wa(t){if(!t)return[];if(!Array.isArray(t))throw new Error("Encodings must be an array");return t.map(oE)}var tc=I(()=>{});function nc(t){return typeof t=="object"&&t!==null&&(typeof t[Symbol.iterator]=="function"||typeof t[Symbol.asyncIterator]=="function")}function rc(t,e,r,o){switch(r&&typeof r.toJSON=="function"&&(r=r.toJSON()),o!==null&&(r=o.call(t,String(e),r)),typeof r){case"function":case"symbol":r=void 0;break;case"object":if(r!==null){let s=r.constructor;(s===String||s===Number||s===Boolean)&&(r=r.valueOf())}break}return r}function sE(t){return typeof t=="function"?t:Array.isArray(t)?[...new Set(t.map(r=>{let o=r&&r.constructor;return o===String||o===Number?String(r):null}).filter(r=>typeof r=="string"))]:null}function aE(t){return typeof t=="number"?!Number.isFinite(t)||t<1?!1:" ".repeat(Math.min(t,10)):typeof t=="string"&&t.slice(0,10)||!1}function ic(t,e){(t===null||Array.isArray(t)||typeof t!="object")&&(t={replacer:t,space:e});let r=sE(t.replacer),o=Object.keys;if(Array.isArray(r)){let s=r;o=()=>s,r=null}return{...t,replacer:r,getKeys:o,space:aE(t.space)}}var Bo=I(()=>{});function cE(t,e){return t.name==="SyntaxError"&&e.jsonParseOffset&&(t.message=t.message.replace(/at position (\d+)/,(r,o)=>"at position "+(Number(o)+e.jsonParseOffset))),t}function fE(t,e){let r=t.length;t.length+=e.length;for(let o=0;o<e.length;o++)t[r+o]=e[o]}async function ba(t){let e=typeof t=="function"?t():t;if(nc(e)){let r=new oc;try{for await(let o of e){if(typeof o!="string"&&!ArrayBuffer.isView(o))throw new TypeError("Invalid chunk: Expected string, TypedArray or Buffer");r.push(o)}return r.finish()}catch(o){throw cE(o,r)}}throw new TypeError("Invalid chunk emitter: Expected an Iterable, AsyncIterable, generator, async generator, or a function returning an Iterable or AsyncIterable")}var zo,lE,uE,oc,sc=I(()=>{Bo();zo=1,lE=2,uE=new TextDecoder;oc=class{constructor(){this.value=void 0,this.valueStack=null,this.stack=new Array(100),this.lastFlushDepth=0,this.flushDepth=0,this.stateString=!1,this.stateStringEscape=!1,this.pendingByteSeq=null,this.pendingChunk=null,this.chunkOffset=0,this.jsonParseOffset=0}parseAndAppend(e,r){this.stack[this.lastFlushDepth-1]===zo?(r&&(this.jsonParseOffset--,e="{"+e+"}"),Object.assign(this.valueStack.value,JSON.parse(e))):(r&&(this.jsonParseOffset--,e="["+e+"]"),fE(this.valueStack.value,JSON.parse(e)))}prepareAddition(e){let{value:r}=this.valueStack;if(Array.isArray(r)?r.length!==0:Object.keys(r).length!==0){if(e[0]===",")return this.jsonParseOffset++,e.slice(1);if(e[0]!=="}"&&e[0]!=="]")return this.jsonParseOffset-=3,"[[]"+e}return e}flush(e,r,o){let s=e.slice(r,o);if(this.jsonParseOffset=this.chunkOffset+r,this.pendingChunk!==null&&(s=this.pendingChunk+s,this.jsonParseOffset-=this.pendingChunk.length,this.pendingChunk=null),this.flushDepth===this.lastFlushDepth)this.flushDepth>0?this.parseAndAppend(this.prepareAddition(s),!0):(this.value=JSON.parse(s),this.valueStack={value:this.value,prev:null});else if(this.flushDepth>this.lastFlushDepth){for(let u=this.flushDepth-1;u>=this.lastFlushDepth;u--)s+=this.stack[u]===zo?"}":"]";this.lastFlushDepth===0?(this.value=JSON.parse(s),this.valueStack={value:this.value,prev:null}):this.parseAndAppend(this.prepareAddition(s),!0);for(let u=this.lastFlushDepth||1;u<this.flushDepth;u++){let f=this.valueStack.value;if(this.stack[u-1]===zo){let d;for(d in f);f=f[d]}else f=f[f.length-1];this.valueStack={value:f,prev:this.valueStack}}}else{s=this.prepareAddition(s);for(let u=this.lastFlushDepth-1;u>=this.flushDepth;u--)this.jsonParseOffset--,s=(this.stack[u]===zo?"{":"[")+s;this.parseAndAppend(s,!1);for(let u=this.lastFlushDepth-1;u>=this.flushDepth;u--)this.valueStack=this.valueStack.prev}this.lastFlushDepth=this.flushDepth}push(e){if(typeof e!="string"){if(this.pendingByteSeq!==null){let u=e;e=new Uint8Array(this.pendingByteSeq.length+u.length),e.set(this.pendingByteSeq),e.set(u,this.pendingByteSeq.length),this.pendingByteSeq=null}if(e[e.length-1]>127)for(let u=0;u<e.length;u++){let f=e[e.length-1-u];if(f>>6===3){u++,(u!==4&&f>>3===30||u!==3&&f>>4===14||u!==2&&f>>5===6)&&(this.pendingByteSeq=e.slice(e.length-u),e=e.slice(0,-u));break}}e=uE.decode(e)}let r=e.length,o=0,s=0;e:for(let u=0;u<r;u++){if(this.stateString){for(;u<r;u++)if(this.stateStringEscape)this.stateStringEscape=!1;else switch(e.charCodeAt(u)){case 34:this.stateString=!1;continue e;case 92:this.stateStringEscape=!0}break}switch(e.charCodeAt(u)){case 34:this.stateString=!0,this.stateStringEscape=!1;break;case 44:s=u;break;case 123:s=u+1,this.stack[this.flushDepth++]=zo;break;case 91:s=u+1,this.stack[this.flushDepth++]=lE;break;case 93:case 125:s=u+1,this.flushDepth--,this.flushDepth<this.lastFlushDepth&&(this.flush(e,o,s),o=s);break;case 9:case 10:case 13:case 32:o===u&&o++,s===u&&s++;break}}s>o&&this.flush(e,o,s),s<r&&(this.pendingChunk!==null?this.pendingChunk+=e:this.pendingChunk=e.slice(s,r)),this.chunkOffset+=r}finish(){return this.pendingChunk!==null&&(this.flush("",0,0),this.pendingChunk=null),this.value}}});var ac=I(()=>{Bo()});function gE(t){return t>=55296&&t<=56319}function mE(t){return t>=56320&&t<=57343}function Gg(t){if(!/[^\x20\x21\x23-\x5B\x5D-\x7F]/.test(t))return t.length+2;let e=0,r=!1;for(let o=0;o<t.length;o++){let s=t.charCodeAt(o);if(s<2048)e+=hE[s];else if(gE(s)){e+=6,r=!0;continue}else mE(s)?e=r?e-2:e+6:e+=3;r=!1}return e+2}function yE(t){let e=0;return t<0&&(e=1,t=-t),t>=1e9&&(e+=9,t=(t-t%1e9)/1e9),t>=1e4?t>=1e6?e+(t>=1e8?9:t>=1e7?8:7):e+(t>=1e5?6:5):e+(t>=100?t>=1e3?4:3:t>=10?2:1)}function vE(t){switch(typeof t){case"string":return Gg(t);case"number":return Number.isFinite(t)?Number.isInteger(t)?yE(t):String(t).length:4;case"boolean":return t?4:5;case"undefined":case"object":return 4;default:return 0}}function Mr(t,...e){let{replacer:r,getKeys:o,...s}=ic(...e),u=!!s.continueOnCircular,f=s.space?.length||0,d=new Map,h=new Map,g=new Set,m=[],w={"":t},x=!1,D=0,L=0,N=0;return T(w,"",t),D===0&&(D+=9),{bytes:isNaN(D)?1/0:D+L,spaceBytes:f>0&&isNaN(D)?1/0:L,circular:[...g]};function T(C,k,M){if(!x)if(M=rc(C,k,M,r),M===null||typeof M!="object")(M!==void 0||Array.isArray(C))&&(D+=vE(M));else{if(m.includes(M)){g.add(M),D+=4,u||(x=!0);return}if(h.has(M)){D+=h.get(M);return}N++;let O=N,F=D,P=0;if(m.push(M),Array.isArray(M)){P=M.length;for(let j=0;j<P;j++)T(M,j,M[j])}else{let j=D;for(let H of o(M))if(T(M,H,M[H]),j!==D){let W=d.get(H);W===void 0&&d.set(H,W=Gg(H)+1),D+=W,P++,j=D}}D+=P===0?2:1+P,f>0&&P>0&&(L+=(Array.isArray(M)?0:P)+(1+m.length*f)*(P+1)-f),m.pop(),O!==N&&h.set(M,D-F)}}}var dE,pE,hE,Yg=I(()=>{Bo();dE=typeof Object.hasOwn=="function"?Object.hasOwn:(t,e)=>Object.hasOwnProperty.call(t,e),pE={8:"\\b",9:"\\t",10:"\\n",12:"\\f",13:"\\r",34:'\\"',92:"\\\\"},hE=Uint8Array.from({length:2048},(t,e)=>dE(pE,e)?2:e<32?6:e<128?1:2)});var Qg=I(()=>{sc();ac();Bo()});var lc=I(()=>{sc();ac();Yg();Qg()});var uc,Kg=I(()=>{lc();uc=Object.freeze({name:"json",test:()=>!0,streaming:!0,decode:ba})});function WE(t,e,r,o=new Array(r)){let s=e&15,u=e&48,f=r,d=0,h=0;switch(u){case Jg:{d=o[0]=t.readIntVar(),f--,h=1;break}case Zg:{d=t.readIntVar();break}}switch(s){case BE:{for(let g=0;g<f;g++)o[h+g]=t.readVlq();break}case zE:{for(let g=0;g<f;g++)o[h+g]=t.readIntVar();break}case RE:{let g=t.readBytes(Math.ceil(f/2));for(let m=0,w=0;m<f;m++)w=m&1?w>>4:g[m>>1],o[h+m]=w&8?t.readVlq()*8+(w&7):w&7;break}case HE:{let g=t.readBytes(Math.ceil(f/2));for(let m=0,w=0;m<f;m++){w=m&1?w>>4:g[m>>1];let x=w&4?-1:1;o[h+m]=w&8?x*(t.readVlq()*4+(w&3)):x*(w&3)}break}case nm:{let g=e>>8,m=(1<<g)-1,w=t.readBytes(Math.ceil(f*g/8)),x=0,D=0,L=0;for(let N=0;N<f;N++){for(;D<g;)L|=w[x++]<<D,D+=8;o[h+N]=L&m,L>>=g,D-=g}break}case rm:{let g=e>>8,m=(1<<g)-1,w=t.readBytes(Math.ceil(f*g/8)),x=0,D=0,L=0;for(let N=0;N<f;N++){for(;D<g;)L|=w[x++]<<D,D+=8;o[h+N]=L&1?-((L&m)>>1):(L&m)>>1,L>>=g,D-=g}break}case qE:{let g=o[0]=t.readIntVar(),m=t.readIntVar();for(let w=1;w<r;w++)o[w]=g+=m;break}case tm:case fc:{let g=s===fc,m=e>>8,w=g?e&jE|m&IE:m;if(im[m]>1){let x=t.readTypeIndex(f,w);for(let D=0;D<f;D++)o[h+D]=t.readNumber(x[D])}else{let x=31-Math.clz32(w);for(let D=0;D<f;D++)o[h+D]=t.readNumber(x)}break}default:throw new Error(`Unknown numeric array encoding method: ${s}`)}switch(u){case Jg:{o[0]=d;for(let g=1;g<r;g++)o[g]+=o[g-1];break}case Zg:{for(let g=0;g<r;g++)o[g]+=d;break}}return o}function $E(t){return t===em||t===9}function om(t){try{let{version:e}=sm(t);if($E(e))return!0;throw new Error(`Unsupported jsonxl version "${e}", expected "${em}"`)}catch{return!1}}function sm(t){if(t.byteLength<Ho)throw new Error(`Header length must be at least ${Ho} bytes`);let e=new Uint8Array(t.buffer,t.byteOffset,Ho);if(e.subarray(0,8).some((u,f)=>u!==bE[f]))throw new Error("Bad magic number");let r=new DataView(e.buffer,e.byteOffset,Ho),o=r.getUint16(8,!0),s=r.getUint16(10,!0);return{version:o,flags:s,headerSize:Ho}}function UE(t){let e=VE.decode(t.readBytes(t.readVlq())),r=t.readNumericArray(),o=t.readNumericArray(),s=t.readNumericArray(),u=new Array(r);for(let f=0,d=0,h=0,g=0,m="";f<r.length;f++){let w=r[f],x=e.slice(d,d+=w>>2);w&2&&(x=m.slice(0,o[h++])+x),w&1&&(x=x+m.slice(-s[g++])),u[f]=x,m=x}return u}function Xg(t,e){let r=0;for(let o=0;o<t.length;o++)t[o]===e&&r++;return r}function am(t,e){function r(d={}){let h=0,g;for(;g=u.readObjectEntry(h++);)d[g.key]=s(g.type);return d}function o(d=u.readArrayLength()){if(d===0)return[];let h=u.readArrayHeader(),g=h>>16,m=h&65535,w=g&1,x=g>>5&1,D=g>>9&1,L=g>>1&255|(g&1)<<4,N=new Array(d),T=im[L]>1?u.readTypeIndex(d,L,!0):null;if(L&_E)if(T===null)switch(L){case xa:N.fill(null);break;case ka:N.fill(!0);break;case Ca:N.fill(!1);break}else for(let C=0;C<d;C++)switch(T[C]){case xa:N[C]=null;break;case ka:N[C]=!0;break;case Ca:N[C]=!1;break}if(L&cc)for(let C=0;C<d;C++)(T===null||T[C]===cc)&&(N[C]=u.readString());if(L&Ro)if(L===Ro)u.readNumbers(m,d,N);else{let C=Xg(T,Ro),k=u.readNumbers(m,C);for(let M=0,O=0;M<d;M++)T[M]===Ro&&(N[M]=k[O++])}if(L&Ti)if(D){let C=L===Ti?d:Xg(T,Ti),k=u.readNumericArray(C),M=o();for(let O=0,F=0,P=0;O<d;O++)(T===null||T[O]===Ti)&&(N[O]=M.slice(P,P+=k[F++]))}else for(let C=0;C<d;C++)(T===null||T[C]===Ti)&&(N[C]=o());if(L&qo){let C=L===qo?N:[];for(let k=0,M=0;k<d;k++)(T===null||T[k]===qo)&&(N[k]=C[M++]={});if(x){let k=u.readVlq(),M=new Array(k);for(let O=0;O<k;O++)M[O]=u.readString();for(let O=0;O<k;O++){let F=M[O],P=o(C.length);for(let j=0;j<C.length;j++)P[j]!==void 0&&(C[j][F]=P[j])}}if(w)for(let k=0;k<C.length;k++)r(C[k])}return N}function s(d){switch(1<<(d&7)){case xa:return null;case cc:return u.readString();case Ro:return u.readNumber(d>>3);case qo:return r();case ka:return!0;case Ca:return!1;case Ti:return o()}}let u=new GE(t,e),f=s(u.readUint8());if(u.pos!==t.byteLength)throw new Error("End of input is not reached");return f}var bE,em,xE,kE,xa,Ro,cc,qo,ka,Ca,Ti,CE,AE,DE,SE,EE,TE,ME,LE,FE,NE,OE,PE,IE,jE,tm,fc,BE,zE,RE,HE,nm,rm,qE,Jg,Zg,f2,_E,im,Ho,VE,GE,lm=I(()=>{bE=new Uint8Array([0,0,74,83,79,78,88,76]),em=9,xE=268435455,kE=4294967295,xa=2,Ro=4,cc=8,qo=16,ka=32,Ca=64,Ti=128,CE=0,AE=1,DE=2,SE=3,EE=4,TE=5,ME=6,LE=8,FE=9,NE=10,OE=11,PE=12,IE=224,jE=7936,tm=0,fc=1,BE=2,zE=3,RE=4,HE=5,nm=6,rm=7,qE=8,Jg=16,Zg=32,f2=~qo,_E=xa|ka|Ca,im=new Uint8Array(256).map((t,e)=>{for(let r=0;r<8;r++)t+=e>>r&1;return t});Ho=12;VE=new TextDecoder("utf8",{ignoreBOM:!0});GE=class{constructor(t,e){this.view=new DataView(t.buffer,t.byteOffset,t.byteLength),this.bytes=t,this.pos=0,typeof e=="function"&&e(this),this.consumeHeader(),this.loadStrings(),this.loadArrayLengths(),this.loadArrayHeaders(),this.loadObjectEntries()}consumeHeader(){let{version:t,flags:e,headerSize:r}=sm(this.view);return this.pos+=r,{version:t,flags:e}}loadStrings(){this.strings=UE(this),this.stringRefs=this.readNumericArray(),this.stringRefsCursor=0}loadArrayHeaders(){this.arrayHeaders=this.readNumericArray(),this.arrayHeaderRefs=this.readNumericArray(),this.arrayHeaderRefsCursor=0}loadArrayLengths(){this.arrayLengths=this.readNumericArray(),this.arrayLengthsCursor=0}loadObjectEntries(){let t=this.readVlq(),e=this.readVlq();this.objectEntries=new Array(t),this.objectKeys=e?this.stringRefs.slice(-e).map(r=>this.strings[r]):[];for(let r=0;r<t;r++)this.objectEntries[r]={dict:this.readNumericArray(),refs:this.readNumericArray(),cursor:0}}readString(){return this.strings[this.stringRefs[this.stringRefsCursor++]]}readArrayHeader(){return this.arrayHeaders[this.arrayHeaderRefs[this.arrayHeaderRefsCursor++]]}readArrayLength(){return this.arrayLengths[this.arrayLengthsCursor++]}readObjectEntry(t){let e=this.objectEntries[t],r=e.refs[e.cursor++],o=e.dict[r];return o===0?null:{key:this.objectKeys[o>>8],type:o&255}}readBytes(t){return this.bytes.subarray(this.pos,this.pos+=t)}readTypeIndex(t,e,r){let o=0,s=0,u=0;for(;e>0;)e&1&&(o|=u<<(s++<<2)),u++,e>>=1;let f=new Uint8Array(t),d=32-Math.clz32(s-1),h=(1<<d)-1,g=this.readBytes(Math.ceil(d*t/8)),m=0,w=0,x=0;for(let D=0;D<t;D++){x<d&&(w|=g[m++]<<x,x+=8);let L=o>>((w&h)<<2)&15;f[D]=r?1<<L:L,w>>=d,x-=d}return f}readVlq(){let t=this.view.getUint8(this.pos);if(!(t&1))t=t>>1,this.pos+=1;else if(!(t&2))t=this.view.getUint8(this.pos+1)<<6|t>>2,this.pos+=2;else if(!(t&4))t=this.view.getUint16(this.pos+1,!0)<<5|t>>3,this.pos+=3;else{let e=this.view.getUint32(this.pos,!0);t=e>>>3&xE,this.pos+=4,e>>>31&&(t+=this.readUintVar()*(1<<28))}return t}readUintVar(){let t=this.view.getUint8(this.pos++),e=t&127,r=128;for(;t&128;)t=this.view.getUint8(this.pos++),e+=(t&127)*r,r*=128;return e}readIntVar(){let t=this.readUintVar();return t&1?-(t-1)/2:t<=kE?t>>>1:t/2}readUint8(){let t=this.view.getUint8(this.pos);return this.pos++,t}readInt8(){let t=this.view.getInt8(this.pos);return this.pos++,t}readUint16(){let t=this.view.getUint16(this.pos,!0);return this.pos+=2,t}readInt16(){let t=this.view.getInt16(this.pos,!0);return this.pos+=2,t}readUint24(){let t=this.view.getUint16(this.pos,!0)|this.view.getUint8(this.pos+2)<<16;return this.pos+=3,t}readInt24(){let t=this.view.getUint16(this.pos,!0),e=this.view.getUint8(this.pos+2),r=e&128?(e<<16|t)-16777216:e<<16|t;return this.pos+=3,r}readUint32(){let t=this.view.getUint32(this.pos,!0);return this.pos+=4,t}readInt32(){let t=this.view.getInt32(this.pos,!0);return this.pos+=4,t}readFloat32(){let t=this.view.getFloat32(this.pos,!0);return this.pos+=4,t}readFloat64(){let t=this.view.getFloat64(this.pos,!0);return this.pos+=8,t}readNumber(t){switch(t){case CE:return this.readUint8();case AE:return this.readUint16();case DE:return this.readUint24();case SE:return this.readUint32();case EE:return this.readUintVar();case LE:return this.readInt8();case FE:return this.readInt16();case NE:return this.readInt24();case OE:return this.readInt32();case PE:return this.readIntVar();case TE:return this.readFloat32();case ME:return this.readFloat64()}}readNumericArrayEncoding(){let t=this.readUint8();switch(t&15){case tm:case fc:case nm:case rm:t|=this.readUint8()<<8;break}return t}readNumericArray(t=this.readVlq()){if(t===0)return[];let e=this.readNumericArrayEncoding();return this.readNumbers(e,t)}readNumbers(t,e,r){return WE(this,t,e,r)}}});var Aa,dc=I(()=>{lm();Aa=Object.freeze({name:"jsonxl/snapshot9",test:om,streaming:!1,decode:am})});var um=I(()=>{Kg();dc()});function QE(t){return t.reduce((e,r)=>e+r.byteLength,0)}function KE(t,e){switch(t.length){case 0:return;case 1:return t[0];default:{let r=new Uint8Array(e||QE(t)),o=0;for(let s of t)r.set(s,o),o+=s.length;return r}}}async function fm(t){let e=[],r=0;for await(let o of t)e.push(o),r+=o.byteLength;return KE(e,r)}function JE(t,e){if(typeof t!="string"){for(let r of e)if(r.test(t))return r}return null}var cm,Da,ZE,Sa,dm=I(()=>{cm=[{name:"gzip",test:t=>t[0]===31&&t[1]===139&&t[2]===8,createTransformStream:()=>new DecompressionStream("gzip")},{name:"zlib",test:t=>(t[0]&15)===8&&t[0]>>4<=7&&(t[0]<<8|t[1])%31===0,createTransformStream:()=>new DecompressionStream("deflate")}];Da=class{#e;#t;#n;#i;constructor(e,r){this.#e=e,this.#t=r,this.#n=null,this.#i=null}transform(e,r){if(this.#i===null){let o=JE(e,this.#e);if(o===null)this.#i=Promise.resolve();else{let{readable:s,writable:u}=o.createTransformStream();this.#n=u.getWriter(),this.#i=s.pipeTo(new WritableStream({write(f){r.enqueue(f)},close(){r.terminate()},abort(f){r.error(f)}})),typeof this.#t=="function"&&this.#t(o.name)}}if(this.#n!==null)return this.#n.write(e);r.enqueue(e)}async flush(){this.#n!==null&&(this.#n.close(),this.#n=null),this.#i!==null&&(await this.#i,this.#i=null)}},ZE=1024*1024/4,Sa=class{#e;#t;#n;constructor(e,r=ZE){this.#e=e,this.#t="",this.#n=r}async transform(e,r){if(typeof this.#t!="string"&&await this.#r(r),typeof e=="string"){if(this.#t+=e,this.#i>=this.#n)return this.#r(r)}else this.#t=e,await this.#r(r)}async flush(e){await this.#r(e),await this.#e(!0)}get#i(){return this.#t.length}async#r(e){let r=this.#t;if(this.#i!==0){this.#t="";for(let o=0;o<r.length;){let s=o===0&&r.length-o<this.#n*1.5?r:r.slice(o,o+this.#n);e.enqueue(s),o+=s.length,await this.#e(!1,s.length)}}}}});function XE(t){try{return new URL(t,location.origin).origin===location.origin}catch{return!1}}function eT(t){return t.ok}function tT(t){return t.headers.get("x-file-encoded-size")||t.headers.get("content-length")}function nT(t){return t.headers.get("x-file-size")||(XE(t.url)&&!t.headers.get("content-encoding")?t.headers.get("content-length"):void 0)}function rT(t){return t.headers.get("x-file-created-at")||t.headers.get("last-modified")||void 0}function iT(t){let e=t?Object.keys(t):[],r=["name","createdAt","elapsedTime","data"];return!(e.length!==4||e.some(o=>!r.includes(o)))}function oT(t,e,{size:r,compression:o,encoding:s}){let u=null;if(iT(t)){let{data:T,...C}=t;t=T,e={...e,createdAt:T.createdAt},u=C}let f=t,d=u||{},{type:h,name:g,encoding:m,size:w,encodedSize:x,createdAt:D,...L}=e||{};return{resource:{type:h||"unknown",name:g||"unknown",compression:o,encoding:s,...Number.isFinite(r)?{size:r}:null,...Number.isFinite(x)?{encodedSize:x}:null,createdAt:new Date((typeof D=="string"?Date.parse(D):D)||Date.now()),...L},meta:d,data:f}}async function sT(t,e,r,o){let s=Date.now(),u=[...wa(e),Aa,uc],f=0,d=!1,h="unknown",g=0;await o("receiving",x(!1));let w=t.pipeThrough(new TransformStream(new Sa(D))).pipeThrough(new TransformStream(new Da(cm,T=>d=T))).getReader();try{let T=await w.read(),{value:C,done:k}=T;if(k)throw new Error("Empty payload");for(let{name:M,test:O,streaming:F,decode:P}of u)if(O(C)){h=M;let j=L(w,T);return{data:await(F?P(j):fm(j).then(N(P))),compression:d,encoding:h,size:g,decodingTime:f}}throw new Error("No matched encoding found for the payload")}finally{w.releaseLock()}function x(T){return{done:T,elapsed:Date.now()-s,units:"bytes",completed:g,total:r}}async function D(T,C=0){g+=C,await o("receiving",x(T))}async function*L(T,C){for(;;){let{value:k,done:M}=C||await T.read();if(C=void 0,M)break;let O=performance.now();yield k,f+=performance.now()-O}}function N(T){return async C=>{await o("decoding",void 0,h);let k=performance.now();try{return await T(C)}finally{f=performance.now()-k}}}}async function aT(t,e){try{await e.asyncSet({stage:"request"});let r=new Date,{method:o,stream:s,resource:u,options:f,data:d}=await t(),h=new Date,g=u?.size,{encodings:m}=f||{},{data:w,compression:x=!1,encoding:D="unknown",size:L=void 0,decodingTime:N=0}=d?{data:d}:await sT(s,m,Number(g)||0,(P,j,H)=>e.asyncSet({stage:P,progress:j,step:H}));await e.asyncSet({stage:"received"});let{data:T,resource:C,meta:k}=oT(w,u,{size:L,compression:x,encoding:D}),M=new Date,O=Number(M)-Number(r),F=Math.round(N||0);return{loadMethod:o,resource:C,meta:k,data:T,timings:{time:O,start:r,end:M,loadingTime:O-F,decodingTime:F,requestTime:Number(h)-Number(r),requestStart:r,requestEnd:h,responseTime:Number(M)-Number(h),responseStart:h,responseEnd:M}}}catch(r){throw console.error("[Discovery] Error loading data:",r),await e.asyncSet({stage:"error",error:r}),r}}function Ta(t,e){let r=new Et({stage:"inited"});return{state:r,dataset:t(r),...e}}function Ma(t){return e=>aT(t,e)}function _o(t,e){return Ta(Ma(()=>({method:"stream",stream:t,resource:e?.resource,options:e})))}function La(t,e){let r=pm(t);return Ta(Ma(()=>({method:"file",stream:t.stream(),resource:e?.resource||r,options:e})),{title:"Load data from file: "+(r?.name||"unknown")})}function pc(t,e){let o=(t.dataTransfer||t.clipboardData||t.target)?.files?.[0];if(t.stopPropagation(),t.preventDefault(),!o)throw new Error("Can't extract a file from an event object");return La(o,e)}function hc(t,e){return e=e||{},Ta(Ma(async()=>{let r=await fetch(t,e.fetch),o=pm(r,e);if(o&&r.body)return{method:"fetch",stream:r.body,resource:e.resource||o,options:e};let s=r.headers.get("content-type")||"",u=await r.text();if(s.toLowerCase().startsWith("application/json"))try{let f=JSON.parse(u);u=f.error||f}catch{}throw u=new Error(u),u.isFetchError=!0,u.status=r.status,u.statusText=r.statusText,u.stack=null,u}),{title:`Load data from url: ${t}`})}function gc(t){let e,r=new ReadableStream({start(f){e=f},cancel(){e=null}}),o,s=null,u=new Promise(f=>{o=d=>f({method:"push",stream:r,resource:d?s=d:t?.resource,options:t})});return t=t||{},Ta(Ma(()=>u),{start(f){o(f)},push(f){o(),e?.enqueue(f)},finish(f){e?.close(),e=null,f!==void 0&&isFinite(f)&&s!==null&&(s.encodedSize=Number(f)),s=null}})}function Fa({dataset:t,state:e},r){return new Promise((o,s)=>e.subscribeSync(async(u,f)=>{if(u.stage==="error"){f(),s(u.error);return}let{stage:d,progress:h,step:g}=u;await r.setState({stage:d,progress:h},g),d==="received"&&(f(),o(t))}))}function pm(t,e){if(t instanceof Response){let r=e?.isResponseOk||eT,o=e?.getContentSize||nT,s=e?.getContentEncodedSize||tT,u=e?.getContentCreatedAt||rT;if(r(t))return{type:"url",name:t.url,size:Number(o(t))||null,encodedSize:Number(s(t)),createdAt:u(t)}}if(t instanceof File)return{type:"file",name:t.name,size:t.size,createdAt:t.lastModified};if(t instanceof Blob)return{size:t.size};if(ArrayBuffer.isView(t))return{size:t.byteLength};if(typeof t=="string")return{size:t.length}}var Ea,Mi=I(()=>{lr();tc();um();dm();Ea={stream:_o,event:pc,file:La,url:hc,push:gc}});function mm(t,e,r){let{value:o,title:s,duration:u}=ym[t],f=0,d=null;if(e){let{done:h,elapsed:g,units:m,completed:w,total:x}=e;x?(f=h?1:w/x,d=m==="bytes"?Math.round(f*100)+"%":`${w}/${x}`):(f=h?1:.1+Math.min(.9,g/2e4),d=m==="bytes"?(w/(1024*1024)).toFixed(1)+"MB":String(w))}return{stageTitle:s,progressValue:o+f*u,progressText:d,stepText:r||"",title:d?`${s} (${d})${r?":":"..."}`:t!=="done"?`${s}${r?":":"..."}`:s}}var ym,lT,hm,gm,uT,Lr,Na=I(()=>{lr();ze();ym={inited:{value:0,duration:0,title:"Init"},request:{value:0,duration:.1,title:"Awaiting data"},receiving:{value:.1,duration:.8,title:"Receiving data"},decoding:{value:.9,duration:.015,title:"Decoding data"},received:{value:.915,duration:.01,title:"Await app ready"},prepare:{value:.925,duration:.055,title:"Processing data (prepare)"},initui:{value:.98,duration:.02,title:"Rendering UI"},done:{value:1,duration:0,title:"Done!"},error:{value:1,duration:0,title:"Error"}},lT=t=>t|0,hm=t=>typeof t=="function"?t:()=>{},gm=t=>new Promise(e=>setTimeout(e,t)),uT=async()=>{if(!document.hidden)return Promise.race([new Promise(requestAnimationFrame).then(()=>gm(0)),gm(12)])};Lr=class extends Et{startTime;lastStageStartTime;awaitRepaintPenaltyTime;finished;awaitRepaint;timings;onTiming;onFinish;appearanceDelay;domReady;el;#e;#t;constructor({onTiming:e,onFinish:r,domReady:o}){super({stage:"inited",progress:null,error:null}),this.startTime=null,this.lastStageStartTime=null,this.awaitRepaintPenaltyTime=0,this.finished=!1,this.awaitRepaint=null,this.timings=[],this.onTiming=hm(e),this.onFinish=hm(r),this.domReady=o||Promise.resolve(),this.el=$("div","view-progress skip-fast-track",[$("div","content main-secondary",[this.#e=$("span","main"),this.#t=$("span","secondary")]),$("div","progress")])}recordTiming(e,r,o=performance.now()){let s={stage:e,title:ym[e].title,duration:lT(o-r)};this.lastStageStartTime=o,this.timings.push(s),this.onTiming(s)}async#n(e=!1,r=performance.now()){let o=r-(this.awaitRepaint||0),s=r-(this.lastStageStartTime||0);if(e||o>65&&s>200){let u=performance.now();await uT(),this.awaitRepaintPenaltyTime+=performance.now()-u,this.awaitRepaint=performance.now()}}async setState(e,r){let o=this.value.stage,{stage:s=o,progress:u=null,error:f=null}=e;if(this.finished)return;if(f){this.set("stage"in e?{stage:s,progress:u,error:f}:{...this.value,error:f}),this.finish(f);return}this.set({stage:s,progress:u,error:f});let d=s!==o,h=performance.now();o==="inited"&&(this.startTime=h),d&&(this.lastStageStartTime!==null&&this.recordTiming(o,this.lastStageStartTime,h),this.lastStageStartTime=h,this.awaitRepaint=h);let{title:g,stepText:m,progressValue:w}=mm(s,u,r);this.el.style.setProperty("--progress",String(w)),this.#e.textContent=g,this.#t.textContent=m,this.el.offsetWidth,await this.#n(d,h)}async setStateStep(e){let{title:r,stepText:o}=mm(this.value.stage,this.value.progress,e);this.#e.textContent=r,this.#t.textContent=o,this.el.offsetWidth,await this.#n(!0)}finish(e){this.finished||(this.finished=!0,this.lastStageStartTime!==null&&this.recordTiming(this.value.stage,this.lastStageStartTime),this.recordTiming(e?"error":"done",this.startTime||this.lastStageStartTime||performance.now()),this.set({stage:"done",progress:null,error:e||null}),this.onFinish(Object.assign([...this.timings],{awaitRepaintPenaltyTime:Math.round(this.awaitRepaintPenaltyTime)})),this.el.classList.add("done"),this.el.classList.toggle("error",!!e))}dispose(){this.finish(),this.el.remove()}}});function cT(t){return new Lr({domReady:t,onTiming:({title:e,duration:r})=>console.log(`[Discovery/preloader] ${e} \u2013 ${r}ms`)})}function fT(t){if(t&&!De(Ea,t))throw new Error(`dataSource "${t}" is not supported`)}function dT(t,e,r){let{darkmode:o,darkmodePersistent:s,colorScheme:u=o,colorSchemePersistent:f=s}=r,d=ya(u,f);Zu(e,d)&&t.setAttribute("darkmode","")}function Oa(t){t=t||{};let e=t.container||document.body,r=document.createElement("div"),o=r.attachShadow({mode:"open"}),s=t.dataSource;fT(s),dT(r,e,t);let u=t.data,f=u?s==="push"?Ea.push(t.loadDataOptions):Ea[s||"url"](t.data,t.loadDataOptions):{dataset:Promise.resolve(),state:void 0};if(u&&s==="push"){let{start:m,push:w,finish:x}=f;globalThis.discoveryLoader={start:m,push:w,finish(...D){delete globalThis.discoveryLoader,x(...D)}}}let d=jo(o,t.styles),h=t.progressbar||cT(d),g=t.embed?pT(f.state):()=>{};return f.state&&Fa(f,h).catch(()=>{}),o.append(h.el),e.append(r),Object.assign(f.dataset,{el:r,shadowRoot:o,progressbar:h,disposeEmbed:g})}function pT(t){let e=Di(),r=window.parent,o=[],s=(h,g)=>{let m={from:"discoveryjs-app",id:e,type:h,payload:g};r.postMessage(m,"*")},u=()=>s("destroy",null),f=h=>{let{id:g,type:m}=h.data||{};if(g===e)switch(m){case"defineAction":case"setPageHash":case"setRouterPreventLocationUpdate":{o.push(h.data);break}default:console.error(`[Discovery/preloader] Unknown preload message type "${m}"`)}};if(r===window)return;addEventListener("message",f,!1),addEventListener("unload",u,!1),s("preinit",{page:{hash:location.hash||"#"}});let d=t?t.subscribeSync(h=>{let{stage:g}=h;return(g==="error"||g==="received")&&d(),s("loadingState",h)}):()=>{};return()=>(removeEventListener("message",f,!1),removeEventListener("unload",u,!1),d(),u(),{hostId:e,postponeMessages:o})}var vm=I(()=>{it();da();Ei();Xu();va();Mi();Na();Oa.colorScheme=!0});var bm,wm=I(()=>{bm="AGFzbQEAAAABEANgAABgAX8Bf2ADf39/AX8CEwEHaW1wb3J0cwZtZW1vcnkCAAADBgUAAQICAQYMAn8AQbMKC38BQQALBygDC2lucHV0T2Zmc2V0AwAMb3V0cHV0T2Zmc2V0AwEHaW5mbGF0ZQAECAEACuoIBQwAPwBBAXZBEHQkAQvEAQEEfyMAIgEiAiAAaiEEAkADQCAARSAEQQFrLQAAQT1Hcg0BIARBAWshBCAAQQFrIQAMAAsLA0AgAS0AAC0AswhBEnQgAUEBai0AAC0AswhBDHRyIAFBAmotAAAtALMIQQZ0ciABQQNqLQAALQCzCHIhAyACIANBEHY6AAAgAkEBaiADQQh2OgAAIAJBAmogAzoAACABQQRqIQEgAkEDaiECIAEgBEkNAAsCfyAAQQJ2QQNsCwJ/IABBA3FBBmxBA3YLagsrACACIAAgAk8NAANAIAAgAS0AADoAACABQQFqIQEgAEEBaiIAIAJJDQALCxAAIAEgACACIAFr/AsAIAIL1wYBGn8gABABIRMjACEBIwEhAiABQQMiBnQhBQN/An8CQAJ/AkACQAJAAkACfwJAAn8CQAJAAkACQAJAAkACQAJAIAVBA3YoAgAgBUEHcXZBASAGdEEBa3EhByAFIAZqIQUgAw4IAAQJBQcFDgUOCyAHQQFxIQQgB0EBdg4CAAECCyACIAVBB2pBA3YiAUEEaiIJIAIgAS8BACIaahACIQIgCSAaakEDdCEFDA4LQRVBCEEHQQlBCEEAQZABEANBgAIQA0GYAhADQaACIgsQA0HAAhADIQ5BBQwHC0EODA0LIAdBBXZBH3EgB0EfcUGBAmoiC2pBAWohDCAHQQp2QQRqIQ1BACIKQQBBFiIOEANBAwwMCyAIQQF0IAdyIBJBAWoiEi0AgANrIghBAE4NDCASQQF0LwHAAiAIQQF0ai8BoAMhCCADQQNrQQF2DgIABQYLIAhBEEkEQCAIIAogC09BBHRqIREgCkEBagwCCyAIQRBGIBFsIREgCiAIQRVGQQN0aiEPIAhBDmsMCgtBASEGQQMhAyAHIA9qQQNqCyEPIBEgCiAPEAMhCkEAIAogDEkNBiAMIQ5BBQwBCyAKLQCgCCAHOgAAIApBAWoiCiANSQ0IQQMLIQNBAEHAAkGgAxADIA4hCgNAIApBAWsiCi0AACIQIBAtAIADQQFqOgCAAyAKDQALA0AgCiAKLwHAAiAKQQF2LQCAA0EBdGo7AcICIApBAmoiCkE+SQ0AC0EAIQoDQCAKLQAAQQF0IhAvAcACIhEgCjsBoAMgECARQQJqOwHAAiAKQQFqIgogDkkNAAtBACIKDAQLIAhBgAJJBEAgAiAIOgAAIAJBAWohAkEADAQLIAhBgAJGDQRBAyEVQRwhFkECIRcgCEGBAmshCAwBC0EBIhchFUEfIRYgCCALayEICyAVIBVBAWogCCAVcWogCCAXdkEBa0EAIAggFUsiGCAIIBZJIhlxGyIGdEH/ASAZGyAIIBgbaiEUIAYgBg0DGkEAIQcLIBQgB2ohFCADQQdJBH8gFCEaQQchA0EQBSACIAIgFGsgAiAaahACIQJBBSEDQQALCyESQQEhBkEAIQgMAgsgAiMBayAEDQJBAyEGQQAhAwwBCyEGIANBAWohAwwACwsLcAIAQaAICxMQERUACAcJBgoFCwQMAw0CDgEPAEHeCAtQPgAAAD80NTY3ODk6Ozw9AAAAAAAAAAABAgMEBQYHCAkKCwwNDg8QERITFBUWFxgZAAAAAAAAGhscHR4fICEiIyQlJicoKSorLC0uLzAxMjM="});function yc(t){let e=t.length;for(;e>0&&t[e-1]==="=";)e--;let r=new Uint8Array(3*Math.ceil(e/4)),o,s,u,f;for(let d=0,h=0;d<e;)o=Wo[t.charCodeAt(d++)&255],s=Wo[t.charCodeAt(d++)&255],u=Wo[t.charCodeAt(d++)&255],f=Wo[t.charCodeAt(d++)&255],r[h++]=o<<2|s>>4,r[h++]=s<<4|u>>2,r[h++]=u<<6|f;return r.subarray(0,(e>>2)*3+(e%4*6>>3))}function mT(t,e={}){let r=yc(t),o={imports:e},s=new WebAssembly.Module(r);return new WebAssembly.Instance(s,o)}function yT(){let t=new WebAssembly.Memory({initial:32}),e=mT(bm,{memory:t}),{inputOffset:r,outputOffset:o,inflate:s}=e.exports,u=new Uint8Array(t.buffer,r,o),f=new Uint8Array(t.buffer,o);return function(d){let h=s(gT.encodeInto(d,u).written);return f.subarray(0,h)}}function vc(t){return mc===null&&(mc=yT()),mc(t)}var xm,Wo,gT,mc,km=I(()=>{wm();xm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Wo=new Uint8Array(256),gT=new TextEncoder,mc=null;for(let t=0;t<xm.length;t++)Wo[xm.charCodeAt(t)]=t});function Cm(t,e,r,o){let s=document.body,u=String(Math.random()).slice(2,18).padStart(16,"0"),f=Oa({...o,loadDataOptions:{...o.loadDataOptions,encodings:o.encodings,fetch:{headers:{"Cache-Control":"no-cache, no-transform","x-data-request-id":u}}},container:s});return vT(),o.dataSource==="url"&&o.data&&bT(f,u),Promise.all([t,f]).then(([d,h])=>d({...r,styles:e},f.progressbar,f.disposeEmbed?.(),h)).then(()=>{f.el.remove()},d=>{let h=document.querySelector("body > .discovery"),g=document.createElement("div");if(g.firstChild&&(g.className="action-buttons",f.progressbar.el.before(g)),!d.supressLoadDataError){let m=document.createElement("pre"),w=document.createElement("div"),x=String(d),D=String(d.stack||"");D.startsWith(x)&&(D=D.slice(x.length)),w.className="error-type-badge",w.dataset.type=d.isFetchError?"server":"client",m.className="error",m.append(w,x+(D?`
`+D.replace(/^[\r\n]+/,""):"")),f.progressbar.el.replaceWith(m)}f.disposeEmbed?.(),f.progressbar.dispose(),h&&h.remove()})}function vT(){let{push:t}=window.discoveryLoader||{};typeof t=="function"&&(window.discoveryLoader.push=function(e,r,o){o?e=r?vc(e).slice():new TextDecoder().decode(vc(e)):r&&(e=yc(e)),t(e)})}function wT(){let t=document.createElement("div");return t.className="data-status",t.innerHTML='<div class="header">Getting data: <span class="elapsed-time"></span></div><div class="output"></div>',t.firstChild.addEventListener("click",function(){t.classList.toggle("collapsed")},!0),t.elapsedTimeEl=t.querySelector(":scope > .header > .elapsed-time"),t}function bT(t,e){let r=!1,o=!0,s=!1,u=wT(),f=()=>{t.progressbar.value.stage==="request"&&!u.parentNode&&t.progressbar.el.getRootNode().append(u)},d=setTimeout(()=>{if(t.progressbar.value.stage!=="request")return;t.progressbar.subscribe(({stage:T},C)=>{T!=="request"&&(C(),u.classList.add("finished"),h.close(),o=!1)});let h=new EventSource("data-status?data-request-id="+e),g=null,m,w,x,D,L,N=T=>{if(!(!o||!isFinite(T)||w!==void 0&&T<=w)){if(clearTimeout(x),w=Number(T),m&&w-m>=1e3&&(u.elapsedTimeEl.textContent=bc(w-m,r?1:0)),g)for(let{started:C,elapsedTimeEl:k}of g.values())C&&(k.textContent=bc(w-C,1));D=Date.now(),x=setTimeout(()=>N(w+(Date.now()-D)-5),42)}};h.addEventListener("message",T=>{try{let C=JSON.parse(T.data);switch(C.type){case"start":setTimeout(f,3e3),m=C.timestamp,s=!0;break;case"finish":break;case"crash":if(r=!0,f(),g)for(let{started:k,el:M}of g.values())k&&(M.classList.add("crashed"),M.classList.remove("started"),M.classList.toggle("collapsed",M!==L));break;case"stderr":case"stdout":{let k=document.createElement("div");if(k.className=C.type,k.append(String(C.chunk)),!g)f(),u.lastChild.append(k),wc(k);else{let M=g.get(C.stepId);M&&(M.contentEl.append(k),M.el.classList.add("has-output"),wc(k),C.type=="stderr"&&(L=M.el))}break}case"plan":{let k=Am(C.plan.steps);g=k.map,u.lastChild.innerHTML="",u.lastChild.appendChild(k.el),g&&f();break}case"plan-step-event":{let k=g.get(C.stepId);if(k)switch(C.stepEvent){case"start":k.started=C.timestamp,k.el.classList.add("started"),wc(k.el);break;case"finish":k.elapsedTimeEl.textContent=bc(C.timestamp-k.started),k.started=!1,k.el.classList.remove("started"),k.el.classList.add("finished");break;case"summary":k.summaryEl.innerHTML=kT(C.data);break;default:console.warn("Unhandled data status SSE pipeline step event",C)}else console.warn("Pipeline step not found",C);break}default:console.warn("Unhandled data status SSE event",C)}N(C.timestamp)}catch(C){console.error("SSE message parse error",C)}}),h.addEventListener("server-time",({data:T})=>{N(T)}),h.addEventListener("done",()=>{h.close(),o=!1})},150);t.then(()=>clearTimeout(d),h=>{if(o=!1,!!s){r?(h.supressLoadDataError=!0,t.el.classList.add("generate-data-crash")):u.classList.add("compliment-error","collapsed");for(let g of u.querySelectorAll(".plan-step.started"))g.classList.remove("started");u.classList.add("crashed"),u.firstChild.firstChild.textContent="Retrieving data failed "+(u.elapsedTimeEl.textContent?"in ":"")}})}function wc(t){try{typeof t.scrollIntoViewIfNeeded=="function"?t.scrollIntoViewIfNeeded(!1):t.scrollIntoView({block:"nearest"})}catch{}}function Am(t,e=0,r=new Map){let o=document.createElement("ul");o.className="plan-step-list",o.style.setProperty("--level",e);for(let s of t){let u=o.appendChild(document.createElement("li")),f=u.appendChild(document.createElement("div")),d=f.appendChild(document.createElement("span")),h=f.appendChild(document.createElement("span")),g=f.appendChild(document.createElement("span")),m=f.appendChild(document.createElement("span")),w=f.appendChild(document.createElement("span")),x=u.appendChild(document.createElement("div"));r.set(s.id,{step:s,el:u,elapsedTimeEl:w,summaryEl:m,contentEl:x,started:!1}),u.className="plan-step collapsed",f.className="plan-step__header",f.addEventListener("click",()=>u.classList.toggle("collapsed")),d.className="plan-step__header-toggle",h.className="plan-step__header-status",g.className="plan-step__header-content",g.textContent=s.name||"Untitled",m.className="plan-step__header-summary",w.className="plan-step__elapsed-time",x.className="plan-step__content",s.steps&&u.append(Am(s.steps,e+1,r).el)}return{el:o,map:r.size?r:null}}function xT(t){return t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function kT(t,e=!0){let r=e&&typeof t!="number"?xT(String(t)):String(t);return r.length>3?r.replace(/\.\d+(eE[-+]?\d+)?|\B(?=(\d{3})+(\D|$))/g,o=>o||'<span class="num-delim"></span>'):r}function bc(t,e=1){return t<1e3?t+"ms":t<1e4?(t/1e3).toFixed(e)+"s":t<6e4?Math.round(t/1e3)+"s":`${Math.floor(t/6e4)}:${String(Math.floor(t/1e3)%60).padStart(2,"0")}`}var Pa,xc,kc=I(()=>{vm();km();Pa=({darkmode:t,darkmodePersistent:e,colorScheme:r=t,colorSchemePersistent:o=e})=>Oa.colorScheme?{colorScheme:r,colorSchemePersistent:o}:{darkmode:r,darkmodePersistent:o},xc=t=>document.querySelector(`style[type="discovery/style"][src=${JSON.stringify(t)}]`).firstChild.nodeValue});function Dm(t){let e=[].filter(r=>{if(typeof r=="function")return!0;console.warn('[discovery-cli] "prepare" module should return a function, but got '+typeof r)});e.length&&t.setPrepare(async(r,...o)=>{for(let s of e)r=await s(r,...o)||r;return r})}var Sm=I(()=>{});var Cc,Em=I(()=>{Cc=null});var Tm,Mm=I(()=>{Tm=t=>{let e="";t.nav.remove("index-page"),t.nav.remove("discovery-page"),t.on("data",()=>{t.defaultPageId!==t.discoveryPageId&&(e=t.defaultPageId,t.defaultPageId=t.discoveryPageId,t.setPageHash(t.pageHash,!0),t.cancelScheduledRender())}),t.on("unloadData",()=>{e!==t.defaultPageId&&(t.defaultPageId=e,t.setPageHash(t.pageHash,!0))})}});var W2,CT,Lm,Fm=I(()=>{({toString:W2,hasOwnProperty:CT}=Object.prototype),Lm=Object.hasOwn||((t,e)=>CT.call(t,e))});function Nm(t,e,r){let o=document.createElement(t);typeof e=="string"&&(e={class:e});for(let s in e)if(Lm(e,s)){let u=e[s];if(typeof u>"u")continue;typeof u=="function"?o.addEventListener(s.slice(2),u):o.setAttribute(s,u)}return Array.isArray(r)?o.append(...r):typeof r=="string"&&(o.innerHTML=r),o}var Om=I(()=>{Fm()});function Im(t){return t={accept:"application/json,application/jsonxl,.json,.jsonxl",useAcceptForFilePicker:!1,dragdrop:!0,clipboard:!1,...t},function(e){let r=!!t.useAcceptForFilePicker,o=!!t.dragdrop,s=!!t.clipboard,u=String(t.accept),f=u.split(",");o&&(e.dom.container.addEventListener("drop",d=>{e.loadDataFromEvent(d)},!0),e.dom.container.addEventListener("dragover",d=>{d.stopPropagation(),d.preventDefault()},!0),document.addEventListener("paste",d=>{let{files:h}=d.clipboardData||{files:[]};h?.length>0&&e.loadDataFromEvent(d)})),e.preset.define("upload",[{view:"button-primary",text:'=`Open file${#.actions.uploadFile.fileExtensions |? " (" + join(", ") + ")" : "" | size() > 1 and size() <= 17 ?: "\u2026"}`',onClick:"=#.actions.uploadFile"},{view:"context",when:"#.actions.uploadDataFromClipboard",content:['html:"<span style=\\"color: #888; padding: 0 1ex\\"> or </span>"',{view:"button",text:"Paste from clipboard",onClick:"=#.actions.uploadDataFromClipboard"}]},{view:"context",when:"#.actions.uploadFile.dragdrop",content:['html:"<span style=\\"color: #888; padding: 0 1ex\\"> or </span>"','text:"drop a file on the page"']}]),e.action.define("unloadData",()=>{e.unloadData()}),e.action.define("uploadFile",Object.assign(()=>{Nm("input",{type:"file",accept:r?u:void 0,onchange:d=>e.loadDataFromEvent(d)}).click()},{fileExtensions:f.filter(d=>Pm(d)),mimeTypes:f.filter(d=>!Pm(d)),dragdrop:o,clipboard:s})),s&&e.action.define("uploadDataFromClipboard",async()=>{let d=await navigator.clipboard.readText();e.loadDataFromStream(new Blob([d]).stream())})}}var jm,Pm,Bm=I(()=>{Om();jm=Object.assign(Im(),{setup:Im}),Pm=t=>/^\./.test(t)});var zm=I(()=>{});var Rm=I(()=>{zm()});var Hm=I(()=>{Rm()});function qm(t){t.nav.before("inspect",{name:"open-file",when:"#.actions.uploadFile and (#.datasets or (#.widget | pageId != defaultPageId))",text:"Open file\u2026",onClick:"=#.actions.uploadFile"})}function _m(t){t.nav.before("inspect",{name:"upload-from-clipboard",when:"#.actions.uploadDataFromClipboard and (#.datasets or (#.widget | pageId != defaultPageId))",text:"",onClick:"=#.actions.uploadDataFromClipboard",tooltip:{position:"trigger",content:'text:"Paste data from clipboard"'}})}function Wm(t){t.nav.menu.append({name:"unload-data",when:"#.actions.unloadData and #.datasets",content:'text:"Unload data"',onClick:"=#.actions.unloadData"})}var $m=I(()=>{Hm()});var Vm={};Se(Vm,{default:()=>DT});function DT(t){t.apply([Tm,jm.setup({clipboard:!0}),qm,_m,Wm]),t.nav.primary.append({name:"github",text:"",href:"https://github.com/discoveryjs/discovery",external:!0})}var Um=I(()=>{Mm();Bm();$m()});var Gm,Ym=I(()=>{Gm=[(Um(),YS(Vm))]});var Ac,Dc=I(()=>{Ac="1.0.0-beta.97"});var Qm,Km=I(()=>{Qm="1.0.0-beta.15"});function Li(t,e){return e!==void 0&&(We(e)?e.forEach(r=>t.add(r)):t.add(e)),t}function Ia(t,e,r){t.has(e)?t.get(e).add(r):t.set(e,new Set([r]))}function Jm(t,e){return t&&Tt(t,e)?t[e]:void 0}function yn(t){return t!==null&&typeof t=="object"&&t.constructor===Object}function ur(t){return ST.call(t)==="[object RegExp]"}function qn(t){return t&&(We(t)||Tt(t,"length")&&isFinite(t.length))}function We(t){return Array.isArray(t)||ArrayBuffer.isView(t)}function Fr(t,e=0){let r=parseInt(t,10);return isNaN(r)?e:r}function Kt(t){if(We(t))return t.length>0;if(yn(t)){for(let e in t)if(Tt(t,e))return!0;return!1}return!!t}var Tt,ST,_n=I(()=>{Tt=Object.hasOwn||((t,e)=>Object.hasOwnProperty.call(t,e)),ST=Object.prototype.toString});function Sc(){this.yy={}}var ET,TT,ja,Zm=I(()=>{ET=function(){return{yy:{},options:{ranges:!0},rules:[/^(?:\/\/.*?(?:\n|\r\n?|\u2028|\u2029|$)|\/\*(?:.|\s)*?(?:\*\/|$))/,/^\s+/,/^\//,/^<(?!=)/,/^/,/^(?:(?:[a-zA-Z_]|\\u[0-9a-fA-F]{4})(?:[a-zA-Z_$0-9]|\\u[0-9a-fA-F]{4})*\(?)/,/^/,(e,r)=>{if(e[0]!==(r==="template"?"}":"`"))return null;for(let o=1;o<e.length;o++){if(e[o]==="`")return o+1;if(e[o]==="$"&&e[o+1]==="{")return o+2;e[o]==="\\"&&o++}return null},(e,r)=>{if(e[0]!==(r==="template"?"}":"`"))return null;for(let o=1;o<e.length;o++){if(e[o]==="`")return o+1;if(e[o]==="$"&&e[o+1]==="{")return o+2;e[o]==="\\"&&o++}return null},/^/,/^\(/,/^\)/,/^\[/,/^\]/,/^\{/,/^\}/,/^(?:(true|false|null|undefined|Infinity|NaN)\b)/,/^and\b/,/^or\b/,/^is\b/,/^has\s+no\b/,/^has\b/,/^in\b/,/^not\s+in\b/,/^not\b/,/^no\b/,/^(?:(asc|desc)(NA?|AN?)?\b)/,/^(?:(?:[a-zA-Z_]|\\u[0-9a-fA-F]{4})(?:[a-zA-Z_$0-9]|\\u[0-9a-fA-F]{4})*\()/,/^(?:\$(?:[a-zA-Z_]|\\u[0-9a-fA-F]{4})(?:[a-zA-Z_$0-9]|\\u[0-9a-fA-F]{4})*\()/,/^(?:(?:[a-zA-Z_]|\\u[0-9a-fA-F]{4})(?:[a-zA-Z_$0-9]|\\u[0-9a-fA-F]{4})*)/,/^(?:\$(?:[a-zA-Z_]|\\u[0-9a-fA-F]{4})(?:[a-zA-Z_$0-9]|\\u[0-9a-fA-F]{4})*)/,/^(?:[_\d]*\.)?[_\d]+(?:[eE][-+]?[_\d]+)?\b/,/^(?:\d*\.)?\d+(?:[eE][-+]?\d+)?\b/,/^0[xX][_0-9a-fA-F]+/,/^0[xX][0-9a-fA-F]+/,/^(?:"(?:\\[\\"]|[^"])*")/,/^(?:'(?:\\[\\']|[^'])*')/,/^(?:\/(?:\\.|[^/])+\/[gimsu]*)/,/^@/,/^#/,/^\$\$/,/^\$/,/^=>/,/^=/,/^!=/,/^~=/,/^>=/,/^<=/,/^</,/^>/,/^\.\.\(/,/^\.\(/,/^\.\[/,/^\.\.\./,/^\.\./,/^\./,/^\?\?/,/^\?/,/^,/,/^:/,/^;/,/^\-/,/^\+/,/^\*/,/^\//,/^\%/,/^(?:\|)/,/^./,/^$/],conditions:{preventPrimitive:{rules:[0,1,2,3,4,7,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68],inclusive:!0},preventKeyword:{rules:[5,6],inclusive:!1},template:{rules:[8,9],inclusive:!1},INITIAL:{rules:[0,1,7,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68],inclusive:!0}},performAction(e,r,o,s){let u=s;switch(o){case 0:{e.commentRanges.push(r.yylloc.range);break}case 1:break;case 2:{return this.popState(),40;break}case 3:{return this.popState(),44;break}case 4:{this.done=!1,this.popState();break}case 5:{if(this.popState(),r.yytext.endsWith("(")){this.unput(r.yytext);return}return e.pps(),14;break}case 6:{this.done=!1,this.popState();break}case 7:{let f=r.yytext.endsWith("`")?"TEMPLATE":"TPL_START";return r.yytext=this.toStringLiteral(r.yytext,!0,1+ +(f!=="TEMPLATE")),f==="TEMPLATE"&&e.pps(),f;break}case 8:{let f=r.yytext.endsWith("`")?"TPL_END":"TPL_CONTINUE";return r.yytext=this.toStringLiteral(r.yytext,!0,1+ +(f!=="TPL_END")),this.popState(),f==="TPL_END"&&e.pps(),f;break}case 9:{this.parseError("Unexpected end of input");break}case 10:return 21;case 11:{return e.pps(),22;break}case 12:return 61;case 13:{return e.pps(),63;break}case 14:return 84;case 15:{if(this.bracketStack[this.bracketStack.length-1]!=="TPL_END")return e.pps(),85;this.unput("}"),this.begin("template");break}case 16:{return r.yytext=this.toLiteral(r.yytext),57;break}case 17:return 36;case 18:return 37;case 19:return 30;case 20:return 35;case 21:return 33;case 22:return 32;case 23:return 34;case 24:return 25;case 25:return 26;case 26:return 95;case 27:{return r.yytext=r.yytext.slice(0,-1),70;break}case 28:{return r.yytext=r.yytext.slice(1,-1),72;break}case 29:{return e.pps(),14;break}case 30:{return e.pps(),r.yytext=r.yytext.slice(1),15;break}case 31:{return e.pps(),r.yytext=this.toNumberLiteral(r.yytext,!0),55;break}case 32:{return e.pps(),r.yytext=this.toNumberLiteral(r.yytext),55;break}case 33:{return e.pps(),r.yytext=this.toNumberLiteral(r.yytext,!0,!0),55;break}case 34:{return e.pps(),r.yytext=this.toNumberLiteral(r.yytext,!1,!0),55;break}case 35:{return e.pps(),r.yytext=this.toStringLiteral(r.yytext),54;break}case 36:{return e.pps(),r.yytext=this.toStringLiteral(r.yytext),54;break}case 37:{return e.pps(),r.yytext=this.toRegExp(r.yytext),56;break}case 38:{return e.pps(),51;break}case 39:{return e.pps(),52;break}case 40:{return e.pps(),53;break}case 41:{return e.pps(),9;break}case 42:return 20;case 43:return 42;case 44:return 43;case 45:return 48;case 46:return 47;case 47:return 45;case 48:return 44;case 49:return 46;case 50:return 69;case 51:return 66;case 52:return 67;case 53:return 89;case 54:{return e.pps(),e.pks(),68;break}case 55:{return e.pps(),e.pks(),65;break}case 56:return 38;case 57:return 17;case 58:return 73;case 59:return 11;case 60:return 10;case 61:return 27;case 62:return 28;case 63:return 39;case 64:return 40;case 65:return 41;case 66:return 29;case 67:{this.parseError(`Bad input on line ${r.yylloc.first_line} column ${r.yylloc.first_column}
`+this.showPosition(),{text:r.yytext,token:"BAD_TOKEN"});break}case 68:return 5}},setInput(e,r){return this.yy=r||this.yy||{},this._input=e,this._more=!1,this._backtrack=!1,this.done=!1,this.currentCondition="INITIAL",this.conditionStack=["INITIAL"],this.offset=0,this.yytext=this.match="",this.yyleng=0,this.yylineno=0,this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.yylloc.range=[0,0],this},parseError(e,r){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,r)},input(){let e=this._input[this.offset],r=/\n|\r\n?|\u2028|\u2029/g.test(e);return this.offset++,this.yyleng++,this.yytext=this.match=this.yytext+e,r?(this.yylineno++,this.yylloc.last_line++,this.yylloc.last_column=0):this.yylloc.last_column++,this.yylloc.range[1]++,e},lineColumnForOffset(e=this.offset,r=this._input,o=1,s=0){let u=/\n|\r\n?|\u2028|\u2029/g,f=o,d=s,h=0,g;for(;(g=u.exec(r))!==null;)if(g.index<e)f++,d=0,h=g.index+g[0].length;else{d+=e-h,h=-1;break}return h!==-1&&(d+=e-h),{line:f,column:d}},setMatch(e,r){let o=this._input.slice(e,r),s=e!==this.offset?this.lineColumnForOffset(e):{line:this.yylloc.last_line,column:this.yylloc.last_column},u=e!==r?this.lineColumnForOffset(r-e,o,s.line,s.column):s;this.yytext=this.match=o,this.yyleng=r-e,this.offset=r,this.yylineno=u.line-1,this.yylloc={first_line:s.line,first_column:s.column,last_line:u.line,last_column:u.column},this.yylloc.range=[e,r]},less(e){let r=this.offset-this.match.length;this.setMatch(r,r+e)},unput(e){let r=this.match.length-e.length;if(!this.match.startsWith(e,r))throw new Error("Lexer#unput() should receive a part of matched text only");this.less(r)},more(){this._more=!0},reject(){throw new Error("reject() is allowed only when options.backtrack_lexer = true")},showPosition(e=this.offset-this.match.length){let r=this._input,o=Math.max(e-20,0),s=Math.min(e+20,r.length),u=(o===0?"":"...")+r.slice(o,e).replace(/\n|\r\n?|\u2028|\u2029/g,"\\n"),f=r.slice(e,s).replace(/\n|\r\n?|\u2028|\u2029/g,"\\n")+(s===r.length?"":"...");return u+f+`
${"-".repeat(u.length)}^`},test_match(e,r){let o;this._more=!1,this._backtrack=!1,this.setMatch(this.offset,this.offset+e[0].length),this.matches=e;let s=this.performAction.call(this,this.yy,this,r,this.conditionStack[this.conditionStack.length-1]);return!s&&this._backtrack?(Object.assign(this,o),!1):(this.eof()||(this.done=!1),typeof s=="number"&&this.yy.parser?this.yy.parser.terminals_[s]:s||!1)},eof(){return this.offset===this._input.length},next(){if(this.done)return 1;this.eof()&&(this.done=!0),this._more||(this.yytext="",this.match="");let e,r;for(let o of this.conditions[this.currentCondition].rules){let s=this.rules[o],u=this._input.slice(this.offset),f;if(typeof s=="function"){let d=s(u,this.currentCondition);switch(typeof d){case"string":f=[d];break;case"number":f=[u.slice(0,d)];break;default:f=d}}else f=u.match(s);if(f&&(!e||f[0].length>e[0].length)){e=f,r=o;break}}if(e)return this.test_match(e,r);if(this.eof())return 1;this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex(){let e;for(;!e;)e=this.next();return e},begin(e){this.currentCondition=e,this.conditionStack.push(e)},pushState(e){this.begin(e)},popState(){return this.conditionStack.pop(),this.currentCondition=this.conditionStack.length?this.conditionStack[this.conditionStack.length-1]:"INITIAL"},topState(e){return e=this.conditionStack.length-1-Math.abs(e||0),e>=0?this.conditionStack[e]:"INITIAL"},stateStackSize(){return this.conditionStack.length}}}();Sc.prototype={Parser:Sc,lexer:ET,symbols_:{error:2,root:3,block:4,EOF:5,definitions:6,e:7,def:8,$:9,";":10,":":11,$ident:12,ident:13,IDENT:14,$IDENT:15,condConsequent:16,"?":17,condAlternate:18,query:19,"=>":20,"(":21,")":22,functionArgs:23,compareFunction:24,NOT:25,NO:26,"-":27,"+":28,"|":29,IS:30,assertion:31,IN:32,HAS:33,NOTIN:34,HASNO:35,AND:36,OR:37,"??":38,"*":39,"/":40,"%":41,"=":42,"!=":43,"<":44,"<=":45,">":46,">=":47,"~=":48,queryRoot:49,relativePath:50,"@":51,"#":52,$$:53,STRING:54,NUMBER:55,REGEXP:56,LITERAL:57,template:58,object:59,array:60,"[":61,sliceNotation:62,"]":63,"method()":64,".":65,".(":66,".[":67,"..":68,"..(":69,"METHOD(":70,arguments:71,"$METHOD(":72,",":73,functionArg:74,templateString:75,templateStart:76,templateTail:77,templateEnd:78,templateContinue:79,TEMPLATE:80,TPL_START:81,TPL_CONTINUE:82,TPL_END:83,"{":84,"}":85,objectEntries:86,objectEntry:87,objectEntryKeyLiteral:88,"...":89,arrayElements:90,arrayElement:91,assertionTerm:92,assertionList:93,compareExpr:94,ORDER:95,sliceNotationComponent:96,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",9:"$",10:";",11:":",14:"IDENT",15:"$IDENT",17:"?",20:"=>",21:"(",22:")",25:"NOT",26:"NO",27:"-",28:"+",29:"|",30:"IS",32:"IN",33:"HAS",34:"NOTIN",35:"HASNO",36:"AND",37:"OR",38:"??",39:"*",40:"/",41:"%",42:"=",43:"!=",44:"<",45:"<=",46:">",47:">=",48:"~=",51:"@",52:"#",53:"$$",54:"STRING",55:"NUMBER",56:"REGEXP",57:"LITERAL",61:"[",63:"]",65:".",66:".(",67:".[",68:"..",69:"..(",70:"METHOD(",72:"$METHOD(",73:",",80:"TEMPLATE",81:"TPL_START",82:"TPL_CONTINUE",83:"TPL_END",84:"{",85:"}",89:"...",95:"ORDER"},productions_:[0,[3,2],[4,2],[4,1],[4,1],[4,0],[6,1],[6,2],[8,2],[8,4],[8,2],[8,4],[13,1],[12,1],[16,2],[16,1],[18,2],[18,1],[18,0],[7,1],[7,2],[7,3],[7,4],[7,5],[7,1],[7,2],[7,2],[7,2],[7,2],[7,3],[7,4],[7,3],[7,3],[7,3],[7,3],[7,3],[7,3],[7,3],[7,3],[7,3],[7,3],[7,3],[7,3],[7,3],[7,3],[7,3],[7,3],[7,3],[7,3],[7,3],[7,3],[7,3],[19,1],[19,1],[49,1],[49,1],[49,1],[49,1],[49,1],[49,1],[49,1],[49,1],[49,1],[49,1],[49,1],[49,1],[49,3],[49,2],[49,2],[49,1],[49,1],[49,3],[49,4],[49,2],[49,2],[49,3],[49,3],[49,2],[49,2],[49,3],[49,2],[49,3],[50,3],[50,4],[50,4],[50,3],[50,3],[50,4],[50,4],[50,3],[50,3],[50,4],[64,2],[64,3],[64,2],[64,3],[71,1],[71,3],[74,1],[23,1],[23,3],[58,1],[58,2],[77,1],[77,2],[77,2],[77,3],[75,1],[76,1],[79,1],[78,1],[59,2],[59,3],[59,4],[59,3],[59,4],[59,5],[86,1],[86,3],[88,1],[88,1],[88,1],[87,1],[87,1],[87,1],[87,1],[87,1],[87,3],[87,3],[87,3],[87,2],[87,2],[87,2],[87,5],[87,1],[87,2],[90,1],[90,3],[91,1],[91,1],[91,2],[60,2],[60,3],[60,4],[31,1],[31,2],[31,3],[31,4],[92,1],[92,1],[92,1],[92,1],[93,1],[93,3],[93,3],[24,1],[24,3],[94,2],[62,1],[62,2],[62,2],[62,3],[96,1],[96,2]],table:function(e){function r(x){let D=x.match(/[\x20-\x2f]/g),L=D?Math.max(...D.map(N=>N.charCodeAt()-32)):-1;for(let N=L;N>=0;N--){let T=(32+N).toString(16),C;x=x.replace(new RegExp("\\[\\x"+T+"(.+?)\\]"),(k,M)=>C=M).replace(new RegExp("\\x"+T,"g"),C)}return x=x.replace(/<([^>]+?)>/g,(N,T)=>{let C=u[T[0]],k=1;return C>>5===1&&(C=C&31|u[T[1]]<<5,k=2),T.slice(k).repeat(C)}),x}function o(x){let D=[];for(let L=0;L<x.length;L++){let N=u[x[L]];if(N&32){let T=u[x[++L]];D.push(N&31|T<<5)}else D.push(N)}return D}let u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789~|=".split("").reduce((x,D,L)=>(x[D]=L,x),Object.create(null)),[f,d,...h]=e.split("=").map(r),g=d.split(";").map(x=>{let D=[];for(let L=0;L<x.length;L++)for(let N=0,T=u[x[L]];N<3;N++)D.push(T>>N*2&3);return D}),m=h.map(o),w=o(f).map(x=>{let D=g[x],L=Object.create(null);for(let N=0;N<D.length;N++){let T=D[N];if(T!==0){let C=m[T-1].shift();L[N]=T===1?C:[T-1,C]}}return L});for(let x=0;x<m[3].length;x+=2)w[m[3][x]][m[3][x+1]]=[3];return w}(`ABCDEFGHIJKHHHHLL<NM>NOPMMQRSQRTMUVWXYYMZaEFTO<TH>PMbQRSQRcMMHdefgBhBiBHj[ BjBkBk]BFHFHlBMmBnBoBpBqBrBMMsBtBMMMMXMWMMuB[!lBMMuB]vBgBMMwBUMZMxByBzB0B1B2B3B4BH5<DB6>BvBXe7BXevBgBM<E8B>9B~ <DB|>BgCgC<EhC>gCMMiC<C!>cHdjCMfMkClClCMMmCnCnBoCpCMtBqCrCvBMMMvBMUMMsCMxBHtCHtCtCHuCvCTXHXvB<FM>cHhBhBMFFMpBpCnCqCMOOMMzBzB2BMsCwCtCtCxC7BcMrCrCHMHtCtC=A1[ V[!C["lmkCpqC]]]<FA>[#[$[%[&['UqqWJkq]K]C][([)FgCCAAE];]]A];Ag;AwU[*ClmkOpqC]<FA>[+[,U[-qqWJnqK]]C(A]wAA[.A[/kAMAqi]]<Fq>CAAAAD<JA>g;AwADwzwP8|D<GA>||DMz|PDAwDPw;AwA8AwAMA|z<F|>DAAAIjqCMAA8MAAw;AAE!<FA>#wA8AwgMA|z<F|>DAAAMz|DMAA8MAAw;AAVClmkapqC<FA>&S(AwA8AwAMA|z<F|>DAAAMz|DIAA8MAAw;AwAoAwAMA|z<F|>DAAAMz|DMAA8MAAw;AwA8AwAMA|z<F|>DAAAMz|DMAA8MAAw;AAEi"<FA>UqqWZmqKCFgCCgFEB;AAAChCACIAE<IA>C<KA>Q;AwAsAwBMA|z<F|>DAAAMz|DMAA8MAAw;AAAAk<QA>EAIC;AEV*<FA>#E <FA>+A <FA>#AE!<FA>%VlqCAAE;AARClC<MA>KCIEAICAAAYl;AwE~lmkOp6y<F|>X-OFg~OAA0;AwA|wzwP8|z<F|>D||DMz|PPAw|PAAw;AAEClmkKpqC<FA>'aC(AAADwzwD8|D<GA>||DMw|PDAw|D;M;AAEi"<FA>UqqWZmqKC)B;AwA8.<Fq>CAAAMz|DMAA8MAA<Cg;AAAAAA>AI<QA>I;<FA>kAIAqi<Fq>C<OA>g;AAU!<FA>$<HA>M<QA>M;AAA8AwgMA|z<F|>DAAAMw|DM<GA>w;AwA8A0AMA6jq|qqqCAAAMz|DMAA8MAAw;AwA8A0AMA|z||q||DAAAMz|DMAA8MAAw<C;AAAAAAAAAAAAAAAAAAAAAC>AAI;AAAg<RA>D<KA>B;AAAgAkAAAqi<Fq>CAAAADAAM<GA>gB;<VA>DAAM;AAEy"<FA>+AE!<FA>,O(AAAChCACA<KA>C<KA>Q;AAAChCACIAE<IA>C<KA>QB;<HA>I;AwA8AkAMA6i<Fq>CAAAMz|DMAA8MAAw;<FA>kAAAqi<Fq>C<JA>FoAAAg;<YA>IAAAI;AAQClC<MA>KCIEAICAAAYl;<YA>MAAAM;AAAo<UA>MAAAM;AAEq"<FA>&OFgCOAAE;AAEi"<FA>&OFgCOAAE;AAE!<FA>&OFgCOAAE;AAAg<UA>MAAAM;AAAClmECAgC<FA>&OFgCO;AAAw<UA>MAAAM;<FA>/<Fq>C<HA>M<GA>g;AwA8A0AMA6z||qqqCAAAMz|DMAA8MAAw;AwA8A0AMA6jqvqqqCAAAMz|DMAA8MAAw;AwA8A0AMA6jquqqqCAAAMz|DMAA8MAAw;AwA8A0AMA|z<F|>DAAAMz|DMAA8MAAw;AwA8A0AMA6z||qvqDAAAMz|DMAA8MAAw;AwA8A0AMA6z||q||DAAAMz|DMAA8MAAw;AAAgAkAAAqi<Fq><CCAAAA><FA>gB;<FA>C<SA>Q;<FA>kAAAqi<Fq>C<OA>g;AAAIAkAAAqi<Fq>C<OA>g;AAE!<FA>UqqWJmqKCFgCCgEE;<VA>D;AAAwAkAAAqi<Fq>CAAAAD<JA>g;<FA>kAAAqi<Fq>CAAAADAAM<GA>g;<HA>IAAAAK;<HA>MAAAAP;AAAClC<MA>KCIEAICAAAIl;<FA>kAAAqi<Fq>C<HA>MAAAMAAg;<FA>kAAAqi<Fq><CCAAAA><FA>g;<UA>IgqCMAAAM;AAAIAkAAAqi<Fq>C<HA>MAAAMAAg;AAAg=BC[ D[!E["[#F[$QhBgBG]][%[&['[(KRSbcd]iB]pBqB]T]]]]zB[)0B$%qC]y[*C[[,+[-0ChBgB]]G%]]5C4C#3C'6CpBqBT9*~*|*gD+pD-G(lD[.iBpBqB]nDqDToDzDtDuD2D4D5D6D 7D 8D9D~D gE|D"jE-G&hEiEkETpEF[/sEtEuE]oEqEvE1E+4E-G'3EpBqBT4E-G'6EpBqBTqC8E7!zD9EuD~E+|E+gF+hF+iF+jF+kF+lF+mF+nF+oF+pF+qF+rF+sF+tF+uF+vF+wF+xFzF-G(0F.ToD1F2F3F 4F 5F6F7F qC8F+qChG0B$%jG-G&iG<EqC>kG+lG+pGqCqGrG+sG+zDtGzDwGuDvGxG+qC1G)2G3GjE-G&4GiEkET0B/8GqEvE~G+gH+hH+jH,kHRSbcd.qCqCqCpH0B$%<UqC>qGqCvH+xH<EqC>4H-G&3HT5HqCqCzDwGuD6HqCqCjE-G&~HiEkETiItEuEgIvElI+qCmI+qCqCnI+qC5C4C"pI+qCqCqI+qCzDsIuDzDtIuD~G+iItEuEgIvE<FqC>xI+yI+qCqC=[ [!["P[#[$[%[&['tBIsBHJ]LMNO][(oB[)fUVWXYZae]]][*jBkBlBmBnBuBvBwBxB]]r]]B]y][+B[,![-[.sB|B~B][/1B2B3B4B5B6B7B8B9BgChCiCjCkClCmCnCoCpC]]]rC]sCtCuCvCwCxCzC#B1CPtB7CsBHJ2CLMNO(*rB8C<EzC#B>hDiDjDkDzCrD%mD*rBsDyDxD1DwDvD0D3D<CtBuBvB!!>zC$mElErBrEtB1DyEzE0EwEuBvBnExEzC&)*rBzC'2ELMNO(*rBzC'5ELMNO(*rB-rC DxD1DwDvD0D<TzC#B>3DzCrD%yF*rBtBuBv<CB">BtBuBv+zC#B9F~F|FsBgG|B~B/rC!1CzC#B<C|B~B3B4B5B6BgChCiCjCkClCmCnCoCpC><CgChCiC><CzC#B>mGnGoGrDrD-rC<CzC#B>yDxD1DuG0DyDxD1DwDvD0DzC&)*rByGzG0G.2B3B4B5B6B7B8B9BgChCiCjCkClCmCnCoCpC,mElErCzC$mElErB6G5GrEtB1DyEzE0EwEuBvB7GxEhDiDzCjD9G#BzC|G#BzC#BiHzC#BzCtB1DsBlH(*rB.2B3B4B5B6B7B8B9BgChCiCjCkClCmCnCoCpCmHnH-rCoHnH.2B3B4B5B6B7B8B9BgChCiCjCkClCmCnCoCpC!<E|B~BgChCiCjCkClCmCnCoCpC>|B~B3B4B5B6B9BgChCiCjCkClCmCnCoCpC|B~B3B4B5B6B7B9BgChCiCjCkClCmCnCoCpC|B~B3B4B5B6BgChCiCjCkClCmCnCoCp<CCgChCi><CC|B~BgChCiClCmCnCo><FC|B~BgChCi>ClCmCnCoCrD-qHrCrHsHtHuH-rCzC#BwHyHsBzH|B~B/rC-rC0H-rC1H-rCzC%2H*rBsDrD<C-rC>yDxD1DwDvD0D7H8H9H<C.2B3B4B5B6B7B8B9BgChCiCjCkClCmCnCoCpC>zC$mElErBhItB1DyEzE0EwEuBvB|HxEkIjI<CzC#B-rC>-rCzC#B-oIrCsCtCuCvCwCxC!zC#B.2B3B4B5B6B7B8B9BgChCiCjCkClCmCnCoCpC-rCzC#B-rCrI8H9H<CyDxD1DwDvD0D>zCuI#BhItB1DyEzE0EwEuBvBvIxE1H<D-rC>wI<C-rC><CzC#B><C-rC>=FDDDEEE<jBG><gBT><mBN><lBY><kB4B><kB6B><mB0B><mB1B><mB7E><mB2B><mB3B><mB5B><mB7B><mB8B><mB9B><mB~B><mB|B><mBgC><mBhC><lBS><mBlC><mBmC>FFF<mBlD><cP><5BM><mBrD><gBsD>BCCC<jBH><lBS><mB9E>FFF<PU><mB4B><mB6B>jDjDNNNiD<bN>iDN<WZ><Wa><jBb><jBc><jBI><jBK><mBtE>~EqEqEoEoEiFiFrErE<mBjC><mBwE><mB0E><mB1E><mB2E><mB3E><5BN><mBkC><cR><mBpC><mBqC><mBtC><mBuC><RwC><mBmD><mBnD><mBuD><gBtD><mBvD>1D1[ D6D6D7D7D]8D8D9D9D~D~DmEmE<D3D><D4D><D5D><RO><5B8C>gDgD<5B~C><Rd><mBf><agB><ahB><aiB><ajB><VkB><UlB><WmB><jBnB><jBoB><mBpB><mBqB><mBrB><dsB><dtB><hBuB><hBvB><hBwB><hBxB><dyB><mBzB><mByC><mB1C><mB2C><mB5C><mB6C><PV><mBnC><mB8E><mBiC><mBuE>|EgFjFjFsEsE<mBxE><D4E><RQ><mBrC><mBsC><mBvC><RxC><mBoD><mBpD><mBwD><mByD>iEiEjEjEkEkEnEnE<5B9C><5B|C><Re><mBzC><mB0C><mB3C><mB4C><mB7C><PW>kDkDiDiD<mBoC><jBJ><jBL><mBvE>pEpEqEqEhF<mByE><mBqD><mBxD>2D2 <mBzD>hEhE|D|DgEgEhDhD<PX><mBzE><D5E><D6E><mB0D>hEhElElE=BB`),defaultActions:{50:[2,1],201:[2,159],249:[2,161]},performAction(t,e,r,o,s,u,f){let d=u.length-1;switch(s){case 1:return o.buildResult(u[d-1]);case 2:this.$={type:"Block",definitions:u[d-1],body:u[d],range:this._$.range};break;case 3:this.$={type:"Block",definitions:u[d],body:{type:"Placeholder",range:[f[d].range[1],f[d].range[1]]},range:this._$.range};break;case 4:this.$={type:"Block",definitions:[],body:u[d],range:this._$.range};break;case 5:this.$={type:"Block",definitions:[],body:{type:"Placeholder",range:[f[d].range[1],f[d].range[1]]},range:this._$.range};break;case 6:case 96:case 99:case 101:case 117:case 136:case 152:case 155:this.$=[u[d]];break;case 7:u[d-1].push(u[d]);break;case 8:this.$={type:"Definition",declarator:{type:"Declarator",name:null,range:f[d-1].range},value:null,range:this._$.range};break;case 9:this.$={type:"Definition",declarator:{type:"Declarator",name:null,range:f[d-3].range},value:u[d-1],range:this._$.range};break;case 10:this.$={type:"Definition",declarator:{type:"Declarator",name:u[d-1].name,range:f[d-1].range},value:null,range:this._$.range};break;case 11:this.$={type:"Definition",declarator:{type:"Declarator",name:u[d-3].name,range:f[d-3].range},value:u[d-1],range:this._$.range};break;case 12:case 13:case 98:case 148:case 149:this.$={type:"Identifier",name:u[d],range:this._$.range};break;case 14:case 16:case 163:this.$=u[d];break;case 15:case 17:this.$={type:"Placeholder",range:[f[d].range[1],f[d].range[1]]};break;case 18:case 162:this.$=null;break;case 19:case 52:case 53:case 64:case 65:case 138:break;case 20:case 22:this.$={type:"Function",arguments:[],body:u[d],range:this._$.range};break;case 21:this.$={type:"Function",arguments:[{type:"Identifier",name:u[d-2],range:f[d-2].range}],body:u[d],range:this._$.range};break;case 23:this.$={type:"Function",arguments:u[d-3],body:u[d],range:this._$.range};break;case 24:this.$={type:"CompareFunction",compares:u[d],range:this._$.range};break;case 25:case 26:case 27:case 28:case 67:this.$={type:"Prefix",operator:u[d-1],argument:u[d],range:this._$.range};break;case 29:this.$={type:"Pipeline",left:u[d-2],right:u[d],range:this._$.range};break;case 30:this.$={type:"Pipeline",left:u[d-3],right:{type:"Block",definitions:u[d-1],body:u[d]},range:this._$.range};break;case 31:this.$={type:"Postfix",operator:u[d],argument:u[d-2],range:this._$.range};break;case 32:case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 48:case 49:case 50:this.$={type:"Binary",operator:u[d-1],left:u[d-2],right:u[d],range:this._$.range};break;case 51:this.$={type:"Conditional",test:u[d-2],consequent:u[d-1],alternate:u[d],range:this._$.range};break;case 54:this.$={type:"Data",range:this._$.range};break;case 55:this.$={type:"Context",range:this._$.range};break;case 56:this.$={type:"Current",range:this._$.range};break;case 57:this.$={type:"Arg1",range:this._$.range};break;case 58:this.$={type:"Reference",name:u[d],range:this._$.range};break;case 59:case 60:case 61:case 62:case 107:case 108:case 109:case 110:case 119:case 120:case 121:this.$={type:"Literal",value:u[d],range:this._$.range};break;case 63:this.$={type:"Template",values:u[d],range:this._$.range};break;case 66:this.$={type:"SliceNotation",value:null,arguments:u[d-1],range:this._$.range};break;case 68:this.$={type:"Conditional",test:null,consequent:u[d-1],alternate:u[d],range:this._$.range};break;case 69:case 73:this.$={type:"GetProperty",value:null,property:u[d],range:this._$.range};break;case 70:case 74:this.$={type:"MethodCall",value:null,method:u[d],range:this._$.range};break;case 71:this.$={type:"Parentheses",body:u[d-1],range:this._$.range};break;case 72:this.$={type:"Parentheses",body:{type:"Block",definitions:u[d-2],body:u[d-1]},range:this._$.range};break;case 75:this.$={type:"Map",value:null,query:u[d-1],range:this._$.range};break;case 76:this.$={type:"Filter",value:null,query:u[d-1],range:this._$.range};break;case 77:this.$={type:"MapRecursive",value:null,query:{type:"GetProperty",value:null,property:u[d]},range:this._$.range};break;case 78:this.$={type:"MapRecursive",value:null,query:{type:"MethodCall",value:null,method:u[d]},range:this._$.range};break;case 79:this.$={type:"MapRecursive",value:null,query:u[d-1],range:this._$.range};break;case 80:this.$={type:"Pipeline",left:null,right:u[d],range:this._$.range};break;case 81:this.$={type:"Pipeline",left:null,right:{type:"Block",definitions:u[d-1],body:u[d]},range:this._$.range};break;case 82:this.$={type:"Pick",value:u[d-2],getter:null,range:this._$.range};break;case 83:this.$={type:"Pick",value:u[d-3],getter:u[d-1],range:this._$.range};break;case 84:this.$={type:"SliceNotation",value:u[d-3],arguments:u[d-1],range:this._$.range};break;case 85:this.$={type:"GetProperty",value:u[d-2],property:u[d],range:this._$.range};break;case 86:this.$={type:"MethodCall",value:u[d-2],method:u[d],range:this._$.range};break;case 87:this.$={type:"Map",value:u[d-3],query:u[d-1],range:this._$.range};break;case 88:this.$={type:"Filter",value:u[d-3],query:u[d-1],range:this._$.range};break;case 89:this.$={type:"MapRecursive",value:u[d-2],query:{type:"GetProperty",value:null,property:u[d]},range:this._$.range};break;case 90:this.$={type:"MapRecursive",value:u[d-2],query:{type:"MethodCall",value:null,method:u[d]},range:this._$.range};break;case 91:this.$={type:"MapRecursive",value:u[d-3],query:u[d-1],range:this._$.range};break;case 92:this.$={type:"Method",reference:{type:"Identifier",name:u[d-1],range:[f[d-1].range[0],f[d-1].range[1]-1]},arguments:[],range:this._$.range},this._mn=u[d-1];break;case 93:this.$={type:"Method",reference:{type:"Identifier",name:u[d-2],range:[f[d-2].range[0],f[d-2].range[1]-1]},arguments:u[d-1],range:this._$.range},this._mn=u[d-2];break;case 94:this.$={type:"Method",reference:{type:"Reference",name:{type:"Identifier",name:u[d-1],range:[f[d-1].range[0],f[d-1].range[1]-1]},range:[f[d-1].range[0],f[d-1].range[1]-1]},arguments:[],range:this._$.range},this._mn=u[d-1];break;case 95:this.$={type:"Method",reference:{type:"Reference",name:{type:"Identifier",name:u[d-2],range:[f[d-2].range[0],f[d-2].range[1]-1]},range:[f[d-2].range[0],f[d-2].range[1]-1]},arguments:u[d-1],range:this._$.range},this._mn=u[d-2];break;case 97:case 100:case 118:case 137:case 156:u[d-2].push(u[d]);break;case 102:this.$=[u[d-1],...u[d]];break;case 103:case 158:this.$=[null,u[d]];break;case 104:case 160:this.$=[u[d-1],u[d]];break;case 105:this.$=[null,u[d-1],...u[d]];break;case 106:this.$=[u[d-2],u[d-1],...u[d]];break;case 111:case 114:this.$={type:"Object",properties:[],range:this._$.range};break;case 112:this.$={type:"Object",properties:u[d-1],range:this._$.range};break;case 113:this.$={type:"Object",properties:u[d-2],range:this._$.range};break;case 115:this.$={type:"Block",definitions:u[d-2],body:{type:"Object",properties:u[d-1]},range:this._$.range};break;case 116:this.$={type:"Block",definitions:u[d-3],body:{type:"Object",properties:u[d-2]},range:this._$.range};break;case 122:this.$={type:"ObjectEntry",key:{type:"Current"},value:null,range:this._$.range};break;case 123:this.$={type:"ObjectEntry",key:{type:"Reference",name:u[d]},value:null,range:this._$.range};break;case 124:case 126:this.$={type:"ObjectEntry",key:u[d],value:null,range:this._$.range};break;case 125:this.$={type:"ObjectEntry",key:{type:"Literal",value:this._mn},value:u[d],range:this._$.range};break;case 127:case 128:this.$={type:"ObjectEntry",key:u[d-2],value:u[d],range:this._$.range};break;case 129:this.$={type:"ObjectEntry",key:{type:"Identifier",name:"$"+u[d-2].name,range:f[d-2].range},value:u[d],range:this._$.range};break;case 130:this.$={type:"ObjectEntry",key:u[d-1],value:{type:"Pipeline",left:{type:"Reference",name:u[d-1]},right:u[d]},range:this._$.range};break;case 131:this.$={type:"ObjectEntry",key:u[d-1],value:{type:"Pipeline",left:{type:"GetProperty",value:null,property:u[d-1]},right:u[d]},range:this._$.range};break;case 132:this.$={type:"ObjectEntry",key:{type:"Literal",value:this._mn},value:{type:"Pipeline",left:u[d-1],right:u[d]},range:this._$.range};break;case 133:this.$={type:"ObjectEntry",key:u[d-3],value:u[d],range:this._$.range};break;case 134:this.$={type:"Spread",query:null,array:!1,range:this._$.range};break;case 135:this.$={type:"Spread",query:u[d],array:!1,range:this._$.range};break;case 139:this.$={type:"Spread",query:null,array:!0,range:this._$.range};break;case 140:this.$={type:"Spread",query:u[d],array:!0,range:this._$.range};break;case 141:this.$={type:"Array",elements:[],range:this._$.range};break;case 142:this.$={type:"Array",elements:u[d-1],range:this._$.range};break;case 143:this.$={type:"Array",elements:u[d-2],range:this._$.range};break;case 144:this.$={type:"Assertion",negation:!1,assertion:u[d],range:this._$.range};break;case 145:this.$={type:"Assertion",negation:!0,assertion:u[d],range:this._$.range};break;case 146:this.$={type:"Assertion",negation:!1,assertion:u[d-1],range:this._$.range};break;case 147:this.$={type:"Assertion",negation:!0,assertion:u[d-1],range:this._$.range};break;case 150:this.$={type:"Method",reference:{type:"Reference",name:u[d]},arguments:[],range:this._$.range};break;case 151:this.$={type:"Identifier",name:String(u[d]),range:this._$.range};break;case 153:case 154:u[d-2].push(u[d-1],u[d]);break;case 157:this.$={type:"Compare",query:u[d-1],order:u[d],range:this._$.range};break;case 159:this.$=[null,u[d-1],u[d]];break;case 161:this.$=[u[d-2],u[d-1],u[d]];break}},trace(...t){this.DEBUG&&Jison.print(...t)},parseError(t,e){if(e.recoverable)this.trace(t);else{let r=new Error(t);throw r.hash=e,r}},parse(t,...e){let d=W=>{N.length-=2*W,T.length-=W,C.length-=W},h=()=>{let W=g.lex()||1;return typeof W!="number"&&(W=this.symbols_[W]||W),W},g=Object.create(this.lexer),m=g.options&&g.options.ranges,w={...this.yy,parser:this,lexer:g};g.setInput(t,w),typeof w.parseError=="function"&&(this.parseError=w.parseError),typeof g.yylloc>"u"&&(g.yylloc={});let x=this.table,D={},L=g.yylloc,N=[0],T=[null],C=[L],k=[],M="",O=0,F=0,P=0,j,H;for(;;){let W=N[N.length-1],X;if(this.defaultActions[W]?X=this.defaultActions[W]:((j===null||typeof j>"u")&&(j=h()),X=x[W]&&x[W][j]),!X||!X[0]){let E=function(Y){let G=N.length-1,fe=0;for(;;){if("2"in x[Y])return fe;if(Y===0||G<2)return!1;G-=2,Y=N[G],++fe}},q,K="";if(!P){let Y=[];for(let G in x[W])G in this.terminals_&&G>2&&Y.push("'"+this.terminals_[G]+"'");K=g.showPosition?"Parse error on line "+(O+1)+`:
`+g.showPosition()+`
Expecting `+Y.join(", ")+", got '"+(this.terminals_[j]||j)+"'":"Parse error on line "+(O+1)+": Unexpected "+(j===1?"end of input":"'"+(this.terminals_[j]||j)+"'"),this.parseError(K,{text:g.match,token:this.terminals_[j]||j,line:g.yylineno,loc:L,expected:Y})}if(P===3){if(j===1||H===1)throw new Error(K||"Parsing halted while starting to recover from another error.");F=g.yyleng,M=g.yytext,O=g.yylineno,L=g.yylloc,j=h()}if(q===!1)throw new Error(K||"Parsing halted. No suitable error recovery rule available.");d(q),H=j==2?null:j,j=2,W=N[N.length-1],X=x[W]&&x[W][2],P=3}if(Array.isArray(X[0])&&X.length>1)throw new Error("Parse Error: multiple actions possible at state: "+W+", token: "+j);switch(X[0]){case 1:N.push(j),T.push(g.yytext),C.push(g.yylloc),N.push(X[1]),j=null,H?(j=H,H=null):(F=g.yyleng,M=g.yytext,O=g.yylineno,L=g.yylloc,P>0&&P--);break;case 2:{let q=this.productions_[X[1]][1],K=C[C.length-(q||1)],E=C[C.length-1];D.$=T[T.length-q],D._$={first_line:K.first_line,last_line:E.last_line,first_column:K.first_column,last_column:E.last_column},m&&(D._$.range=[K.range[0],E.range[1]]);let Y=this.performAction.call(D,M,F,O,w,X[1],T,C,...e);if(typeof Y<"u")return Y;q&&d(q),N.push(this.productions_[X[1]][0]),T.push(D.$),C.push(D._$),N.push(x[N[N.length-2]][N[N.length-1]]);break}case 3:return!0}}}};TT=function(e){function r(k,M){Object.entries(M).forEach(([O,F])=>k[O]=F(k[O]))}let o=new Map([["EOF",["<end of input>"]],["IDENT",["ident"]],["$IDENT",["$ident"]],["NOT",["'not'"]],["NO",["'no'"]],["IS",["'is'"]],["IN",["'in'"]],["HAS",["'has'"]],["NOTIN",["'not in'"]],["HASNO",["'has no'"]],["AND",["'and'"]],["OR",["'or'"]],["STRING",["string"]],["TPL_START",["template"]],["TEMPLATE",["template"]],["NUMBER",["number"]],["REGEXP",["regexp"]],["LITERAL",["'true'","'false'","'null'","'undefined'","'NaN'","'Infinity'"]],["ORDER",["'asc'","'desc'","'ascN'","'descN'"]],["METHOD(",["'method('"]],["$METHOD(",["'$method('"]]]),s=k=>o.get(k)||`'${k}'`,u=function(k,M={},O){if(M.recoverable)this.trace(k);else{if(Array.isArray(M.inside)){let W=O.lexer.offset-O.lexer.match.length;O.lexer.setMatch(W+M.inside[0],W+M.inside[1])}let F=O.lexer.yylloc,P=[k.split(/\n/)[0],"",O.lexer.showPosition()],j=Array.isArray(M.expected)?[...new Set([].concat(...M.expected.map(W=>s(W.slice(1,-1)))))]:null;j&&P.push("","Expecting "+j.join(", ")+" got "+s(M.token));let H=new SyntaxError(P.join(`
`));throw H.details={rawMessage:k,text:M.text,token:M.token,expected:j,loc:{range:F.range,start:{line:F.first_line,column:F.first_column,offset:F.range[0]},end:{line:F.last_line,column:F.last_column,offset:F.range[1]}}},H}},f=new Set([`
`,"\r","\u2028","\u2029"]),d=new Map([["undefined",void 0],["null",null],["false",!1],["true",!0],["Infinity",1/0],["NaN",NaN]]);Object.assign(e.lexer,{toLiteral:k=>d.get(k),toNumberLiteral(k,M,O=!1){if(M){let F=k.match(O?/(?:^|[^0-9a-fA-F])_|_(?:[^0-9a-fA-F]|$)/:/(?:^|\D)_|_(?:\D|$)/);if(F){let P=F[0],j=F.index+ +(P[1]==="_"),H=P==="__"?"Only one underscore is allowed":"Wrong underscore";this.parseError(H+" as numeric separator",{inside:[j,j+1]})}k=k.replace(/_/g,"")}return O?parseInt(k,16):parseFloat(k)},toStringLiteral(k,M=!1,O=1){let F=k.length-O,P="";for(let j=1;j<F;j++){if(!M&&f.has(k[j])&&this.parseError("Invalid line terminator",{inside:[j,j+1]}),k[j]!=="\\"){P+=k[j];continue}j===F-1&&this.parseError("Invalid backslash",{inside:[j,j+1]});let H=k[++j];switch(H){case"\r":j+=k[j+1]===`
`;break;case`
`:case"\u2028":case"\u2029":break;case"0":P+="\0";break;case"b":P+="\b";break;case"n":P+=`
`;break;case"r":P+="\r";break;case"f":P+="\f";break;case"t":P+="	";break;case"v":P+="\v";break;case"u":{let[W=""]=k.slice(j+1,j+5).match(/^[0-9a-f]*/i)||[];if(W.length===4){P+=String.fromCharCode(parseInt(W,16)),j+=4;break}this.parseError("Invalid Unicode escape sequence",{inside:[j-1,Math.min(j+1+W.length,F)]});break}case"x":{let[W=""]=k.slice(j+1,j+3).match(/^[0-9a-f]*/i)||[];if(W.length===2){P+=String.fromCharCode(parseInt(W,16)),j+=2;break}this.parseError("Invalid hexadecimal escape sequence",{inside:[j-1,Math.min(j+1+W.length,F)]});break}default:P+=H}}return P},toRegExp(k){let M=k.lastIndexOf("/")+1,O=k.substr(M);return O.split("").forEach((F,P,j)=>{let H=j.indexOf(F,P+1);H!==-1&&this.parseError("Duplicate flag in regexp",{inside:[M+H,M+H+1]})}),new RegExp(k.substr(1,k.lastIndexOf("/")-1),O)}}),r(e.lexer,{setInput:k=>function(M,O){let F=[];return O.commentRanges=F,O.buildResult=P=>({ast:P,commentRanges:F}),O.parseError=function(...P){return u.call(this,...P,O)},O.pks=()=>{this.eof()||this.begin("preventKeyword")},O.pps=()=>{this.eof()||this.begin("preventPrimitive")},this.bracketStack=[],this.prevToken=null,this.prevYylloc={first_line:1,last_line:1,first_column:0,last_column:0,range:[0,0]},k.call(this,M,O)}});let h=new e.Parser;h.lexer={...e.lexer},h.yy={...e.yy};let g=["AND","OR","IN","NOTIN","HAS","HASNO","IS"],m=[...g,"NOT","NO","ORDER"],w=["+","-","*","/","%","|","=","!=","~=",">=","<=","<",">"],x=[null,"?",":",";",",",".","..","(",".(","..(","METHOD(","$METHOD(","[",".[","=>",...w,...g,"NOT","NO"],D=[",","?",":",";","EOF","]",")","}","TPL_CONTINUE","TPL_END",...w,...g,"ORDER"],L=new Map(x.map(k=>[k,new Set(D)]));for(let k of[".(","..(","METHOD(","$METHOD("])L.get(k).delete(")");for(let k of["[",".["])L.get(k).delete("]");r(h.lexer,{lex:k=>function(){let O=this.offset,F=k.call(this);if(L.has(this.prevToken)&&L.get(this.prevToken).has(F)){let P={first_line:this.prevYylloc.last_line,last_line:this.yylloc.first_line,first_column:this.prevYylloc.last_column,last_column:this.yylloc.first_column,range:[this.prevYylloc.range[1],this.yylloc.range[0]]};if(this.unput(this.match),this.pushState("preventPrimitive"),this.done=!1,this.yytext="",this.yylloc=this.prevYylloc=P,O!==this.offset&&m.includes(F))switch(this._input[O]){case" ":case"	":P.last_column--,P.range[1]--;break;case`
`:{let j=this._input.lastIndexOf(`
`,O-1);P.last_line--,P.last_column=j===-1?P.last_column-1:O-j,P.range[1]--;break}}return this.prevToken="IDENT"}if(this.prevYylloc=this.yylloc,m.includes(F))switch(this._input[this.offset]){case" ":case"	":this.prevYylloc={...this.prevYylloc,last_column:this.prevYylloc.last_column+1,range:[this.prevYylloc.range[0],this.prevYylloc.range[1]+1]};break;case`
`:this.prevYylloc={...this.prevYylloc,last_line:this.prevYylloc.last_line+1,last_column:0,range:[this.prevYylloc.range[0],this.prevYylloc.range[1]+1]};break}return this.prevToken=F}});let N=new Map([["(",")"],[".(",")"],["..(",")"],["METHOD(",")"],["$METHOD(",")"],["[","]"],[".[","]"],["{","}"],["TPL_START","TPL_END"]]),T=new Set([")","]","}","TPL_END"]),C=k=>function(){let O=k.call(this);if(T.has(O)){let F=this.bracketStack.pop();F!==O&&this.parseError(`Expected "${F}" got "${O}"`)}return N.has(O)&&this.bracketStack.push(N.get(O)),O};return r(e.lexer,{lex:C}),r(h.lexer,{lex:C}),{parse(k,M){return M?h.parse(k):e.parse(k)},*tokenize(k,M,O){let F=M?h:e,P=Object.create(F.lexer);for(P.setInput(k,{parser:F});!P.done;){let j={type:P.lex(),value:P.match,offset:P.yylloc.range[0]};O&&(j.loc={range:P.yylloc.range,start:{line:P.yylloc.first_line,column:P.yylloc.first_column},end:{line:P.yylloc.last_line,column:P.yylloc.last_column}}),yield j}}}}(new Sc),ja=TT});var Ec={};Se(Ec,{compile:()=>MT,stringify:()=>FT,walk:()=>LT});function MT(t,e){let r=e.scope.arg1;e.put(typeof r=="string"?r:"undefined")}function LT(){}function FT(t,e){e.put("$$")}var Xm=I(()=>{});var Tc={};Se(Tc,{compile:()=>OT,stringify:()=>IT,suggest:()=>NT,walk:()=>PT});function NT(t,e){t.elements.length===0&&e.queryRoot(t.range[0]+1,t.range[1]-1)}function OT(t,e){e.put("["),e.list(t.elements,","),e.put("]")}function PT(t,e){e.list(t.elements)}function IT(t,e){e.put("["),e.list(t.elements,","),e.put("]")}var ey=I(()=>{});var Mc={};Se(Mc,{compile:()=>BT,stringify:()=>RT,suggest:()=>jT,walk:()=>zT});function jT(t,e){Array.isArray(t.assertion)||(e.range(t.assertion.range,"var"),e.range(t.assertion.range,"assertion"))}function BT(t,e){if(Array.isArray(t.assertion)){e.put(t.negation?"!(":"(");for(let r=0;r<t.assertion.length;r++)if(r%2===0)e.node(t.assertion[r]);else switch(t.assertion[r]){case"and":e.put("&&");break;case"or":e.put("||");break;default:e.error("Bad conjuction operator in assertion",t)}e.put(")")}else switch(t.negation&&e.put("!"),t.assertion.type){case"Identifier":t.assertion.name?(e.put("!!"),e.tolerant&&e.put("(typeof "),e.put("a["),e.node(t.assertion),e.put("]"),e.tolerant&&(e.put('==="function"?a['),e.node(t.assertion),e.put("]")),e.put(".call(mctx,"),e.nodeOrCurrent(),e.put(")"),e.tolerant&&e.put(":false)"),e.usedAssertions.has(t.assertion.name)?e.usedAssertions.get(t.assertion.name).push(t.assertion.range):e.usedAssertions.set(t.assertion.name,t.assertion.range)):e.put("false");break;case"Method":e.put("!!"),e.node(t.assertion);break;default:e.error('Unknown assertion node type "'+t.assertion.type+'"',t.assertion)}}function zT(t,e){if(Array.isArray(t.assertion))for(let r=0;r<t.assertion.length;r++)r%2===0&&e.node(t.assertion[r]);else e.node(t.assertion)}function RT(t,e){if(t.negation&&e.put("not "),Array.isArray(t.assertion)){e.put("(");for(let r=0;r<t.assertion.length;r++)r%2===0?e.node(t.assertion[r]):(e.put(" "),e.put(t.assertion[r]),e.put(" "));e.put(")")}else e.node(t.assertion)}var ty=I(()=>{});var Lc={};Se(Lc,{compile:()=>qT,stringify:()=>WT,suggest:()=>HT,walk:()=>_T});function Ba(t,e,r){if(r.type==="Array"){if(r.elements.length===0){t.range([r.range[0]+1,r.range[1]-1],"value-subset",e,!1);return}let o=[];for(let{type:u,range:f,value:d}of r.elements)f&&(u==="Literal"||u==="Identifier")&&o.push(d);let s=o.length?t.literalList(o):!1;for(let{type:u,range:f,value:d}of r.elements)f&&(u==="Literal"||u==="Identifier"||u==="GetProperty"&&d===null)&&t.range(f,"value-subset",e,s)}}function HT(t,e){switch(t.operator){case"in":e.range(t.left.range,"in-value",t.right,null),Ba(e,t.left,t.right);break;case"not in":Ba(e,t.left,t.right);break;case"has":e.range(t.right.range,"in-value",t.left,null),Ba(e,t.right,t.left);break;case"has no":Ba(e,t.right,t.left);break;case"=":case"!=":e.range(t.right.range,"value",t.left,null);break}}function qT(t,e){if(!(t.operator in ny)){e.error('Unknown operator "'+t.operator+'"',t);return}switch(t.operator){case"and":e.put("!");case"or":{let r=e.allocateVar();e.put(`${e.buildinFn("bool")}(${r}=`),e.node(t.left),e.put(`)?${r}:`),e.createScope(()=>e.node(t.right),o=>(e.put(")"),"("+o+","),e.scope.$ref);break}case"??":{let r=e.allocateVar();e.put(`(${r}=`),e.node(t.left),e.put(`,${r}!==null&&${r}!==undefined)?${r}:`),e.createScope(()=>e.node(t.right),o=>(e.put(")"),"("+o+","),e.scope.$ref);break}case"has no":e.put("!");case"has":e.put(e.buildinFn("in")),e.put("("),e.node(t.right),e.put(","),e.node(t.left),e.put(")");break;default:e.put(e.buildinFn(ny[t.operator])),e.put("("),e.node(t.left),e.put(","),e.node(t.right),e.put(")")}}function _T(t,e){e.node(t.left),e.node(t.right)}function WT(t,e){e.node(t.left),/^[a-z]/i.test(t.operator)?(e.put(" "),e.put(t.operator),e.put(" ")):e.put(t.operator),e.node(t.right)}var ny,ry=I(()=>{ny={in:"in","not in":"notIn",has:"has","has no":"hasNo",and:"and",or:"or","??":"nullish","+":"add","-":"sub","*":"mul","/":"div","%":"mod","=":"eq","!=":"ne","<":"lt","<=":"lte",">":"gt",">=":"gte","~=":"match"}});var Fc={};Se(Fc,{compile:()=>VT,stringify:()=>GT,suggest:()=>$T,walk:()=>UT});function $T(t,e){t.body===null&&e.queryRoot(t.range[1])}function VT(t,e){t.definitions.length?(e.put("(()=>{"),e.createScope(()=>{for(let{declarator:r}of t.definitions)r.name&&e.scope.awaitInit.add(e.unescapeName("$"+r.name,r));e.list(t.definitions),e.put("return "),e.nodeOrCurrent(t.body)},r=>r+";",e.scope.$ref),e.put("})()")):t.body&&t.body.type==="Object"?(e.put("("),e.nodeOrCurrent(t.body),e.put(")")):e.nodeOrCurrent(t.body)}function UT(t,e){e.list(t.definitions),e.nodeOrNothing(t.body)}function GT(t,e){e.list(t.definitions),e.nodeOrNothing(t.body)}var iy=I(()=>{});var Nc={};Se(Nc,{compile:()=>YT,stringify:()=>KT,walk:()=>QT});function YT(t,e){let r=t.order.startsWith("desc"),o=oy[t.order.slice(r?4:3)]||oy[""];r&&e.put("-"),e.put(e.buildinFn(o)),e.put("((_q=$=>("),e.createScope(()=>e.node(t.query),s=>s+","),e.put("))(_a),_q(_b))")}function QT(t,e){e.node(t.query)}function KT(t,e){e.node(t.query),e.put(" "),e.put(t.order)}var oy,sy=I(()=>{oy={"":"cmp",N:"cmpNatural",A:"cmpAnalytical",NA:"cmpNaturalAnalytical",AN:"cmpNaturalAnalytical"}});var Oc={};Se(Oc,{compile:()=>JT,stringify:()=>XT,walk:()=>ZT});function JT(t,e){e.put("(_a, _b)=>{let _q;return "),e.list(t.compares,"||"),e.put("||0}")}function ZT(t,e){e.list(t.compares)}function XT(t,e){e.list(t.compares,",")}var ay=I(()=>{});var Pc={};Se(Pc,{compile:()=>eM,stringify:()=>nM,walk:()=>tM});function eM(t,e){e.put(e.buildinFn("bool")),e.put("("),e.nodeOrCurrent(t.test),e.put(")?"),e.createScope(()=>e.nodeOrCurrent(t.consequent),r=>(e.put(")"),"("+r+","),e.scope.$ref),e.put(":"),e.createScope(()=>{t.alternate?t.alternate.type==="Placeholder"?(e.put("("),e.node(t.alternate),e.put(",undefined)")):e.node(t.alternate):e.put("undefined")},r=>(e.put(")"),"("+r+","),e.scope.$ref)}function tM(t,e){e.nodeOrNothing(t.test),e.nodeOrNothing(t.consequent),e.nodeOrNothing(t.alternate)}function nM(t,e){e.nodeOrNothing(t.test),e.put("?"),e.nodeOrNothing(t.consequent),t.alternate&&(e.put(":"),e.node(t.alternate))}var ly=I(()=>{});var Ic={};Se(Ic,{compile:()=>rM,stringify:()=>oM,walk:()=>iM});function rM(t,e){e.put("context")}function iM(){}function oM(t,e){e.put("#")}var uy=I(()=>{});var jc={};Se(jc,{compile:()=>aM,stringify:()=>uM,suggest:()=>sM,walk:()=>lM});function sM(t,e){t.range&&e.range(t.range,"var")}function aM(t,e){e.put(e.scope.$ref)}function lM(){}function uM(t,e){e.put("$")}var cy=I(()=>{});var Bc={};Se(Bc,{compile:()=>cM,stringify:()=>dM,walk:()=>fM});function cM(t,e){e.put("data")}function fM(){}function dM(t,e){e.put("@")}var fy=I(()=>{});var zc={};Se(zc,{compile:()=>pM,stringify:()=>gM,walk:()=>hM});function pM(t,e){t.name&&e.putIdent("$"+e.unescapeName(t.name,t),t)}function hM(){}function gM(t,e){e.put(t.name?"$"+t.name:"$")}var dy=I(()=>{});function $o(t,e){return{type:"GetProperty",value:t,property:e}}function za(t){return{type:"Identifier",name:t}}var Rc=I(()=>{});var Hc={};Se(Hc,{compile:()=>vM,stringify:()=>bM,suggest:()=>yM,walk:()=>wM});function yM(t,e){t.value===null&&e.range(t.declarator.range,"path")}function vM(t,e){let r=t.declarator.name,o=r&&e.unescapeName("$"+r,t);if(o===null){e.node(t.declarator),e.nodeOrCurrent(t.value),e.put(";");return}if(e.scope.own.has(o)){e.error(`Identifier "${o}" has already been declared`,t.declarator);return}if(mM.includes(o)){e.error(`Identifier "${o}" is reserved for future use`,t.declarator);return}e.put("const "),e.node(t.declarator),e.put("="),e.node(t.value||$o(null,za(r))),e.put(";"),e.scope.add(o),e.scope.own.add(o),e.scope.awaitInit.delete(o)}function wM(t,e){e.node(t.declarator),e.nodeOrNothing(t.value)}function bM(t,e){e.node(t.declarator),t.value!==null&&(e.put(":"),e.node(t.value)),e.put(";")}var mM,py=I(()=>{Rc();mM=["$data","$context","$ctx","$array","$idx","$index"]});var qc={};Se(qc,{compile:()=>xM,stringify:()=>CM,walk:()=>kM});function xM(t,e){e.put(e.buildinFn("filter")),e.put("("),e.nodeOrCurrent(t.value),e.put(",$=>"),e.createScope(()=>e.node(t.query),r=>(e.put(")"),"("+r+",")),e.put(")")}function kM(t,e){e.nodeOrNothing(t.value),e.node(t.query)}function CM(t,e){e.nodeOrNothing(t.value),e.put(".["),e.node(t.query),e.put("]")}var hy=I(()=>{});var _c={};Se(_c,{compile:()=>AM,stringify:()=>SM,walk:()=>DM});function AM(t,e){let r=t.arguments.map(s=>e.unescapeName("$"+s.name,s)),o=t.arguments.find((s,u)=>u>0&&r.lastIndexOf("$"+s.name,u-1)!==-1);o&&e.error('Duplicate parameter name "$'+o.name+'" is not allowed',o),e.put("function("),e.put(String(r)||"$"),e.put("){return "),e.createScope(()=>{e.scope.arg1=r[1]||"arguments[1]",e.scope.$ref=r[0]||"$";for(let s of r)e.scope.add(s);e.node(t.body)},s=>s+","),e.put("}")}function DM(t,e){e.node(t.body)}function SM(t,e){e.put("=>"),e.node(t.body)}var gy=I(()=>{});var Wc={};Se(Wc,{compile:()=>TM,stringify:()=>LM,suggest:()=>EM,walk:()=>MM});function EM(t,e){e.range(t.property.range,"path",t.value||void 0,!t.value),t.value===null&&e.range(t.property.range,"var"),t.range&&t.value===null&&t.property.range[0]!==t.range[0]&&e.queryRoot(t.range[0])}function TM(t,e){e.put(e.buildinFn("map")),e.put("("),e.nodeOrCurrent(t.value),e.put(","),e.node(t.property),e.put(")")}function MM(t,e){e.nodeOrNothing(t.value),e.node(t.property)}function LM(t,e){e.nodeOrNothing(t.value)&&e.put("."),e.node(t.property)}var my=I(()=>{});var $c={};Se($c,{compile:()=>FM,stringify:()=>OM,walk:()=>NM});function FM(t,e){e.put(JSON.stringify(e.unescapeName(t.name,t,!1)))}function NM(){}function OM(t,e){e.put(t.name)}var yy=I(()=>{});var Vc={};Se(Vc,{compile:()=>PM,stringify:()=>jM,walk:()=>IM});function PM(t,e){e.put(typeof t.value=="string"?JSON.stringify(t.value):String(t.value))}function IM(){}function jM(t,e){e.put(typeof t.value=="string"?JSON.stringify(t.value):String(t.value))}var vy=I(()=>{});var Uc={};Se(Uc,{compile:()=>BM,stringify:()=>RM,walk:()=>zM});function BM(t,e){e.put(e.buildinFn("map")),e.put("("),e.nodeOrCurrent(t.value),e.put(",$=>"),e.createScope(()=>e.node(t.query),r=>(e.put(")"),"("+r+",")),e.put(")")}function zM(t,e){e.nodeOrNothing(t.value),e.node(t.query)}function RM(t,e){e.nodeOrNothing(t.value),e.put(".("),e.node(t.query),e.put(")")}var wy=I(()=>{});var Gc={};Se(Gc,{compile:()=>HM,stringify:()=>_M,walk:()=>qM});function HM(t,e){e.put(e.buildinFn("mapRecursive")),e.put("("),e.nodeOrCurrent(t.value),e.put(",$=>"),e.createScope(()=>e.node(t.query),r=>(e.put(")"),"("+r+",")),e.put(")")}function qM(t,e){e.nodeOrNothing(t.value),e.node(t.query)}function _M(t,e){e.nodeOrNothing(t.value),e.put(".."),e.isSimpleGetPropertyQuery(t.query)||e.isSimpleMethodCallQuery(t.query)?e.node(t.query):(e.put("("),e.node(t.query),e.put(")"))}var by=I(()=>{});var Yc={};Se(Yc,{compile:()=>$M,stringify:()=>UM,suggest:()=>WM,walk:()=>VM});function WM(t,e){t.arguments.length===0&&e.queryRoot(t.range[1]-1)}function $M(t,e,r){let o=t.reference.type==="Identifier";e.tolerant&&e.put("(typeof "),o?(e.usedMethods.has(t.reference.name)?e.usedMethods.get(t.reference.name).push(t.reference.range):e.usedMethods.set(t.reference.name,[t.reference.range]),e.put("m["),e.node(t.reference),e.put("]")):e.node(t.reference),e.tolerant&&(e.put('==="function"?'),o?(e.put("m["),e.node(t.reference),e.put("]")):e.node(t.reference)),e.put(o?".call(mctx,":"("),e.nodeOrCurrent(r),t.arguments.length&&(e.put(","),e.list(t.arguments,",")),e.put(")"),e.tolerant&&e.put(":undefined)")}function VM(t,e){e.node(t.reference),e.list(t.arguments)}function UM(t,e){e.node(t.reference),e.put("("),e.list(t.arguments,","),e.put(")")}var xy=I(()=>{});var Qc={};Se(Qc,{compile:()=>GM,stringify:()=>QM,walk:()=>YM});function GM(t,e){e.node(t.method,t.value)}function YM(t,e){e.nodeOrNothing(t.value),e.node(t.method)}function QM(t,e){e.nodeOrNothing(t.value)&&e.put("."),e.node(t.method)}var ky=I(()=>{});var Kc={};Se(Kc,{compile:()=>JM,stringify:()=>XM,suggest:()=>KM,walk:()=>ZM});function KM(t,e){t.properties.length===0&&e.queryRoot(t.range[0]+1,t.range[1]-1)}function JM(t,e){e.put("{"),e.list(t.properties,","),e.put("}")}function ZM(t,e){e.list(t.properties)}function XM(t,e){e.put("{"),e.list(t.properties,","),e.put("}")}var Cy=I(()=>{});var Jc={};Se(Jc,{compile:()=>nL,stringify:()=>iL,suggest:()=>tL,walk:()=>rL});function tL(t,e){if(t.value===null)switch(t.key.type){case"Literal":case"Identifier":e.range(t.range,"path"),e.range(t.range,"var");break;case"Current":case"Reference":e.range(t.range,"var");break}}function nL(t,e){let r=t.value;switch(t.key.type){case"Current":e.put("...null");return;case"Literal":e.node(t.key),r=r||$o(null,za(String(t.key.value)));break;case"Identifier":e.node(t.key),r=r||$o(null,t.key);break;case"Reference":e.node(t.key.name),r=r||t.key;break;default:e.put("["),e.node(t.key),e.put("]")}e.put(":"),e.node(r)}function rL(t,e){e.node(t.key),e.nodeOrNothing(t.value)}function iL(t,e){if(eL.has(t.key.type)){if(e.node(t.key),t.value===null)return}else e.put("["),e.node(t.key),e.put("]");e.put(":"),e.node(t.value)}var eL,Ay=I(()=>{Rc();eL=new Set(["Literal","Identifier","Reference","Current"])});var Zc={};Se(Zc,{compile:()=>oL,stringify:()=>aL,walk:()=>sL});function oL(t,e){e.put("("),e.node(t.body),e.put(")")}function sL(t,e){e.node(t.body)}function aL(t,e){e.put("("),e.node(t.body),e.put(")")}var Dy=I(()=>{});var Xc={};Se(Xc,{compile:()=>uL,stringify:()=>fL,suggest:()=>lL,walk:()=>cL});function lL(t,e){if(t.getter===null){let r=t.range[1]-1;e.range([r,r],"key",t.value,!1),e.queryRoot(r)}else(t.getter.type==="GetProperty"||t.getter.type==="Reference"||t.getter.type==="Literal"&&typeof t.getter.value=="string")&&e.range(t.getter.range,"key",t.value,!1)}function uL(t,e){e.put(e.buildinFn("pick")),e.put("("),e.node(t.value),t.getter&&(e.put(","),e.node(t.getter)),e.put(")")}function cL(t,e){e.node(t.value),t.getter!==null&&e.node(t.getter)}function fL(t,e){e.node(t.value),e.put("["),t.getter!==null&&e.node(t.getter),e.put("]")}var Sy=I(()=>{});var ef={};Se(ef,{compile:()=>dL,stringify:()=>hL,walk:()=>pL});function dL(t,e){e.put("($=>("),e.createScope(()=>e.node(t.right),r=>r+","),e.put("))"),e.put("("),e.nodeOrCurrent(t.left),e.put(")")}function pL(t,e){e.node(t.left),e.node(t.right)}function hL(t,e){e.node(t.left),e.put("|"),e.node(t.right)}var Ey=I(()=>{});var tf={};Se(tf,{compile:()=>mL,stringify:()=>vL,suggest:()=>gL,walk:()=>yL});function gL(t,e){e.queryRoot(t.range[1])}function mL(t,e){e.put(e.scope.$ref)}function yL(){}function vL(){}var Ty=I(()=>{});var nf={};Se(nf,{compile:()=>wL,stringify:()=>xL,walk:()=>bL});function wL(t,e){if(t.operator&&t.operator.type){e.put("($=>("),e.createScope(()=>e.node(t.operator),r=>r+","),e.put("))"),e.put("("),e.node(t.argument),e.put(")");return}e.error('Unknown operator "'+t.operator+'"',t)}function bL(t,e){e.node(t.argument),t.operator&&t.operator.type&&e.node(t.operator)}function xL(t,e){e.node(t.argument),e.put(" "),e.node(t.operator)}var My=I(()=>{});var rf={};Se(rf,{compile:()=>kL,stringify:()=>AL,walk:()=>CL});function kL(t,e){switch(t.operator){case"no":case"not":e.put("!"),e.put(e.buildinFn("bool")),e.put("("),e.node(t.argument),e.put(")");break;case"+":case"-":e.put(t.operator),e.node(t.argument);break;case"is":e.put("!!("),e.node(t.argument),e.put(")");break;default:e.error('Unknown operator "'+t.operator+'"',t)}}function CL(t,e){e.node(t.argument),t.operator&&t.operator.type&&e.node(t.operator)}function AL(t,e){e.put(t.operator),t.operator!=="-"&&t.operator!=="+"&&e.put(" "),e.node(t.argument)}var Ly=I(()=>{});var of={};Se(of,{compile:()=>SL,stringify:()=>TL,suggest:()=>DL,walk:()=>EL});function DL(t,e){t.range&&e.range(t.range,"var")}function SL(t,e){let r=t.name,o=e.unescapeName("$"+r.name,r),s=e.scope.has(o),u=e.scope.awaitInit.has(o);if(!s||u){u?(e.put("f.awaitInitRef(()=>"),e.putIdent(o,r),e.tolerant||(e.put(","),e.put(JSON.stringify(o)),e.put(","),e.put(JSON.stringify(r.range))),e.put(")")):e.tolerant?e.put("undefined"):(e.putIdent(o,t),e.error(`${o} is not defined`,t));return}e.putIdent(o,r)}function EL(t,e){e.node(t.name)}function TL(t,e){e.put("$"),e.node(t.name)}var Fy=I(()=>{});var sf={};Se(sf,{compile:()=>ML,stringify:()=>FL,walk:()=>LL});function ML(t,e){e.put(e.buildinFn("slice")),e.put("("),e.nodeOrCurrent(t.value),t.arguments.slice(0,3).forEach(r=>{e.put(","),r?e.node(r):e.put("undefined")}),e.put(")")}function LL(t,e){e.nodeOrNothing(t.value);for(let r of t.arguments.slice(0,3))r&&e.node(r)}function FL(t,e){let[r,o,s]=t.arguments;e.nodeOrNothing(t.value),e.put("["),r&&e.node(r),e.put(":"),o&&e.node(o),s&&(e.put(":"),e.node(s)),e.put("]")}var Ny=I(()=>{});var af={};Se(af,{compile:()=>OL,stringify:()=>IL,suggest:()=>NL,walk:()=>PL});function NL(t,e){t.query===null&&e.queryRoot(t.range[1])}function OL(t,e){if(t.array){e.put("..."),e.put(e.buildinFn("ensureArray")),e.put("("),e.nodeOrCurrent(t.query),e.put(")");return}e.put("..."),e.nodeOrCurrent(t.query)}function PL(t,e){e.nodeOrNothing(t.query)}function IL(t,e){e.put("..."),e.nodeOrNothing(t.query)}var Oy=I(()=>{});var lf={};Se(lf,{compile:()=>BL,stringify:()=>RL,suggest:()=>jL,walk:()=>zL});function jL(t,e){for(let[r,o]of Object.entries(t.values))o===null&&e.queryRoot(t.values[Number(r)-1].range[1])}function BL(t,e){for(let[r,o]of Object.entries(t.values)){let s=Number(r);o!==null&&(s!==0&&e.put("+"),s%2===0?e.put('"'+Py(o.value,HL)+'"'):(e.put("("),e.node(o),e.put(")")))}}function zL(t,e){for(let r of t.values)r!==null&&e.node(r)}function RL(t,e){let r=t.values.length-1;for(let[o,s]of Object.entries(t.values)){let u=Number(o);u%2===0?(e.put(u===0?"`":"}"),e.put(Py(s.value,qL)),e.put(u===r?"`":"${")):s!==null&&e.node(s)}}function Py(t,e){let r="";for(let o=0;o<t.length;o++)r+=e.get(t[o])||t[o];return r}var HL,qL,Iy=I(()=>{HL=new Map([["\b","\\b"],[`
`,"\\n"],["\r","\\r"],["\f","\\f"],["	","\\t"],["\v","\\v"],["\u2028","\\u2028"],["\u2029","\\u2029"],["\\","\\\\"],['"','\\"']]),qL=new Map([["\b","\\b"],["\f","\\f"],["	","\\t"],["\v","\\v"],["\\","\\\\"],["$","\\$"]])});var _L,Vo,WL,uf,cf,ff,df,Uo=I(()=>{Xm();ey();ty();ry();iy();sy();ay();ly();uy();cy();fy();dy();py();hy();gy();my();yy();vy();wy();by();xy();ky();Cy();Ay();Dy();Sy();Ey();Ty();My();Ly();Fy();Ny();Oy();Iy();_L={Arg1:Ec,Array:Tc,Assertion:Mc,Binary:Lc,Block:Fc,Compare:Nc,Conditional:Pc,Context:Ic,Current:jc,Data:Bc,Declarator:zc,Definition:Hc,Filter:qc,Function:_c,GetProperty:Wc,Identifier:$c,Literal:Vc,Map:Uc,MapRecursive:Gc,Method:Yc,MethodCall:Qc,Object:Kc,ObjectEntry:Jc,Parentheses:Zc,Pick:Xc,Pipeline:ef,Placeholder:tf,Postfix:nf,Prefix:rf,Reference:of,SliceNotation:sf,CompareFunction:Oc,Spread:af,Template:lf},Vo=t=>new Map(Object.entries(_L).map(([e,r])=>[e,r[t]]).filter(([,e])=>typeof e=="function")),WL={};Vo("build").forEach((t,e)=>WL[e]=t);uf=Vo("compile"),cf=Vo("walk"),ff=Vo("stringify"),df=Vo("suggest")});function Go(t,e){function r(f){if(cf.has(f.type))s(f),cf.get(f.type)(f,o),u(f);else throw new Error('Unknown node type "'+f.type+'"')}let o={node:r,nodeOrNothing(f){f!==null&&r(f)},list(f){f.forEach(r)}},s=()=>{},u=()=>{};typeof e=="function"&&(e={enter:e}),e&&(typeof e.enter=="function"&&(s=e.enter),typeof e.leave=="function"&&(u=e.leave)),r(t)}var pf=I(()=>{Uo()});function jy(t,e){return e>=0&&e<t.length&&/[a-zA-Z_$0-9]/.test(t[e])}function hf(t,e){let r=t.charCodeAt(e);return r===9||r===10||r===13||r===32}function $L(t,e,r){for(;e<r;e++)if(!hf(t,e))return!1;return!0}function VL(t,e,r,o,s){let u=[];for(let f=0;f<o.length;f++){let[d,h]=o[f];if(d>=e)break;d<t||(u.push(t,d),t=h)}return(t!==r.length||!s)&&u.push(t,e),u}function UL(t,e,r,o){let s=[];for(let u=0;u<t.length;u++){let[f,d,h,g]=t[u];if($L(e,f,d)){for(;f>=0&&hf(e,f-1);)f--;for(;d<e.length&&hf(e,d);)d++;if(jy(e,f-1)){if(f===d)continue;f++}if(jy(e,d)){if(f===d)continue;d--}}let m=VL(f,d,e,r,o);for(let w=0;w<m.length;w+=2)s.push([m[w],m[w+1],h,g])}return s}function GL(t){let e=null,r=[],o=Object.assign(new Map,{literalList:r}),s=(f,d)=>{o.has(f)?o.get(f).push(d):o.set(f,[d])},u={range(f,d,h=e,g=!0){s(h,[...f,d,g])},literalList(f){let d="l"+r.length;return r.push([d,f]),d},queryRoot(f,d=f){s(e,[f,d,"var",!0]),s(e,[f,d,"path",!0])}};return Go(t,f=>{if(df.has(f.type)){let d=e;e=f,df.get(f.type)(f,u),e=d}}),o}function Ra(t,{ast:e,commentRanges:r}){let o=GL(e),s=r.length&&r[r.length-1][1]===t.length&&!/[\r\n]$/.test(t);for(let[u,f]of o)o.set(u,UL(f,t,r,s));return o}var By=I(()=>{Uo();pf()});function YL(t){return t.type==="GetProperty"}function QL(t){return t.type==="MethodCall"}function Ha(t){function e(s){if(ff.has(s.type))ff.get(s.type)(s,o);else throw new Error('Unknown node type "'+s.type+'"')}let r=[],o={isSimpleGetPropertyQuery:YL,isSimpleMethodCallQuery:QL,put(s){r.push(s)},node:e,nodeOrNothing(s){if(s!==null)return e(s),!0},list(s,u){if(!u){s.forEach(e);return}s.forEach((f,d)=>{d>0&&o.put(u),e(f)})}};return e(t),r.join("")}var zy=I(()=>{Uo()});function gf(t,e,r){let o=Object.assign(Object.create(SyntaxError.prototype),r),s=new Error;return o.name=t,o.message=e,Object.defineProperty(o,"stack",{get:function(){return(s.stack||"").replace(/^(.+\n){1,3}/,t+": "+e+`
`)}}),o}var Ry=I(()=>{});function yf(t,e,r){return Hy(t,"query",e,r)}function vf(t,e,r){return Hy(t,"method",e,r)}function Hy(t,e,r=!1,o=null){function s(C){let k="s"+g.length;return g.push(C?[k,C]:[k]),k}function u(C){let k=m.get(C);return k||m.set(C,k=s()),k}function f(C,k,M,O,F){let P=[C,k,JSON.stringify(M)];if(M==="var"){if(!T.scope.size)return;P.push(JSON.stringify([...T.scope]))}else O||(O=s()),P.push(O),F&&P.push(typeof F=="string"?F:u(F));return x.push(P),O}function d(C,k,M="$"){let O=T.scope,F=D.length-1,P=O.arg1||e==="method"&&"arguments[1]";if(T.scope=O.spawn(P,M),C(),T.scope.captureCurrent.length){let H="stat("+T.scope.captureCurrent.reduce((W,X)=>f(...X,W),void 0)+","+T.scope.$ref+")";T.scope.firstCurrent?D[T.scope.firstCurrent]=H:D[F]+=k(H)}T.scope=O}function h(C,k){let M=!1;if(o!==null){if(o.has(C))for(let[O,F,P,j]of o.get(C))P==="var"?f(O,F,P):j===!0?T.scope.captureCurrent.push([O,F,P]):(M||(M=u(C),D.push("stat("+M+",")),P&&f(O,F,P,M,j));C.type==="Current"&&T.scope.firstCurrent===null&&(T.scope.firstCurrent=D.length)}if(uf.has(C.type))uf.get(C.type)(C,T,k);else throw new Error('Unknown node type "'+C.type+'"');M&&D.push(")")}let g=[],m=new WeakMap,w=[],x=[],D=[{toString(){if(e==="query")return["((data,context)=>{",...T.usedMethods.size||T.usedAssertions.size?["const method = (name,...args)=>m[name].apply(mctx,args);","const assertion = (name,...args)=>a[name].apply(mctx,args);","const mctx = Object.freeze({context,method,assertion});"]:[]].join(`
`)+`
`;if(e==="method")return["(function(data){","const mctx = this;","const context = mctx.context;"].join(`
`)+`
`;throw new Error("Unknown kind: "+e)}},{toString(){return w.length>0?"let "+w+`;
`:""}},{toString(){return g.length>0?[`const stat=(s,v)=>(s.add(v),v);
`,"const "+g.map(([C,k])=>C+"=new Set("+(k?JSON.stringify(k):"")+")")+`;
`].join(""):""}},{toString(){let C=o&&Array.isArray(o.literalList)&&o.literalList.map(([k,M])=>k+"="+JSON.stringify(M));return C&&C.length?"const "+C+`;
`:""}},o===null?"return ":`return{
value: `],L={},N=new Set,T={tolerant:r,usedAssertions:new Map,usedMethods:new Map,suggestions:o!==null,buildinFn(C){return N.add(C),"f."+C},scope:new mf,createScope:d,error(C,k){let M=new SyntaxError(C);if(k&&k.range&&(M.details={loc:{range:k.range}}),!r)throw M;return M},allocateVar(){let C="tmp"+w.length;return w.push(C),C},unescapeName(C,k,M=!0){return C.replace(/\\u[0-9a-fA-F]{4}/g,(O,F)=>{let P=String.fromCharCode(parseInt(O.slice(2),16)),j=F===0?KL:JL;return M&&!j.test(P)&&this.error(`Bad escape sequence in indentifier name (expected ${j})`,k&&{range:[k.range[0]+F,k.range[0]+F+6]}),P})},put:C=>D.push(C),putIdent(C,k){if(!/^[\p{ID_Start}$_][\p{ID_Continue}$]*$/u.test(C))throw this.error("Bad identifier name "+JSON.stringify(C),k);this.put(C)},node:h,nodeOrCurrent(C,k){h(C||{type:"Current"},k)},list(C,k,M){C.forEach((O,F)=>{F>0&&D.push(k),h(O,M)})}};if(d(()=>h(t),C=>(D.push(")"),"("+C+","),"data"),!r){let{usedMethods:C,usedAssertions:k}=T;k.size&&(D.unshift(" this.assertAssertions(a)||"),L.assertAssertions=function(M){for(let[O,F]of k.entries())if(!Tt(M,O))return()=>{throw Object.assign(new Error(`Assertion "${O}" is not defined`),{details:{loc:{range:F}}})}}),C.size&&(D.unshift(" this.assertMethods(m)||"),L.assertMethods=function(M){for(let[O,F]of C.entries())if(!Tt(M,O))return()=>{throw Object.assign(new Error(`Method "${O}" is not defined. If that's a custom method make sure you added it with "methods" section in options`),{details:{loc:{range:F[0]}}})}})}return o!==null&&D.push(`,
stats: [`+x.map(C=>"["+C+"]")+`],
methods: m,
assertions: a
}`),ZL(L,"return"+D.join("")+"})")}function ZL(t,e){try{let r=new Function("f,m,a",e);return Object.assign(r.bind(t),{toString(){return r.toString().replace(/^(\S+\s+)anonymous([^)\s]+)\s*\)/,"$1query$2)")}})}catch(r){throw gf("SyntaxError","Jora query compilation error",{compiledSource:`function(f,m,a){
${e}
}`,details:r})}}var KL,JL,mf,qy=I(()=>{_n();Ry();Uo();KL=/^[\p{ID_Start}$_]$/u,JL=/^[\p{ID_Continue}$]$/u;mf=class t extends Set{constructor(e,r=[],o=!1,s="$"){super(e),this.own=new Set,this.awaitInit=new Set(r),this.firstCurrent=null,this.captureCurrent=[],this.arg1=o,this.$ref=s}spawn(e,r){return new t(this,this.awaitInit,e,r)}}});var _y,Jt,Yo,vn,wf,bf,XL,eF,Fi,tF,Wy,nF,$y,Vy,Uy,Gy=I(()=>{_y=t=>typeof t=="number"||typeof t=="string",Jt=(t,e)=>e<t.length?t.charCodeAt(e):0,Yo=t=>t===43||t===45,vn=t=>t>=48&&t<=57,wf=t=>t===9||t===10||t===12||t===13||t===32,bf=t=>t>32&&t<256&&(t<65||t>90)&&(t<97||t>122)&&!vn(t)&&!Yo(t)||t===8470,XL=t=>t&&!wf(t)&&!bf(t)&&!vn(t),eF=(t,e,r)=>Yo(t)?vn(e)?2:e===46&&vn(r)?3:0:vn(t)?1:0,Fi=(t,e,r)=>{for(;r(Jt(t,++e)););return e},tF=(t,e,r)=>{let o=Jt(t,e);if(Yo(o)&&(o=Jt(t,e+=1)),vn(o)&&(e=Fi(t,e,vn),o=Jt(t,e)),o===46&&vn(Jt(t,e+1))){if(r)return e;let s=Fi(t,e+1,vn);if(o=Jt(t,s),o===46)return e;e=s}if(o===69||o===101){let s=1;o=Jt(t,e+1),Yo(o)&&(s=2,o=Jt(t,e+2)),vn(o)&&(e=Fi(t,e+s,vn))}return e},Wy=(t,e,r,o)=>{if(e>=t.length)return 0;let s=Jt(t,e);return wf(s)?1|Fi(t,e,wf)-e<<4:bf(s)||o&&Yo(s)?2|Fi(t,e,bf)-e<<4:eF(s,Jt(t,e+1),Jt(t,e+2))?4|tF(t,e,r)-e<<4:8|Fi(t,e,XL)-e<<4},nF=(t,e,r)=>{let o=0,s=0,u=!1,f=!1,d=0,h=0,g=!0;for(;;){let m=Wy(t,o,u,f),w=Wy(e,s,u,f),x=m&15,D=m>>4,L=w&15,N=w>>4;if(x!==L){if(g&&x&3&&L&12){d=1,h=x,o+=D;continue}if(g&&L&3&&x&12){d=-1,h=L,s+=N;continue}return x-L}if(x===0)return d;g=!1,u=!1,f=!1;let T=D<N?D:N,C=D-N,k="",M="";for(let O=0;O<T;O++)if(k=t[o+O],M=e[s+O],k!==M){C=k<M?-1:1;break}if(x&3)u=t[o+D-1]===".",C!==0&&x>h&&(h=x,d=C);else if(x&4){if(f=!0,C!==0){let O=t.substr(o,D)-e.substr(s,N);if(O!==0)return r?-O:O;if(x>h){let F=Jt(t,o),P=Jt(e,s),j=F===45?-1:1;h=x,d=F!==P&&(F===45||P===43)?-1:F!==P&&(F===43||P===45)?1:(D-N||C)<0?-j:j,r&&(d=-d)}}}else if(C!==0){if(k!==M){let O=t.substr(o,D),F=e.substr(s,N),P=O.toLowerCase(),j=F.toLowerCase();return P!==j?P<j?-1:1:O<F?-1:1}return C}o+=D,s+=N}},$y=t=>(e,r)=>_y(e)&&_y(r)?Math.sign(nF(String(e),String(r),t)):0,Vy=$y(!1),Uy=$y(!0)});function cr(t){switch(typeof t){case"boolean":return rF;case"number":return t!==t?iF:Ni;case"string":return Qo;case"object":return t===null?oF:sF;case"undefined":return lF;default:return aF}}function Oi(t,e){let r=cr(t),o=cr(e);return r!==o?r<o?-1:1:t<e?-1:t>e?1:0}function Yy(t,e){let r=cr(t),o=cr(e);return r!==o?r<o?-1:1:r===Ni?e-t:t<e?-1:t>e?1:0}function Nr(t,e){let r=cr(t),o=cr(e);return(r===Ni||r===Qo)&&(o===Ni||o===Qo)?Vy(t,e):r!==o?r<o?-1:1:t<e?-1:t>e?1:0}function Qy(t,e){let r=cr(t),o=cr(e);return(r===Ni||r===Qo)&&(o===Ni||o===Qo)?Uy(t,e,!0):r!==o?r<o?-1:1:t<e?-1:t>e?1:0}function xf(t,e){return t.length===1?(r,o)=>e(t(r),t(o)):t}var rF,iF,Ni,Qo,oF,sF,aF,lF,qa=I(()=>{Gy();rF=1,iF=2,Ni=3,Qo=4,oF=5,sF=6,aF=7,lF=8});function uF(t,e,r){try{return t()}catch{if(e)throw Object.assign(new ReferenceError(`Cannot access ${e} before initialization`),{details:{name:e,loc:{range:r}}})}}function cF(t){return We(t)?t:[t]}function fF(t,e){return We(t)||We(e)?[...new Set([...We(t)?t:[t],...We(e)?e:[e]])]:t+e}function dF(t,e){if(We(t)){let r=new Set(t);return We(e)?e.forEach(o=>r.delete(o)):r.delete(e),[...r]}return t-e}function pF(t,e){return t*e}function hF(t,e){return t/e}function gF(t,e){return t%e}function mF(t,e){return Object.is(t,e)}function yF(t,e){return!Object.is(t,e)}function vF(t,e){return t<e}function wF(t,e){return t<=e}function bF(t,e){return t>e}function xF(t,e){return t>=e}function _a(t,e){return yn(e)?Tt(e,t):e?Ky(e,t)!==-1:!1}function kF(t,e){return typeof e=="function"?Cf(t,e):ur(e)?Cf(t,e.test.bind(e)):e==null}function CF(t,e=()=>!0){if(t){if(typeof e=="function"){if(We(t)||typeof t=="string"){for(let r=0;r<t.length;r++)if(Kt(e(t[r],r)))return t[r]}for(let r in t)if(Tt(t,r)&&Kt(e(t[r],r)))return t[r];return}return We(t)||typeof t=="string"?isFinite(e)?t[e<0?t.length+Number(e):Number(e)||0]:void 0:Tt(t,e)?t[e]:void 0}}function AF(t,e,r){return t?Ky(t,e,r):-1}function Ky(t,e,r=0){if(Number.isNaN(e)&&qn(t)){for(let o=Fr(r,0);o<t.length;o++)if(Number.isNaN(t[o]))return o}return typeof t.indexOf=="function"?t.indexOf(e,r):-1}function DF(t,e,r){return t?SF(t,e,r):-1}function SF(t,e,r){if(Number.isNaN(e)&&qn(t)){for(let o=Fr(r,t.length-1);o>=0;o--)if(Number.isNaN(t[o]))return o}return typeof t.lastIndexOf=="function"?t.lastIndexOf(e,Fr(r,t.length-1)):-1}function kf(t,e){let r=typeof e=="function"?e:o=>Jm(o,e);return We(t)?[...t.reduce((o,s)=>Li(o,r(s)),new Set)]:t!==void 0?r(t):t}function EF(t,e){let r=new Set;return Li(r,kf(t,e)),r.forEach(o=>Li(r,kf(o,e))),[...r]}function Cf(t,e){return We(t)?t.some(r=>Kt(e(r))):Kt(e(t))}function TF(t,e){return We(t)?t.filter(r=>Kt(e(r))):Kt(e(t))?t:void 0}function MF(t,e,r,o=1){if(!qn(t))return[];if(e=Fr(e,0),r=Fr(r,t.length),o=Fr(o,1)||1,e=e<0?Math.max(0,t.length+e):Math.min(t.length,e),r=r<0?Math.max(0,t.length+r):Math.min(t.length,r),e>=0&&r>=0&&e<=r&&o===1)return typeof t=="string"?t.slice(e,r):Array.prototype.slice.call(t,e,r);e>r&&([e,r]=[r,e],o=-o);let s=[];if(o>0)for(let u=e;u<r;u+=o)s.push(t[u]);else for(let u=r-1;u>=e;u+=o)s.push(t[u]);return typeof t=="string"?s.join(""):s}var Ht,Wa=I(()=>{qa();_n();Ht=Object.freeze({awaitInitRef:uF,ensureArray:cF,bool:Kt,and:(t,e)=>Kt(t)?e:t,or:(t,e)=>Kt(t)?t:e,add:fF,sub:dF,mul:pF,div:hF,mod:gF,eq:mF,ne:yF,lt:vF,lte:wF,gt:bF,gte:xF,in:_a,notIn:(t,e)=>!_a(t,e),has:(t,e)=>_a(e,t),hasNo:(t,e)=>!_a(e,t),cmp:Oi,cmpAnalytical:Yy,cmpNatural:Nr,cmpNaturalAnalytical:Qy,match:kF,pick:CF,indexOf:AF,lastIndexOf:DF,map:kf,mapRecursive:EF,some:Cf,filter:TF,slice:MF})});function Jy(t){return Array.from({length:t},(e,r)=>({idx:r})).sort((e,r)=>e.idx%2-r.idx%2).every((e,r)=>r<t/2?e.idx>>1===r:Math.ceil(t/2)+(e.idx>>1)===r)}function Zy(t,e){return t.length<=LF?t.slice().sort(e):t.map((r,o)=>({value:r,idx:o})).sort((r,o)=>(r.value===void 0?o.value!==void 0:o.value===void 0?-1:e(r.value,o.value))||r.idx-o.idx).map(r=>r.value)}var LF,Xy=I(()=>{LF=Jy(20)?1/0:Jy(10)?10:0});var FF,NF,$a,fr,Va,Af=I(()=>{FF=(t,e)=>t-e,NF=(t,e)=>e-t,$a=class{constructor(e,r,o,s=!1){this.maxSize=e||1/0,this.compare=r||NF,this.accept=o||null,this.values=[],this.valuesSet=s?new Set:null}add(e){this.accept!==null&&!this.accept(e)||this.valuesSet!==null&&this.valuesSet.has(e)||(this.values.length<this.maxSize?(this.valuesSet!==null&&this.valuesSet.add(e),this.values.push(e),this.heapifyUp(this.values.length-1)):this.compare(this.values[0],e)>0&&(this.valuesSet!==null&&(this.valuesSet.delete(this.values[0]),this.valuesSet.add(e)),this.values[0]=e,this.heapifyDown()))}addArray(e){for(let r=0;r<e.length;r++)this.add(e[r])}extract(){let e=this.values[0],r=this.values.pop();return this.values.length>0&&(this.values[0]=r,this.heapifyDown()),this.valuesSet!==null&&this.valuesSet.delete(e),e}heapifyUp(e){let r=this.values,o=r[e];for(;e>0;){let s=e-1>>1,u=r[s];if(this.compare(u,o)>0)break;r[s]=o,r[e]=u,e=s}}heapifyDown(){let e=this.values,r=e.length,o=r>>1,s=0,u=e[s],f=s,d=u;for(;s<o;){let h=2*s+1,g=e[h],m=h+1;if(this.compare(g,u)>0&&(f=h,d=g),m<r){let w=e[m];this.compare(w,d)>0&&(f=m,d=w)}if(f===s)break;e[s]=d,e[f]=u,s=f,d=u}}[Symbol.iterator](){return this.values.slice().sort(this.compare)[Symbol.iterator]()}},fr=class extends $a{},Va=class extends $a{constructor(e,r,o,s){super(e,r?(u,f)=>-r(u,f):FF,o,s)}}});function PF(t){return t!==null&&typeof t=="object"?NaN:Number(t)}function Pi(t,e,r){if(qn(t)){typeof e!="function"&&(e=OF);for(let o of t){let s=e(o);s!==void 0&&r(PF(s))}}}var OF,Df=I(()=>{_n();OF=t=>t});function ev(t,e,r,o){if(t.length===0||!isFinite(e)||e<0||e>100)return;let s=0,u=e*(t.length-1)/100,f=Math.floor(u),d=Math.ceil(u),h=!1,g=e<50?new Va(d+1,o):new fr(t.length-f,o);if(Pi(t,r,m=>{Number.isNaN(m)&&(h=!0),g.add(m),s++}),h)return NaN;if(t.length!==s){if(s===0)return;u=e*(s-1)/100,f=Math.floor(u),d=Math.ceil(u);let m=e<50?d+1:s-f;for(let w=g.values.length;w>m;w--)g.extract()}if(f!==d){let m=g.extract(),w=g.values[0];return m<=w?m+(w-m)*(u-f):w+(m-w)*(u-f)}return g.values[0]}var tv=I(()=>{Af();Df()});function nv(t,e){let r,o=0,s=0;return Pi(t,e,u=>{if(s++,r===void 0)r=u;else{let f=r,d=Math.abs(f),h=Math.abs(u);r+=u,d!==1/0&&h!==1/0&&(d>=h?o+=f-r+u:o+=u-r+f)}}),r!==void 0&&(r+=o),{sum:r,count:s}}function rv(t,e){let r=[];return Pi(t,e,r.push.bind(r)),r}function iv(t,e){let r=0;if(qn(t)){typeof e!="function"&&(e=IF);for(let o of t)e(o)!==void 0&&r++}return r}function ov(t,e){return nv(t,e).sum}function sv(t,e){let{sum:r,count:o}=nv(t,e);if(o>0)return r/o}function Sf(t,e){let r=0,o=0,s=0;if(Pi(t,e,u=>{r+=1;let f=u-o;o+=f/r,s+=f*(u-o)}),r>0)return s/r}function av(t,e){let r=Sf(t,e);if(r!==void 0)return Math.sqrt(r)}function lv(t,e=Nr){let r;if(t&&isFinite(t.length)&&typeof e=="function"){e=xf(e,Nr);for(let o=0;o<t.length;o++){let s=t[o];(r===void 0||e(s,r)<0)&&e(s,void 0)!==0&&(r=s)}}return r}function uv(t,e=Nr){let r;if(t&&isFinite(t.length)&&typeof e=="function"){e=xf(e,Nr);for(let o=0;o<t.length;o++){let s=t[o];(r===void 0||e(s,r)>=0)&&e(s,void 0)!==0&&(r=s)}}return r}function Ua(t,e,r){if(qn(t))return ev(t,e,r)}function cv(t,e){return Ua(t,50,e)}var IF,fv=I(()=>{qa();tv();Df();_n();IF=t=>t});function jF(){}function BF(t){return t}function dv(t){return t===null?null:{matched:t.slice(),start:t.index,end:t.index+t[0].length,input:t.input,groups:t.groups||null}}function zF(t){let e=t.pop(),r=typeof e=="string"?null:e,o=r===null?e:t.pop(),s=t.pop();return{matched:t,start:s,end:s+t[0].length,input:o,groups:r}}var RF,Ko,pv=I(()=>{Wa();qa();Xy();fv();_n();RF=String.prototype.replaceAll||function(t,e){return ur(t)?this.replace(t,e):this.split(t).join(String(e))},Ko=Object.freeze({bool:Ht.bool,filter:Ht.filter,map:Ht.map,pick:Ht.pick,indexOf:Ht.indexOf,lastIndexOf:Ht.lastIndexOf,keys(t){return Object.keys(t||{})},values(t){let e=new Set;for(let r in t)Tt(t,r)&&Li(e,t[r]);return[...e]},entries(t){let e=[];for(let r in t)Tt(t,r)&&e.push({key:r,value:t[r]});return e},fromEntries(t){let e=Object.create(null);if(Array.isArray(t))for(let r of t)r&&(e[r.key]=r.value);return e},size(t){return yn(t)?Object.keys(t).length:t&&t.length||0},sort(t,e=Oi){if(!We(t))return t;if(typeof e=="function"&&e.length!==2){let r=e;e=(o,s)=>{if(o=r(o),s=r(s),Array.isArray(o)&&Array.isArray(s)){if(o.length!==s.length)return o.length<s.length?-1:1;for(let u=0;u<o.length;u++){let f=Oi(o[u],s[u]);if(f!==0)return f}return 0}return Oi(o,s)}}return Zy(t,e)},reverse(t){return We(t)?t.slice().reverse():t},slice(t,e,r){return typeof t=="string"||We(t)?t.slice(e,r):Array.prototype.slice.call(t,e,r)},group(t,e,r){let o=new Map,s=[];typeof e!="function"&&(e=jF),typeof r!="function"&&(r=BF),We(t)||(t=[t]);for(let u of t){let f=e(u);if(We(f))if(f.length>0){let d=r(u);for(let h of f)Ia(o,h,d)}else Ia(o,void 0,r(u));else Ia(o,f,r(u))}for(let[u,f]of o)s.push({key:u,value:[...f]});return s},join(t,e){return We(t)?t.join(e):String(t)},match(t,e,r){let o=String(t),s=ur(e)?e.flags:"";if(r||s.includes("g")){let u=[],f=new RegExp(e,(s||"").replace(/g|$/,"g")),d;for(;d=f.exec(o);)u.push(dv(d));return u}return dv(o.match(e))},reduce(t,e,r=void 0){return We(t)?r!==void 0?t.reduce((o,s)=>e(s,o),r):t.reduce((o,s)=>e(s,o)):e(t,r)},split(t,e){if(We(t)){let r=typeof e=="function"?e:Object.is.bind(null,e),o=[],s=0,u=0;for(;u<t.length;u++)r(t[u])&&(o.push(t.slice(s,u)),s=u+1);return o.push(t.slice(s,u)),o}return String(t).split(e)},replace(t,e,r){if(We(t)){let o=typeof e=="function"?e:Object.is.bind(null,e),s=[...t];for(let u=0;u<s.length;u++){let f=s[u];o(f)&&(s[u]=typeof r=="function"?r(f):r)}return s}return ur(e)&&!e.flags.includes("g")&&(e=new RegExp(e,e.flags+"g")),RF.call(String(t),e,typeof r=="function"?(...o)=>r(zF(o)):r)},toLowerCase(t,e){return String(t).toLocaleLowerCase(e)},toUpperCase(t,e){return String(t).toLocaleUpperCase(e)},trim(t){return String(t).trim()},...["abs","acos","acosh","asin","asinh","atan","atan2","atanh","cbrt","ceil","clz32","cos","cosh","exp","expm1","floor","fround","hypot","imul","log10","log2","pow","round","sign","sin","sinh","sqrt","tan","tanh","trunc"].reduce((t,e)=>(t[e]=Math[e],t),{}),ln:Math.log,ln1p:Math.log1p,numbers:rv,count:iv,sum:ov,avg:sv,variance:Sf,stdev:av,min:lv,max:uv,percentile:Ua,p:Ua,median:cv})});var Jo,hv=I(()=>{_n();Jo=Object.freeze({function:t=>typeof t=="function",symbol:t=>typeof t=="symbol",primitive:t=>t===null||typeof t!="object"&&typeof t!="function",string:t=>typeof t=="string",number:t=>typeof t=="number",int:Number.isInteger,finite:t=>Number.isFinite(t),nan:t=>Number.isNaN(t),infinity:t=>t===1/0||t===-1/0,boolean:t=>t===!0||t===!1,null:t=>t===null,undefined:t=>t===void 0,nullish:t=>t==null,object:yn,array:We,regexp:ur,truthy:Kt,falsy:t=>!Kt(t)})});function Ga(t,e){Object.keys(t).forEach(e.add,e)}function qF(t,e,r,o=new Set){let s=u=>{switch(typeof u){case"string":case"number":o.add(u);break}};switch(t){case"path":{let u=new Set;for(let f of e)if(Array.isArray(f))for(let d of f)yn(d)&&Ga(d,u);else yn(f)&&Ga(f,u);u.forEach(o.add,o);break}case"key":{let u=new Set;for(let f of e)f!==null&&typeof f=="object"&&!Array.isArray(f)&&Ga(f,u);u.forEach(o.add,o);break}case"value":for(let u of e)s(u);break;case"in-value":{let u=new Set;for(let f of e)We(f)?f.forEach(s):yn(f)&&Ga(f,u);u.forEach(o.add,o);break}case"var":for(let u of e)o.add(u);break;case"value-subset":{let u=new Set(r);for(let f of e)u.has(f)||s(f);break}}return o}function gv(t,e,r,o=!1){let s=[];for(let[u,f,d,h,g=null]of r)if(e>=u&&e<=f&&(o||h.size||h.length)){let m=t.substring(u,f);/\S/.test(m)||(u=f=e,m=""),s.push({context:d,from:u,to:f,text:m,values:h,related:g})}return s}function mv(t,e){return typeof t=="function"?t:t===!0?e:!1}function yv(t){if(/^(["']).*\1$/.test(t))try{return t[0]==="'"&&(t=`"${t.slice(1,-1).replace(/\\.|"/g,e=>e==="\\'"?"'":e==='"'?'\\"':e)}"`),JSON.parse(t)}catch{}return t}function _F(t){return e=>(typeof e=="string"?e:String(e)).toLowerCase().indexOf(t)!==-1}var HF,Ef,vv=I(()=>{Wa();Af();_n();HF={path:"property",key:"value",value:"value","in-value":"value","value-subset":"value",var:"variable",assertion:"assertion"};Ef=(t,{value:e,stats:r,assertions:o})=>({get value(){return e},stat(s,u){return gv(t,s,r,u)},suggestion(s,u){let{limit:f=1/0,sort:d,filter:h}=u||{};d=mv(d,Ht.cmp),h=mv(h,_F);let g=d&&isFinite(f)?fr:Set,m=gv(t,s,r,!0),w=new Map,x=[];for(let D of m){let{context:L,text:N,from:T,to:C,values:k,related:M}=D,O=HF[L];if(!w.has(O)){let P;switch(g){case fr:P=new fr(f,d,h&&h(yv(N)),!0);break;case Set:P=new Set;break}w.set(O,{type:O,from:T,to:C,text:N,suggestions:P})}let{suggestions:F}=w.get(O);switch(L){case"assertion":if(F.size===0||F.values&&F.values.length===0)for(let P of Object.keys(o))F.add(P);break;default:qF(L,k,M,F)}}if(g===Set)for(let D of w.values()){let{suggestions:L}=D;if(d&&(L=[...L].sort(d)),h||isFinite(f)){let N=[],T=h?h(yv(D.text)):()=>!0;for(let C of L)if(T(C)&&N.push(C)>=f)break;L=N}D.suggestions=L}for(let D of w.values())D.suggestions=Array.isArray(D.suggestions)?D.suggestions:[...D.suggestions],D.suggestions.length&&x.push(D);return x.length?x:null}})});function wv(t,e,r,o,s){typeof r=="string"?Object.defineProperty(t,e,{configurable:!0,get(){let f=Tf(r,"method")(Ht,o,s);return Object.defineProperty(t,e,{enumerable:!0,value:f}),f}}):typeof r=="function"&&Object.defineProperty(t,e,{enumerable:!0,value:r})}function bv(t,e){if(!t&&!e)return{queryMethods:Ko,queryAssertions:Jo};let r={...Ko},o={...Jo};for(let[s,u]of Object.entries(t||{})){if(Tt(Ko,s))throw new Error(`Builtin method "${s}" can't be overridden`);wv(r,s,u,r,o)}for(let[s,u]of Object.entries(e||{})){if(Tt(Jo,s))throw new Error(`Builtin assertion "${s}" can't be overridden`);wv(o,s,u,r,o)}return{queryMethods:r,queryAssertions:o}}function GF(t,e){console.log(`[${t}]`),typeof e=="string"?console.log(e):e!==void 0&&console.dir(e,{depth:null}),console.log()}function Tf(t,e,r,o,s){s=typeof s=="function"?s:s?GF:!1,s&&(s("========================="),s("Compile query from source",t));let u=ja.parse(t,o);s&&(s("AST",u.ast),s("Restored source",Ha(u.ast)));let f=r?Ra(t,u):null;if(s&&f){let h=x=>JSON.stringify(x).slice(1,-1),g=[].concat(...[...f.entries()].map(([x,D])=>D.map(L=>[x,...L]))),m=[],w=null;s("Stat/suggestion ranges",g.sort((x,D)=>x[1]-D[1]).map(([x,...D])=>{let[L,N,T,C]=D,k;if(L===m[0]&&N===m[1])k=" ".repeat(w.length);else{let M=h(t.slice(0,L)).length,O=h(t.substring(L,N)).length;m=D,w=" ".repeat(M)+(O?"~".repeat(O):"\\")+" "+L+":"+N,k=h(t)+`
`+w}return k+" ["+T+"] on "+x.type+(C===!0?" (current)":C&&C.type?" & "+C.type:"")}).join(`
`))}let d=e==="method"?vf(u.ast,o,f):yf(u.ast,o,f);return s&&s("Compiled code",d.toString()),d}function YF(t,e){e=e||{};let r=!!e.stat,o=!!e.tolerant,s=r?o?UF:$F:o?VF:WF,{methods:u,assertions:f}=e||{},{queryMethods:d,queryAssertions:h}=bv(u,f),g;return t=String(t),s.has(t)&&!e.debug?g=s.get(t):(g=Tf(t,"query",r,o,e.debug),s.set(t,g)),g=g(Ht,d,h),r?Object.assign((m,w)=>Ef(t,g(m,w)),{query:g}):g}function QF(t){let e=new Map,r=new Map,o=new Map,s=new Map,{methods:u,assertions:f}=t||{},{queryMethods:d,queryAssertions:h}=bv(u,f);return function(m,w){w=w||{};let x=!!w.stat,D=!!w.tolerant,L=x?D?s:r:D?o:e,N;if(m=String(m),L.has(m)&&!w.debug)N=L.get(m);else{let T=Tf(m,"query",x,D,w.debug)(Ht,d,h);N=x?Object.assign((C,k)=>Ef(m,T(C,k)),{query:T}):T,L.set(m,N)}return N}}var WF,$F,VF,UF,Zt,Zo=I(()=>{Km();_n();Zm();By();pf();zy();qy();Wa();pv();hv();vv();WF=new Map,$F=new Map,VF=new Map,UF=new Map;Zt=Object.assign(YF,{version:Qm,buildin:Ht,methods:Ko,assertions:Jo,setup:QF,syntax:{tokenize:ja.tokenize,parse:ja.parse,suggest:Ra,walk:Go,stringify:Ha,compile:yf,compileMethod:vf}})});var dr,Ya=I(()=>{dr=class{listeners;constructor(){this.listeners=Object.create(null)}on(e,r){return this.listeners[e]={callback:r,next:this.listeners[e]||null},this}once(e,r){return this.on(e,function o(...s){r.apply(this,s),this.off(e,o)})}off(e,r){let o=this.listeners[e]||null,s=null;for(;o!==null;){if(o.callback===r){o.callback=null,s?s.next=o.next:this.listeners[e]=o.next;break}s=o,o=o.next}return this}emit(e,...r){let o=this.listeners[e]||null,s=!1;for(;o!==null;)typeof o.callback=="function"&&o.callback.apply(this,r),s=!0,o=o.next;return s}}});var qt,Or=I(()=>{Ya();qt=class extends dr{#e;#t;static define(e,r,o){return e.#e.set(r,o),e.emit("define",r,o),o}constructor(e){super(),this.#e=new Map,this.#t=!!e}revoke(e){if(!this.#t)throw new Error("Entry revoking is not allowed");this.#e.delete(e),this.emit("revoke",e)}isDefined(e){return this.#e.has(e)}has(e){return this.#e.has(e)}get(e){return this.#e.get(e)}get names(){return[...this.#e.keys()]}get keys(){return this.#e.keys()}get values(){return this.#e.values()}get entries(){return this.#e.entries()}}});function Qa(t,e){let{ast:r}=Zt.syntax.parse(e),o={view:t};if(r.type!=="Block")throw new SyntaxError('[Discovery] ViewModel#queryToConfig(): query root must be a "Block"');if(r.body.type!=="Object")throw new SyntaxError('[Discovery] ViewModel#queryToConfig(): query root must return an "Object"');for(let s of r.body.properties){if(s.type!=="ObjectEntry")throw new SyntaxError('[Discovery] ViewModel#queryToConfig(): unsupported object entry type "'+s.type+'"');let u,f=s.value;switch(s.key.type){case"Literal":u=s.key.value;break;case"Identifier":u=s.key.name,f||=s.key;break;case"Reference":u=s.key.name.name,f||=s.key;break;default:throw new SyntaxError('[Discovery] ViewModel#queryToConfig(): unsupported object key type "'+s.key.type+'"')}if(u==="view"||u==="postRender")throw new SyntaxError('[Discovery] ViewModel#queryToConfig(): set a value for "'+u+'" property in shorthand notation is prohibited');u==="when"||u==="data"||u==="whenData"?o[u]=f.type==="Literal"&&typeof f.value!="string"?f.value:Zt.syntax.stringify(f):o[u]=f.type==="Literal"&&(typeof f.value!="string"||f.value[0]!=="=")?f.value:"="+Zt.syntax.stringify(f)}return o}var Mf=I(()=>{Zo()});function JF(t){return typeof t=="string"||Array.isArray(t)||t!==null&&typeof t=="object"&&typeof t.view=="string"}function Pr(t,e){return Mv.set(t,e),t}function ZF(){return{name:"config-error",options:Ev,render(t,e){t.appendText(`[Error: ${e.reason}]`),"config"in e}}}function kv(t,e,r,o,s,u,f,d){return!De(r,t)||r[t]===void 0||e.host.queryBool(r[t]===!0?"":r[t],o,s)?!0:(e.viewEls.set(d,{skipped:t,config:r,inputData:u,inputDataIndex:f,data:o,context:s}),!1)}function Xo(t,e=0,r=t.length-1){let o=t[e].length;for(let s=e+1;s<=r;s++)o=Math.max(o,t[s].length);return o}function Cv(t,e){return t.length>e?t.slice(0,e):t}function XF(t,e=t,r=e,o=t){return(s,u)=>u===1?o:s===0?t:s+1===u?r:e}function Av(t){return Array.isArray(t)?XF(...t):t}function eN(t,e=t,r=e){return(o,s,u)=>`${t}${"".padStart(o+s+u-t.length-r.length,e)}${r}`}function Dv(t){return Array.isArray(t)?eN(...t):t}async function Lv(t,e,r,o,s,u,f,d,h){let g=new on(e.options.type||"inline");e.options.border&&g.setBorder(e.options.border),await e.render(g,s,u,f),typeof o.postRender=="function"&&await o.postRender(g,o,u,f);let m={config:o,props:s,inputData:d,inputDataIndex:h,data:u,context:f};return t.viewEls.set(g,m),r.setNode(g),r}function Sv(t,e,r,o){return Lv(t,t.defaultRenderErrorRenderer,r,Tv,{type:"render",reason:e,config:o})}function tN(t,e){return{name:e,normalizeConfig:t.normalizeConfig.bind(t),ensureValidConfig:t.ensureValidConfig.bind(t),composeConfig:t.composeConfig.bind(t),propsFromConfig:t.propsFromConfig.bind(t),render:t.render.bind(t),listLimit:t.listLimit.bind(t),renderList:t.renderList.bind(t)}}async function Fv(t,e,r,o,s,u){if(Array.isArray(r))return Promise.all(r.map(g=>Fv(t,e,g,o,s,u))).then(g=>new on("inline",g));let f=o&&typeof s=="number"?o[s]:o,d=null;switch(typeof r.view){case"function":d={name:!1,options:Ev,render:r.view};break;case"string":d=t.get(r.view)||null;break}e||(e=new on);let h=new ts;if(e.append(h),!d){let g=typeof r.view=="string"?"View `"+r.view+"` is not found":"Render is not a function";return t.host.logger.error(g,r),Sv(t,g,h,r)}try{if(kv("when",t,r,f,u,o,s,h)){let g="context"in r?await t.host.query(r.context,f,u):u,m="data"in r?await t.host.query(r.data,f,g):f;if(kv("whenData",t,r,m,g,o,s,h))return await Lv(t,d,h,r,t.propsFromConfig(r,m,g),m,g,o,s)}return h}catch(g){return t.host.logger.error("View render error:",g.message),Sv(t,String(g),h,Tv)}}var Ev,Tv,Mv,xv,KF,on,Ka,ts,es,Ja,Nv=I(()=>{it();Or();Mf();Ev=Object.freeze({type:void 0}),Tv=Object.freeze({view:""}),Mv=new WeakMap,xv=new WeakMap,KF=new Set(["view","when","context","data","whenData","postRender"]);on=class t{type;children;border;constructor(e="inline",r){if(this.type=e,this.children=[],this.border=null,Array.isArray(r))for(let o of r)this.append(o)}appendText(e){this.append(new Ka(e))}appendInlineBlock(){let e=new t("inline-block");return this.append(e),e}appendBlock(){let e=new t("block");return this.append(e),e}appendLine(){let e=new t("line");return this.append(e),e}append(e){return this.children.push(e),this}setBorder(e){if(!e){this.border=null;return}this.border=typeof e=="string"?new es(e,e,e,e):Array.isArray(e)?new es(...e):new es(e.top||null,e.right||null,e.bottom||null,e.left||null)}},Ka=class{value;constructor(e){this.value=String(e)}},ts=class{node;constructor(){this.node=null}setNode(e){this.node=e}};es=class{top;left;right;bottom;constructor(e=null,r=null,o=e,s=r){this.top=e||null,this.left=s||null,this.right=r||null,this.bottom=o||null}render(e,r,o){let s=Av(this.left),u=Av(this.right),f=Dv(this.top),d=Dv(this.bottom),h=Xo(e),g=0,m=0;if(s){if(typeof s=="function"){let w=e.map((x,D)=>String(s(D,e.length)??""));g=Xo(w),e=e.map((x,D)=>w[D].padEnd(g)+x)}else g=s.length,e=e.map(w=>s+w);if(g>0)for(let w=0;w<e.length;w++)r[w].unshift({length:g,node:o})}if(u)if(typeof u=="function"){let w=e.map((x,D)=>String(u(D,e.length)??""));if(m=Xo(w),m>0){for(let x=0;x<e.length;x++)r[x].push({length:g+h-e[x].length+m,node:o});e=e.map((x,D)=>x.padEnd(g+h)+w[D].padStart(m))}}else{m=u.length;for(let w=0;w<e.length;w++)r[w].push({length:g+h-e[w].length+m,node:o});e=e.map(w=>w.padEnd(g+h)+u)}if(f||d){let w=h+g+m;if(f){let x=typeof f=="function"?f(h,g,m)||"":"".padStart(w,f);x&&(e.unshift(Cv(x,w)),r.unshift([{length:e[0].length,node:o}]))}if(d){let x=typeof d=="function"?d(h,g,m)||"":"".padStart(w,d);x&&(e.push(Cv(x,w)),r.push([{length:e[e.length-1].length,node:o}]))}}return{spans:r,lines:e}}};Ja=class t extends qt{host;defaultRenderErrorRenderer;viewEls;constructor(e){super(),this.host=e,this.defaultRenderErrorRenderer=ZF(),this.viewEls=new WeakMap}define(e,r,o){let s=JF(r)||typeof r=="function"?{...o,render:r}:r,{render:u=[],...f}=s,{type:d,props:h}=f;return t.define(this,e,Object.freeze({name:e,options:Object.freeze({...s,type:typeof d=="string"||d===void 0?d:void 0,props:typeof h=="string"?this.host.queryFn(h):h}),render:typeof u=="function"?u.bind(tN(this,e)):(g,m,w,x)=>this.render(g,u,w,x)}))}normalizeConfig(e){if(!e)return null;if(Array.isArray(e)){let r=[];for(let o of e){let s=this.normalizeConfig(o);s!==null&&(Array.isArray(s)?r.push(...s):r.push(s))}return r}if(typeof e=="string"){let[,r,o,s]=e.match(/^(\S+?)([:{])((?:.|\s)+)$/)||[];if(r){if(o==="{")try{return Pr(Qa(r,o+s),e)}catch(u){return Pr(this.badConfig(e,u),e)}return Pr({view:r,data:s},e)}return Pr({view:e},e)}else if(typeof e=="function")return Pr({view:e},e);return e}badConfig(e,r){let o=r?.message||"Unknown error";return this.host.logger.error(o,{config:e,error:r}),{view:this.defaultRenderErrorRenderer.render,type:"config",reason:o,config:e}}ensureValidConfig(e){return Array.isArray(e)?e.map(r=>this.ensureValidConfig(r)).flat():!e||!e.view?this.badConfig(e,new Error(e?"Option `view` is missed":"Config is not a valid value")):e}composeConfig(e,r){return e=this.normalizeConfig(e),r=this.normalizeConfig(r),e&&r?Array.isArray(e)?e.map(o=>Pr({...o,...r},[o,r])):Pr({...e,...r},[e,r]):e||r}propsFromConfig(e,r,o,s=this.get(e?.view)?.options.props){let u={};for(let[f,d]of Object.entries(e))KF.has(f)||(u[f]=typeof d=="string"&&d.startsWith("=")?this.host.query(d.slice(1),r,o):d);if(typeof s=="function"){let f=s(r,{props:u,context:o});f!==null&&typeof f=="object"&&f!==u&&(xv.set(f,{props:u,fn:s}),u=f)}return u}textWidth(e){if(e===null)return 0;if(e instanceof on){let r=0;for(let o of e.children)r+=this.textWidth(o);return r}else return e instanceof ts?this.textWidth(e.node):e.value.length}cleanUpRenderTree(e){if(e===null)return null;if(e instanceof ts)return this.cleanUpRenderTree(e.node);if(e instanceof on){let r=e.children.map(this.cleanUpRenderTree,this).filter(u=>u!==null);if(r.length===0)return null;let o=this.viewEls.get(e),s=e.border;e=new on(e.type,r),e.border=s,o&&this.viewEls.set(e,o)}else if(e.value==="")return null;return e}serialize(e){let r=this.cleanUpRenderTree(e),o=[],s="";if(r!==null){let{lines:d,spans:h}=f(r,null),g=0;for(let m of h){for(let w of m)if(w.length>0){let x=g+w.length;o.push({range:[g,x],view:(w.node&&this.viewEls.get(w.node))??null}),g=x}g++}s=d.join(`
`)}return{text:s,ranges:o};function u(d,h,g,m,w){if(h<d.length&&d[h].length<g){let x=d[h],D=x.padEnd(g),N=m[h].at(-1);d[h]=D,N?N.length+=D.length-x.length:m[h].push({length:D.length,node:w})}}function f(d,h){if(d instanceof Ka){let x=d.value.split(/\r\n?|\n/);return{spans:x.map(D=>[{length:D.length,node:h}]),lines:x}}let g=[[]],m=[""],w=0;if(d instanceof on){let x="none";for(let D of d.children){let L=D instanceof on?D.type:"inline",{lines:N,spans:T}=f(D,d);if(N.length>0){switch(L){case"block":w=m.length-1,m[w]!==""?(g.push([]),m.push("")):w>0&&m[w]!==""?(g.push([]),m.push("")):w===0&&(g.pop(),m.pop()),g.push(...T),m.push(...N),g.push([]),w=m.push("")-1;break;case"line":x==="block"||m[w]===""&&(g.pop(),m.pop()),g.push(...T),m.push(...N),g.push([]),w=m.push("")-1;break;case"inline-block":{x==="block"?(w=m.push("")-1,g.push([])):(x==="inline"||x==="inline-block")&&u(m,w,Xo(m,w)+1,g,d);let C=m[w].length;if(g[w].push(...T[0]),m[w]+=N[0],N.length>1){let k=N.length-(m.length-w);for(let M=0;M<k;M++)g.push([]),m.push("");for(let M=1;M<N.length;M++)u(m,w+M,C,g,d),g[w+M].push(...T[M]),m[w+M]+=N[M]}break}case"inline":if(x==="block"?(w=m.push("")-1,g.push([])):x==="inline-block"&&u(m,w,Xo(m,w)+1,g,d),g[w].push(...T[0]),m[w]+=N[0],N.length>1)for(let C=1;C<N.length;C++)w=m.push(N[C])-1,g[w]=T[C];break}x=L}}for(;x!=="inline"&&m[w]==="";)w--,g.pop(),m.pop();if(d.border)return d.border.render(m,g,d)}return{spans:g,lines:m}}}async render(e,r,o,s,u){return typeof e=="string"?e=new on(e):e||(e=new on),await Fv(this,e,this.ensureValidConfig(this.normalizeConfig(r)),o,u,s),e}async renderString(e,r,o,s,u){return this.serialize(await this.render(e,r,o,s,u))}listLimit(e,r){return e===!1?!1:!e||isNaN(e)?r:Math.max(parseInt(e,10),0)||r}renderList(e,r,o,s,u){let{offset:f=0,moreContainer:d,beforeItem:h,afterItem:g,beforeMore:m=h,afterMore:w=g}=u,{limit:x=!1}=u;x===!1&&(x=o.length);let D=Promise.all(o.slice(f,f+x).map((L,N,T)=>{h&&e.appendText(h);let C=this.render(e,r,o,{...s,index:f+N,array:o,sliceIndex:N,slice:T},f+N);return g&&e.appendText(g),C}));return this.maybeMore(d||e,null,o.length,f+x,m,w),D}maybeMore(e,r,o,s,u,f){if(o>s){let d=o-s;e.appendText((u||"")+"("+d+" more\u2026)"+(f||""))}}getViewConfigTransitionTree(e){let r=Mv.get(e)||[];return Array.isArray(r)||(r=[r]),{value:e,deps:r.map(this.getViewConfigTransitionTree,this)}}getViewPropsTransition(e){let r=xv.get(e)||null;return r&&{props:r.props,fn:r.fn,query:r.fn.query||null}}}});var Ov,Pv=I(()=>{Ov=t=>({demo:`${t}:"hello world\\nsome text..."`})});var Lf={};Se(Lf,{default:()=>nN});function nN({textView:t}){t.define("alert",{type:"block",usage:Ov,border:{top:["\u2554","\u2550","\u2557"],left:"\u2551 ",right:" \u2551",bottom:["\u255A","\u2550","\u255D"]},render(e,r,o,s){let{content:u="text"}=r;return t.render(e,u,o,s)}})}var Iv=I(()=>{Pv()});var jv,Bv=I(()=>{jv=(t,e)=>({demo:{view:t,text:"hello world"},examples:[{title:"Variations",demo:e.map(r=>[`${r}:"${r}"`,`${r}:"${r}\\nmulti-line"`,`${r}:"${r}\\nmulti-line\\nmore..."`]).flat()},{title:"Complex content",highlightProps:["content"],demo:{view:t,content:['text:"text"','link:"#example"','text:"text"']}}]})});var Ff={};Se(Ff,{default:()=>rN});function rN({textView:t}){let e={type:"inline-block",usage:jv,props:`is not array? | {
            text: #.props has no 'content' ? is (string or number or boolean) ?: text,
            content: undefined,
            prefix,
            postfix
        } | overrideProps()`,render(r,o,s,u){let{text:f,content:d,prefix:h,postfix:g}=o,m;return h&&r.appendText(String(h)+" "),d?m=this.render(r,d,s,u):r.appendText(String(f)),g&&r.appendText(" "+String(g)),m}};t.define("badge",{...e,border:{left:["\u23A1","\u23A2","\u23A3","["],right:["\u23A4","\u23A5","\u23A6","]"]}}),t.define("pill-badge",{...e,border:{left:["\u23A7","\u23AA","\u23A9","("],right:["\u23AB","\u23AA","\u23AD",")"]}})}var zv=I(()=>{Bv()});var ns,Rv=I(()=>{ns=(t,e)=>({demo:`${t}:'just a text'`,examples:[{title:"Variations",demo:e.map(r=>[`header:"${r}"`,'text:"\u2026text\u2026"',`${r}:"\u23A1${r}\u23A6"`,'text:"\u2026text\u2026"',`${r}:"\u23A1${r}\\nmulti-line\u23A6"`,'text:"\u2026text\u2026"',`${r}:"\u23A1${r}\\nmulti-line\\nmore and more\u2026\u23A6"`,'text:"\u2026text\u2026"']).flat()},{title:"Variations with border",demo:e.map(r=>[`header:"${r}"`,'text:"\u2026text\u2026"',`${r}{ border: [null, " |", null, "| "], data:"\u23A1${r}\u23A6" }`,'text:"\u2026text\u2026"',`${r}{ border: [null, " |", null, "| "], data:"\u23A1${r}\\nmulti-line\u23A6" }`,'text:"\u2026text\u2026"',`${r}{ border: [null, " |", null, "| "], data:"\u23A1${r}\\nmulti-line\\nmore and more\u2026\u23A6" }`,'text:"\u2026text\u2026"']).flat()}]})});var Nf={};Se(Nf,{default:()=>iN});function iN({textView:t}){function e(r,o,s,u){let{content:f="text",border:d}=o;return d&&r.setBorder(d),t.render(r,f,s,u)}t.define("inline",{type:"inline",usage:ns,render:e}),t.define("inline-block",{type:"inline-block",usage:ns,render:e}),t.define("block",{type:"block",usage:ns,render:e}),t.define("line",{type:"line",usage:ns,render:e})}var Hv=I(()=>{Rv()});var Za,Of=I(()=>{Za=t=>({demo:{view:t,content:['text:"Blockquote text..."','blockquote:"Nested blockquote\\nmulti-line text..."']},examples:[{title:"Variations",demoData:"Blockquote text...",demo:[{kind:"",text:"Default blockquote without any kind."},{kind:"note",text:"Useful information that users should know, even when skimming content."},{kind:"tip",text:"Helpful advice for doing things better or more easily."},{kind:"important",text:"Key information users need to know to achieve their goal."},{kind:"warning",text:"Urgent info that needs immediate user attention to avoid problems."},{kind:"caution",text:"Advises about risks or negative outcomes of certain actions."}].map(({kind:e,text:r})=>e?`${t}{ kind: "${e}", data: ${JSON.stringify(r)} }`:`${t}:${JSON.stringify(r)}`)}]})});var qv,_v=I(()=>{Of();qv=Za});var Pf={};Se(Pf,{default:()=>oN});function oN({textView:t}){t.define("blockquote",function(e,r,o,s){let{content:u="text",kind:f}=r;return typeof f=="string"&&/\S/.test(f)&&e.appendLine().appendText(`[!${f.trim().toUpperCase()}]`),t.render(e,u,o,s)},{type:"block",usage:qv,border:{left:"> "}})}var Wv=I(()=>{_v()});var $v,Vv=I(()=>{$v={beforeDemo:['md:"A non-visual view used to group views, manage their visibility, or explicitly define data and context for nested views. In the example, the `context` view sets up specific data and context, allowing nested views (`content`) to utilize these shared definitions directly:"'],demo:{view:"context",data:{name:"World",age:"1000 years"},context:'{ ...#, greeting: "Hello" }',content:["text:`${#.greeting}, ${name}!`","table"]}}});var If={};Se(If,{default:()=>sN});function sN({textView:t}){t.define("context",function(e,r,o,s){let{content:u=[]}=r;return t.render(e,u,o,s)},{usage:$v})}var Uv=I(()=>{Vv()});var Ir,Gv=I(()=>{Ir=(t,e)=>({demo:`${t}:"Header \\"${t}\\""`,examples:[{title:"Variations",view:e.map(r=>`${r}:"Header \\"${r}\\""`)},{title:"Complex content",demo:{view:t,content:['text:"Text "','link:{ text: "Link" }']}},{title:"Using anchor",demo:[{view:t,anchor:"foo",content:'text:"Explicit value for an anchor"'},{view:t,anchor:!0,content:'text:"Auto generated anchor based on text content of header"'}]}]})});var jf={};Se(jf,{default:()=>aN});function aN({textView:t}){function e(r){let o="#".repeat(r)+" ";return async function(u,f,d,h){let{content:g}=f;return u.appendText(o),t.render(u,g||"text",d,h)}}t.define("header",e(1),{type:"block",usage:Ir}),t.define("h1",e(1),{type:"block",usage:Ir}),t.define("h2",e(2),{type:"block",usage:Ir}),t.define("h3",e(3),{type:"block",usage:Ir}),t.define("h4",e(4),{type:"block",usage:Ir}),t.define("h5",e(5),{type:"block",usage:Ir})}var Yv=I(()=>{Gv()});var Qv,Kv=I(()=>{Qv={demo:{view:"link",text:"I am a link",href:"#example"},examples:[{title:"Infering text \u21FF href",highlightProps:["text","href","data"],beforeDemo:['md:"When `text` is omitted but `href` is specified, or vice versa, the opposite component is inferred from the specified one"'],demo:[{view:"link",text:"http://example1.com"},{view:"link",href:"http://example2.com"},{view:"link",data:'"http://example3.com"'}]}]}});var Bf={};Se(Bf,{default:()=>uN});function uN({textView:t}){t.define("link",async function(e,r,o,s){let{text:u,content:f,href:d}=r;d&&e.appendText("["),f?await t.render(e,f,o,s):e.appendText(u),d&&e.appendText(`](${d})`)},{type:"inline-block",props:lN,usage:Qv})}var lN,Jv=I(()=>{Kv();lN=`is not array? | {
    text: #.props.content is undefined ? is string ?: text,
    content: undefined,
    href
} | overrideProps() | {
    $text; $href;
    ...,
    text: $text | is not undefined or no $href ?: $href,
    href: $href | is not undefined or no $text ?: $text
}`});var Ii,Zv=I(()=>{Ii=(t,e)=>({demo:{view:t,data:["one","two","three","four"]},examples:[{title:"Variations",demoData:["foo","bar","baz"],demo:e.map(r=>[`header:'view: \\"${r}\\"'`,r]).flat()},{title:"Variations long lists",demoData:Array.from({length:100},(r,o)=>"item#"+o),demo:e.map(r=>[`header:'view: \\"${r}\\"'`,{view:r,limit:3}]).flat()},{title:"Configure item's content",demo:[{view:t,data:["one","two","three","four"],item:['text:"<item> "',{view:"link",data:'{ href: "#" + $ }'}]}]}]})});var zf={};Se(zf,{default:()=>cN});function cN({textView:t}){t.define("list",e("line",""),{type:"block",usage:Ii}),t.define("inline-list",e("inline-block"),{type:"inline-block",usage:Ii}),t.define("comma-list",e("inline-block","",","),{type:"inline-block",usage:Ii}),t.define("ol",e("line",r=>1+r.index+". "),{type:"block",usage:Ii}),t.define("ul",e("line","- "),{type:"block",usage:Ii}),t.define("list-item",function(r,o,s,u){let{content:f="text",bullet:d,delim:h,renderType:g="line"}=o,m=typeof d=="function"?d:d?()=>d:null,w=typeof h=="function"?h:h?()=>h:null;return r.type=g,(m||w)&&r.setBorder({left:m?x=>x===0?m(u):"":null,right:w?x=>x===0&&u.index!==u.array.length-1?w(u):"":null}),t.render(r,f,s,u)});function e(r,o,s){return async function(f,d,h,g){let{item:m,itemConfig:w,limit:x,emptyText:D}=d,L;return!Array.isArray(h)&&h&&(h=[h]),Array.isArray(h)&&h.length>0?L=t.renderList(f,this.composeConfig({view:"list-item",content:m,bullet:o,delim:s,renderType:r},w),h,g,{limit:t.listLimit(x,25)}):f.appendText(String(D||"<empty list>")),L}}}var Xv=I(()=>{Zv()});var Xa,fN,ew,tw=I(()=>{Xa='let name = "world";\n\nconsole.log(`Hello, ${name}!`);',fN=Function("return num => num + 5")(),ew={demo:{view:"source",syntax:"js",source:Xa},examples:[{title:"Custom line numbers",highlightProps:["lineNum"],demo:[{view:"source",source:Xa,syntax:"js",lineNum:fN},{view:"source",source:Xa,syntax:"js",lineNum:"==> $ + 12345"}]},{title:"Hide line numbers",highlightProps:["lineNum"],beforeDemo:['md:"Pass falsy value to `lineNum` option to hide line numbers:"'],demo:{view:"source",source:Xa,syntax:"js",lineNum:!1}},{title:"Marks",highlightProps:["marks"],beforeDemo:{view:"md",source:["The `marks` option allows injecting text marks at specific points in the source text. The `marks` value must be an array of objects with the following fields:",`
`,"- `offset` (required) - the offset in the source where the mark is injected.","- `content` - view config for content (e.g., `'text:\"hello\"'` or `{ view: 'name', ... }`)","- `prefix` - text to display before the content of mark","- `postfix` - text to display after the content of mark"]},demo:{view:"source",source:`let demo = "mark";

if (expr) {
  // do something
}`,syntax:"js",marks:[{offset:4},{offset:4,content:'text:"mark"'},{offset:24,prefix:"self: ",content:'text:"123"',postfix:"ms"}]}}]}});var Rf={};Se(Rf,{default:()=>pN});function pN(t){t.textView.define("source",{type:"block",props:dN,usage:ew,async render(e,r,o,s){let u=[],{source:f,syntax:d,lineNum:h=!0,marks:g}=r,m={...s,sourceViewProps:{source:f,syntax:d,lineNum:h,marks:g}};if(typeof f!="string")return;let w=typeof h=="function"?h:N=>N+1,x=h?f.split(/\r\n?|\n/g).map((N,T)=>String(w(T))):[];if(x.length>2){let N=x.reduce((T,C)=>Math.max(T,C.length),3);for(let T=0;T<x.length;T++)x[T].length<N&&(x[T]=x[T].padStart(N))}if(e.appendLine().appendText(`\`\`\`${d||""}`),e.appendText(D()),Array.isArray(g)){for(let T of g){if(!T||typeof T!="object"){t.logger.warn('Bad value for an entry in "source" view props.mark, must be an object',{props:r,mark:T});return}let C=typeof T.offset=="number"&&isFinite(T.offset)?Math.max(0,Math.round(T.offset)):void 0;if(typeof C!="number"){t.logger.warn('Bad "offset" value for an entry in "source" view props.marks',{props:r,mark:T});return}u.push({...T,offset:Math.max(0,Math.min(C,f.length))})}u.sort((T,C)=>T.offset-C.offset);let N=0;for(let T of u){let{offset:C,content:k=[],prefix:M="",postfix:O=""}=T;C>N&&(L(f.slice(N,C)),N=C),e.appendText("/* "+M),await this.render(e,k,T,m),e.appendText(O+" */")}N<f.length&&L(f.slice(N))}else L(f);e.appendLine().appendText("```");function D(){let N=x.shift();return typeof N=="string"?N+" \u2502 ":""}function L(N){let T=N.split(/\r\n?|\n/);e.appendText(T[0]);for(let C=1;C<T.length;C++)e.appendText(`
`+D()+T[C])}}})}var dN,nw=I(()=>{tw();dN=`is not array? | {
    source: #.props has no 'source' ? is string ?: content is string ? content : source,
    syntax,
    lineNum is function ?: is not undefined ? bool() : true,
    marks is array ?: null
} | overrideProps()`});var rw,iw=I(()=>{rw={demo:{view:"switch",content:[{when:"expr",content:'text:"Renders when `expr` is truthy"'},{content:'text:"Renders when all other `when` conditions are falsy"'}]}}});var Hf={};Se(Hf,{default:()=>hN});function hN(t){t.textView.define("switch",function(e,r,o,s){let{content:u}=r,f='text:"<switch: no case choosen>"';if(Array.isArray(u)){for(let d of u)if(d&&t.queryBool(d.when||!0,o,s)){f="data"in d?{view:"context",data:d.data,content:d.content}:d.content;break}}return t.textView.render(e,f,o,s)},{usage:rw})}var ow=I(()=>{iw()});function el(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function _t(t){return Array.isArray(t)||el(t)}function Mn(t){return rn(t)==="[object Set]"}function rs(t){return rn(t)==="[object RegExp]"}function tl(t){return typeof t=="object"&&t!==null}function mN(t){if(!t||typeof t!="object"&&typeof t!="function")return!1;if(!gN||!(Symbol.toStringTag in t)){let e=rn(t);return e==="[object Error]"||e==="[object DOMException]"||e==="[object DOMError]"||e==="[object Exception]"}return typeof aw<"u"&&t instanceof aw?!0:t instanceof Error}var gN,sw,aw,is,wn=I(()=>{it();gN=typeof Symbol.toStringTag=="symbol",sw=Error,aw=globalThis.DOMError,is=typeof sw.isError=="function"?sw.isError:mN});var yN,lw,uw=I(()=>{yN=[{name:"Alice",age:34,occupation:"Engineer"},{name:"Bob",age:42,occupation:"Doctor"},{name:"Charlie",age:9,occupation:"Student"},{name:"David",age:50,occupation:"Doctor"},{name:"Eve",age:15,occupation:"Engineer"}],lw={demoData:yN,demo:{view:"table",limit:2,cols:{age:{footer:"text:sum(=>age)"},occupation:{footer:{}}}}}});var _f={};Se(_f,{default:()=>wN});function qf(t,e){return{header:t,view:"table-cell",data:e}}function vN(t,e,r){return typeof e=="string"&&(e={content:e}),De(e,"content")||De(e,"data")?{header:t,view:"table-cell",...e}:{...qf(t,r),...e}}function wN(t){let e=t.queryFn("is not object");t.textView.define("table",async function(r,o,s,u){let{rows:f,cols:d,valueCol:h=!1,headerWhen:g=!0,footerWhen:m=!0,limit:w=25}=o,x=0;"rows"in o||(f=s),Mn(f)&&(f=[...f]),_t(f)||(f=f?[f]:[]),w!==!1&&f.length>w&&(x=f.length-w,f=f.slice(0,w));let D=[];if(Array.isArray(d))d=d.map((F,P)=>typeof F=="string"?qf(F,t.pathToQuery([F])):{header:"col"+P,view:"table-cell",...F});else{let F=new Set,P=d&&typeof d=="object"?d:{};d=[];for(let j of f)if(e(j))h=!0;else for(let H of Object.keys(j))F.add(H);for(let j of Object.keys(P))P[j]?F.add(j):F.delete(j);for(let j of F)d.push(De(P,j)?vN(j,P[j],t.pathToQuery([j])):qf(j,t.pathToQuery([j])))}if(h&&d.unshift({header:"[value]",view:"table-cell",details:!1}),d=d.filter(F=>!De(F,"colWhen")||t.queryBool(F.colWhen,s,u)),!d.length)return r.appendText(`
<empty table>
`);let L=t.query(g,s,u),N=t.query(m,s,u),T=Array.from(f,()=>[]),C=[],k=[];for(let F of d){let P=String(F.header).trim(),j=0;if(L){let H=await this.render(null,"text",P),W=t.textView.textWidth(H);j=Math.max(j,W),D.push({width:W,content:H})}for(let H=0;H<f.length;H++){let W=await this.render(null,F,f[H],u),X=t.textView.textWidth(W);j=Math.max(j,X),T[H].push({width:X,align:F.align,content:W})}if(N&&F.footer){let H=typeof F.footer=="object"&&F.footer!==null&&!De(F.footer,"view")?F.footer:{content:F.footer},{align:W,...X}=H,q=await this.render(null,this.composeConfig("block",X),s,u),K=t.textView.textWidth(q);j=Math.max(j,K),k.push({width:K,align:W,content:q})}else k.push(null);C.push(j)}M(C,"\u250C","\u252C","\u2510"),L&&(O(C,D),M(C,"\u251C","\u253C","\u2524"));for(let F of T)O(C,F);if(x>0){let F=C.reduce((H,W)=>H+W+3,0)+1,P=` ${x} more rows\u2026 `,j=Math.max(1,F-P.length);r.appendLine().appendText(`${"~".repeat(Math.floor(1))}${P}${"~".repeat(Math.ceil(j-1))}`),N&&k.some(H=>H!==null)&&(M(C,"\u251C","\u253C","\u2524"),O(C,k),M(C,"\u2514","\u2534","\u2518"))}else N&&k.some(F=>F!==null)&&(M(C,"\u251C","\u253C","\u2524"),O(C,k)),M(C,"\u2514","\u2534","\u2518");function M(F,P,j,H){let W=P+"\u2500".repeat((F[0]||0)+2);for(let X=1;X<F.length;X++)W+=j+"\u2500".repeat(F[X]+2);r.appendLine().appendText(W+H)}function O(F,P){let j=r.appendLine();for(let H=0;H<P.length;H++){let{width:W=0,align:X,content:q=""}=P[H]||{},K=F[H]-W+1;K>0&&X!=="right"?j.appendText("\u2502 "):j.appendText("\u2502"+" ".repeat(K)),j.append(q),K>0&&X==="right"?j.appendText(" "):j.appendText(" ".repeat(K))}j.appendText("\u2502")}},{type:"block",usage:lw}),t.textView.define("table-cell",function(r,o,s,u){let{content:f,contentWhen:d=!0}=o,h=!f&&s!==null&&(Array.isArray(s)?s.length>0:typeof s=="object")&&!(s instanceof RegExp);if(t.queryBool(d,s,u)){if(f)return t.textView.render(r,f,s,u);r.appendText(bN(s,h))}})}function bN(t,e){if(Array.isArray(t)||ArrayBuffer.isView(t))return t.length||"";if(e){for(let r in t)if(De(t,r))return"{\u2026}";return"{}"}return t===void 0?"":String(t)}var cw=I(()=>{wn();it();uw()});var fw,dw=I(()=>{fw={demo:'text:"just a text"'}});var Wf={};Se(Wf,{default:()=>xN});function xN({textView:t}){t.define("text",{props:"{ text: #.props has no 'text'? } | overrideProps()",usage:fw,render(e,r){let{text:o}=r;e.appendText(String(o))}})}var pw=I(()=>{dw()});var nl={};Se(nl,{alert:()=>Lf,badge:()=>Ff,block:()=>Nf,blockquote:()=>Pf,context:()=>If,headerViews:()=>jf,link:()=>Bf,listViews:()=>zf,source:()=>Rf,switchView:()=>Hf,table:()=>_f,textViews:()=>Wf});var $f=I(()=>{Iv();zv();Hv();Wv();Uv();Yv();Jv();Xv();nw();ow();cw();pw()});var rl,hw=I(()=>{Or();rl=class t extends qt{#e;constructor(){super(!0),this.#e=Object.create(null)}define(e,r){if(typeof r!="function")throw new Error("callback is not a function");return this.#e=Object.freeze({...this.#e,[e]:r}),t.define(this,e,Object.freeze({name:e,callback:r}))}revoke(e){if(this.has(e)){let r={...this.#e};delete r[e],this.#e=Object.freeze(r)}super.revoke(e)}get actionMap(){return this.#e}call(e,...r){let o=this.get(e);if(o===void 0)throw new Error(`action "${e}" doesn't exist`);let{callback:s}=o;return s(...r)}}});function kN(t){Vf=null;for(let[e,r]of os.entries())t.warn.groupCollapsed(`${e} (${r.length})`,r);os.clear()}function CN(t,e,...r){Vf===null&&os.size===0&&(Vf=setTimeout(()=>kN(t),1));let o=os.get(e);o!==void 0?o.push(r):os.set(e,[r])}function vw(t,e,r){switch(typeof e){case"function":return e;case"string":return Object.assign(o=>o&&De(o,e)?o[e]:void 0,{getterFromString:`object[${JSON.stringify(e)}]`});default:throw new Error(`[Discovery] Bad type "${typeof e}" for ${r} in object marker "${t}" config (must be a string or a function)`)}}function gw(t,e,r,o){let s=e&&De(e,r)?e[r]:void 0;return s!==void 0?vw(t,s,`"${r}" option`):o}function mw(t,e,r){return(Array.isArray(e[r])?e[r]||[]:[]).map(s=>vw(t,s,`"${r}" option`))}function yw(t,e=!1){return t===null?!1:e?typeof t=="object":typeof t=="object"||typeof t=="number"||typeof t=="string"}function AN(t,e){let{name:r,indexRefs:o,lookupRefs:s,annotateScalars:u,page:f,getRef:d,getTitle:h}=e;d!==null&&o.unshift(d),f&&d===null&&t.warn(`Option "ref" for "${r}" marker must be specified when "page" options is defined ("page" option ignored)`),o.length>0&&s.unshift(T=>T);let g=new Set,m=new Map,w=new Map,x=new WeakMap;return{name:r,page:d!==null?f:null,mark:T=>{if(T===null||typeof T!="object"){t.warn(`Invalid value used for "${r}" marker (should be an object)`);return}g.add(T);for(let C of o){let k=C(T);if(yw(k)){if(!m.has(k)){m.set(k,T);continue}m.get(k)!==T&&CN(t,`The same reference value used for different objects for "${r}" marker`,`Reference value "${k}"`,{refGetter:C.getterFromString||C,ref:k,currentObject:m.get(k),newObject:T})}}},lookup:(T,C=!1)=>{if(!yw(T,C?!u:!1))return null;let k=typeof T=="object",M=k?x.get(T):w.get(T);if(M!==void 0)return M;let O=null;if(k&&g.has(T))O=T;else for(let H of s){let W=H(T),X=m.get(W);if(X!==void 0){O=X;break}}if(O===null)return null;let F=w.get(O);if(F!==void 0)return F;let P=d!==null?d(O):null,j=Object.freeze({type:r,object:O,ref:P,title:h(O),href:f!==null&&P!==null?`#${encodeURIComponent(f)}:${encodeURIComponent(P)}`:null});return w.set(O,j),T!==O&&(k?x.set(T,j):w.set(T,j)),j},reset:()=>{g.clear(),m.clear(),w.clear(),x=new WeakMap}}}var os,Vf,ji,Uf=I(()=>{it();Or();os=new Map,Vf=null;ji=class t extends qt{constructor(e){super(),this.logger=e}#e=!1;lock(){this.#e=!0}define(e,r){if(this.#e)throw new Error("Object marker definition is not allowed after setup");if(this.isDefined(e))throw new Error(`Object marker "${e}" is already defined, new definition ignored`);r=r||{};let o=mw(e,r,"refs"),s=mw(e,r,"lookupRefs"),u=!!r.annotateScalars,f=r.page,d=typeof f=="string"?f:null,h=gw(e,r,"ref",null),g=gw(e,r,"title",h||(()=>null));return t.define(this,e,Object.freeze(AN(this.logger,{name:e,indexRefs:o,lookupRefs:s,annotateScalars:u,page:d,getRef:h,getTitle:g})))}reset(){for(let{reset:e}of this.values)e()}markerMap(){return Object.fromEntries([...this.entries].map(([e,r])=>[e,r.mark]))}lookup(e,r){if(typeof r=="string")return this.get(r)?.lookup(e)||null;for(let{lookup:o}of this.values){let s=o(e);if(s!==null)return s}return null}lookupAll(e){let r=[];for(let{lookup:o}of this.values){let s=o(e);s!==null&&r.push(s)}return r}}});function DN(t,e,r){let o=String(t),[s,u]=o.match(/^(?:\S+\s+)?(\S+)\(/)||[];if(s!=="function"&&s!=="function*"&&u===r.trim().slice(0,-1)&&(r=""),o.indexOf(`
`)===-1)return r+o;let f=o.split(/\n/),d=f[f.length-1].match(/^\s*/)?.[0].length||0,h=new RegExp("^\\s{0,"+d+"}");return r+f.map((g,m)=>m&&g.length?g.replace(h,e):g).join(`
`)}function SN(t,e,r){return typeof t=="function"?DN(t,e,r):t instanceof Date?`${r}new Date("${t.toISOString()}")`:Array.isArray(t)?`${r}[${t.join(", ")}]`:r+String(t)}function TN(t){return Array.isArray(t)&&t.every(e=>typeof e=="number")}function Wn(t,e,r=4){let o=[];return String(JSON.stringify(t,e||function(u,f){return typeof f=="string"&&rn(this[u])==="[object Date]"&&(f=this[u]),f!==null&&(EN.has(rn(f))||TN(f))?(o.push(f),"{{{__placeholder__}}}"):f},r)).replace(/"((?:\\.|[^"])*)"(:?)/g,(u,f,d)=>d&&/^[a-z$_][a-z$_\d]*$/i.test(f)?f+d:`'${f.replace(/\\"/g,'"').replace(/'/g,"\\'")}'`+d).replace(/(^|\n)([ \t]*)(.*?)([a-zA-Z$_][a-zA-Z0-9$_]+:\s*)?'{{{__placeholder__}}}'/g,(u,f,d,h,g)=>f+d+h+SN(o.shift(),d,g))}function Gf(...t){try{return JSON.parse(...t)}catch(e){return e}}function Yf(...t){try{return JSON.stringify(...t)??"null"}catch(e){return String(e)}}var EN,Bi=I(()=>{it();lc();EN=new Set(["[object Function]","[object RegExp]","[object Date]"])});function ss(t){return bw.decode(FN(t))}function FN(t){typeof t=="string"&&(t=MN.encode(t));let e=new Uint8Array(Math.ceil(t.length/3)*4),r=0,o=0,s=0;for(let u=0;u<t.length;u++)for(o=o<<8|t[u],s+=8;s>=6;){let f=o>>(s-=6);e[r++]=ww[f],o-=f<<s}for(s!==0&&(e[r++]=ww[o<<6-s]);r<e.length;)e[r++]=61;return e}function jr(t){return bw.decode(NN(t))}function NN(t){let e=t.length;for(;e>0&&t[e-1]==="=";)e--;let r=new Uint8Array(3*Math.ceil(e/4)),o=0,s=0,u=0;for(let f=0;f<e;f++)if(s=s<<6|LN[t.charCodeAt(f)&255],u+=6,u>8){let d=s>>(u-=8);r[o++]=d,s-=d<<u}return u!==0&&(r[o++]=s),r.subarray(0,(e>>2)*3+(e%4*6>>3))}var MN,bw,ww,LN,il=I(()=>{MN=new TextEncoder,bw=new TextDecoder,[ww,LN]=(()=>{let t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e=new Uint8Array(64),r=new Uint8Array(256);for(let o=0;o<t.length;o++){let s=t.charCodeAt(o);r[s]=o,e[o]=s}return[e,r]})()});function kw(t){return t.includes("http://www.w3.org/2000/svg")?/(?:<|%3[cC])svg[:\s]/.test(t):!1}function ol(t){return typeof t=="string"&&Cw.test(t)}function sl(t){let e=Br(t);if(e!==null)return`data:image/${e.type},${e.content}`}function al(t){return typeof t=="string"&&ON.test(t)&&(ol(t)||!ll(t))}function Qf(t){if(typeof t=="string")return al(t)?t:sl(t)}function ll(t){return Br(t)!==null}function Br(t){if(typeof t=="string"&&t.length>100){let e=null,r=null;switch(t.charCodeAt(0)){case 47:t.startsWith("/9j/")&&(e="jpeg;base64",r=t);break;case 37:case 60:kw(t)&&(e="svg+xml",r=t);break;case 65:(t.startsWith("AAAB")||t.startsWith("AAAC"))&&(e="ico;base64",r=t);break;case 80:(t.startsWith("PD94bWwg")||t.startsWith("PHN2"))&&kw(jr(t))&&(e="svg+xml;base64",r=t);break;case 82:(t.startsWith("R0lGODdh")||t.startsWith("R0lGODlh"))&&(e="gif;base64",r=t);break;case 100:if(t.startsWith("data:image/")){let o=t.match(Cw);o!==null&&(e=o[1],r=t.slice(o[0].length))}break;case 105:if(t.startsWith("iVBORw0KGg"))e="png;base64",r=t;else if(t.startsWith("image/")){let o=t.match(/^image\/([a-z\+]+?(;base64)?),/);o!==null&&(e=o[1],r=t.slice(o[0].length))}break}if(e!==null&&r!==null)return{type:e,content:r}}return null}var Cw,ON,as=I(()=>{il();Cw=/^data:image\/([a-z\+]+?(?:;base64)?),/,ON=/^([a-z\-]+:|\.{0,2}\/)/i});function PN(t,e=this.context.props){if(!e)return t;let r={...t};for(let o of Object.keys(r))De(e,o)&&(r[o]=e[o]);return r}var ul,Kf=I(()=>{it();Bi();as();ul={overrideProps:PN,jsonInfo:Mr,jsonParse:Gf,jsonStringify:Yf,imagecontent:Br,imagedatauri:sl,imagesrc:Qf}});var cl,Jf=I(()=>{as();wn();cl={error:is,imagecontent:ll,imagedatauri:ol,imagesrc:al}});function Aw(t,e){return{before(){t.objectMarkers.reset()},contextApi:{markers:t.objectMarkers.markerMap(),setWorkTitle:e?.setPrepareWorkTitle||(()=>Promise.resolve()),rejectData(r,o){throw Object.assign(new Error(r),{renderContent:o})}}}}function Zf(t,e){let r=t.objectMarkers,o={setPrepare:t.setPrepare.bind(t),defineObjectMarker:h,addQueryHelpers(m){return t.logger.warn("addQueryHelpers() is deprecated, use addQueryMethods() instead"),f(m)},addQueryMethods:f,addQueryAssertions:d},s={...ul,query:t.query.bind(t),pageLink:(m,w,x,D)=>t.encodePageHash(w,m,x,D),marker:r.lookup.bind(r),markerAll:r.lookupAll.bind(r),callAction:g,actionHandler:(m,...w)=>t.action.has(m)?()=>g(m,...w):void 0},u={...cl};typeof e=="function"&&e(o),r.lock(),t.queryFnFromString=Zt.setup({methods:s,assertions:u});function f(m){s={...s,...m}}function d(m){u={...u,...m}}function h(m,w){let{mark:x,lookup:D}=r.define(m,w);return D?x:()=>{}}function g(m,...w){let x=w[w.length-1],D=null;typeof x=="function"&&(D=x,w.pop());let L=t.action.call(m,...w);return L&&D&&typeof L.then=="function"?L.then(D):D?D(L):L}}var Dw=I(()=>{Kf();Jf();Zo()});function Sw(t,e){let r=new ji(t.logger),o=[],s=[],u={setWorkTitle:e?.setPrepareWorkTitle||(()=>Promise.resolve()),rejectData(T,C){throw Object.assign(new Error(T),{renderContent:C})},defineObjectMarker:w,lookupObjectMarker:x,lookupObjectMarkerAll:D,addValueAnnotation:L,addQueryHelpers(T){return t.logger.warn("addQueryHelpers() is deprecated, use addQueryMethods() instead"),g(T)},addQueryMethods:g,addQueryAssertions:m,query(T,...C){return t.queryFn.call({queryFnFromString:h},T)(...C)}},f={...ul,query:t.query.bind(t),pageLink:(T,C,k,M)=>t.encodePageHash(C,T,k,M),marker:x,markerAll:D,callAction:N,actionHandler:(T,...C)=>t.action.has(T)?()=>N(T,...C):void 0},d={...cl},h=Zt.setup({methods:f,assertions:d});return{contextApi:u,after(T){Object.assign(T,{objectMarkers:r,linkResolvers:o,annotations:s,queryFnFromString:h})}};function g(T){h=Zt.setup({methods:f={...f,...T}})}function m(T){h=Zt.setup({assertions:d={...d,...T}})}function w(T,C){let{page:k,mark:M,lookup:O}=r.define(T,C)||{};if(!O)return()=>{};if(k!==null){if(!t.page?.isDefined(k))return t.logger.error(`Page reference "${k}" doesn't exist`),()=>{};o.push(F=>{let P=O(F);return P&&{type:k,text:P.title,href:P.href,entity:P.object}})}return L((F,P)=>{let j=O(F,!0);if(j!==null&&j.object!==P.host)return{place:"before",style:"badge",text:T,href:j.href}}),M}function x(T,C){return r.lookup(T,C)}function D(T){return r.lookupAll(T)}function L(T,C=!1){typeof C=="boolean"&&(C={debug:C}),s.push({query:T,...C})}function N(T,...C){let k=C[C.length-1],M=null;typeof k=="function"&&(M=k,C.pop());let O=t.action.call(T,...C);return O&&M&&typeof O.then=="function"?O.then(M):M?M(O):O}}var Ew=I(()=>{Uf();Kf();Jf();Zo()});function BN(t,e){return typeof t!="string"?String(t):(t=JSON.stringify(t),e[0]!=="'"?t:`'${t.slice(1,-1).replace(/\\.|'/g,r=>r==='\\"'?'"':r==="'"?"\\'":r)}'`)}function zN(t,e,r){if(e===r)return!0;let o=t.stat(e)||[],s=t.stat(r)||[];if(o.length!==s.length)return!1;for(let u=0;u<o.length;u++){let f=o[u],d=s[u];for(let h of Object.keys(f))if(f[h]!==d[h])return!1}return!0}function Lw(t,e,r,o,s){try{let u=Tw.get(t);if(!u||u.query!==e||u.data!==o||u.context!==s){let d={tolerant:!0,stat:!0};Tw.set(t,u={query:e,data:o,context:s,offset:-1,suggestions:null,api:null}),u.api=t.queryFnFromString(e,d)(o,s)}if(u.api===null)return null;if(u.offset!==-1&&zN(u.api,u.offset,r))return u.suggestions;let f=u.api.suggestion(u.offset=r,{sort:!0,filter:jN,limit:50});if(f){u.suggestions=[];for(let d of f.sort(IN))u.suggestions.push(...d.suggestions.map(h=>({type:d.type,from:d.from,to:d.to,text:d.text,value:d.type==="value"?BN(h,d.text):h})))}else u.suggestions=null;return u.suggestions}catch(u){return t.logger.error("Error while attempting to retrieve suggestions for the query:",u.message),null}}var Tw,Mw,IN,jN,Fw=I(()=>{Tw=new WeakMap,Mw=["variable","property","value","assertion","method"],IN=(t,e)=>Mw.indexOf(t.type)-Mw.indexOf(e.type),jN=t=>{let e=t.toLowerCase();return r=>r!==t&&(typeof r=="string"?r:String(r)).toLowerCase().indexOf(e)!==-1}});var RN,fl,HN,ls,Xf=I(()=>{RN=new Proxy({},{get:()=>()=>{}}),fl=["silent","error","warn","info","perf","debug"],HN={error:["error","error"],warn:["warn","warn"],info:["info","info"],perf:["log","perf"],log:["log","any"],debug:["debug","debug"]},ls=class{#e;#t;#n;error;warn;info;perf;debug;log;constructor(e="",r="debug",o=console){this.#t=e,this.#n=o||RN,this.logLevel=r}shouldLogLevel(e){let r=fl.indexOf(e);return this.#e!=="silent"&&r!==-1&&r<=fl.indexOf(this.#e)}get logLevel(){return this.#e}set logLevel(e){if(fl.indexOf(e)===-1&&console.error(this.#t,`Bad log level "${e}", supported: ${fl.join(", ")}`),e!==this.#e){let o=this.#n,s=this.#t,u=d=>Function.prototype.bind.call(this.#n[d],this.#n,...this.#t?[this.#t]:[]),f=(d,h)=>(g,m)=>{o[h?"groupCollapsed":"group"](`${s} ${g}`);let x=typeof m=="function"?m():m;if(Array.isArray(x))for(let D of x)o[d](...Array.isArray(D)?D:[D]);o.groupEnd()};this.#e=e;for(let[d,[h,g]]of Object.entries(HN))g==="any"||this.shouldLogLevel(g)?this[d]=Object.assign(u(h),{group:f(h,!1),groupCollapsed:f(h,!0)}):this[d]=Object.assign(()=>{},{group:()=>()=>{},groupCollapsed:()=>()=>{}})}}}});function Ri(t,e,r=Object.is){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;for(let o in t)if(De(t,o)&&(!De(e,o)||!r(t[o],e[o])))return!1;for(let o in e)if(De(e,o)&&!De(t,o))return!1;return!0}var zi,Hi=I(()=>{it();zi=(t,e)=>Ri(t,e,zi)});var qN,_N,WN,$N,dl,us,ed=I(()=>{Zo();tc();Mi();Nv();$f();Ya();hw();Uf();Dw();Ew();Fw();Xf();Hi();qN=()=>{},_N="[Discovery]",WN=t=>/^[a-zA-Z_][a-zA-Z_$0-9]*$/.test(t)&&!$N.includes(t),$N=["and","or","in","has","is","not","no","asc","ascN","ascA","ascNA","ascAN","desc","descN","descA","descNA","descAN"],dl=(t,e)=>({...e,encodings:Array.isArray(e?.encodings)?[...e.encodings,...t.encodings]:t.encodings}),us=class extends dr{options;info;logger;action;objectMarkers;linkResolvers;encodings;datasets;data;#e;prepare;#t;#n;textView;constructor(e){super(),this.options=e||{};let{name:r,version:o,description:s,icon:u,logLevel:f="warn",logger:d=console,extensions:h,encodings:g,context:m,setup:w}=e||{};this.info={name:r||"Untitled model",version:o||null,description:s||null,icon:u||null},this.logger=new ls(_N,f,d),this.action=new rl,this.objectMarkers=new ji(this.logger),this.linkResolvers=[],this.datasets=[],this.encodings=wa(g),this.data=void 0,this.#e=m,this.prepare=x=>x,this.#t=!0,this.textView=new Ja(this),this.apply(h),typeof w=="function"?(this.#t=!1,Zf(this,w)):Zf(this,()=>{}),this.apply(nl);for(let{page:x,lookup:D}of this.objectMarkers.values)x&&this.linkResolvers.push(L=>{let N=D(L);return N&&{type:x,text:N.title,href:N.href,entity:N.object}})}apply(e){Array.isArray(e)?e.forEach(r=>this.apply(r)):typeof e=="function"?e.call(null,this):e&&this.apply(Object.values(e))}log(){this.logger.error("Model#log() is deprecated, use Model#logger interface instead")}get legacyPrepare(){return this.#t}setPrepare(e){if(typeof e!="function")throw new Error("An argument should be a function");this.prepare=e}get context(){return this.#e}set context(e){this.setContext(e,!0)}setContext(e,r=!1){let o=this.#e;if(r)this.#e=e;else{let s={...this.#e,...e};Ri(s,o)||(this.#e=s)}Object.is(this.#e,o)||this.emit("context",o,this.#e)}getContext(){return{model:this.info,actions:this.action.actionMap,datasets:this.datasets,data:this.data,...this.context}}setData(e,r){r=r||{};let o=Symbol();this.#n=o;let s=Date.now(),u=()=>{if(this.#n!==o)throw new Error("Prevented by another setData()")},f=this.#t?Sw(this,r):Aw(this,r);return Promise.resolve().then(()=>(u(),f.before?.(this),this.prepare.call(null,e,f.contextApi)||e)).then(h=>{u(),this.datasets=[{...r.dataset,data:h}],this.data=h,f.after?.(this),this.emit("data"),this.logger.perf(`Data prepared in ${Date.now()-s}ms`)})}async trackLoadDataProgress(e){let r=Date.now(),o=await e.dataset;return this.logger.perf(`Data loaded in ${Date.now()-r}ms`),this.setData(o.data,{dataset:o})}loadDataFromStream(e,r){return this.trackLoadDataProgress(_o(e,dl(this,r)))}loadDataFromEvent(e,r){return this.trackLoadDataProgress(pc(e,dl(this,r)))}loadDataFromFile(e,r){return this.trackLoadDataProgress(La(e,dl(this,r)))}loadDataFromUrl(e,r){return this.trackLoadDataProgress(hc(e,dl(this,r)))}unloadData(){this.hasDatasets()&&(this.datasets=[],this.data=void 0,this.emit("unloadData"))}hasDatasets(){return this.datasets.length!==0}getQueryEngineInfo(){return{name:"jora",version:Zt.version,link:"https://discoveryjs.github.io/jora/#article:jora-syntax"}}queryFnFromString(){return qN}queryFn(e){switch(typeof e){case"function":return e;case"string":return Object.assign(this.queryFnFromString(e),{query:e})}}query(e,r,o){switch(typeof e){case"function":return e(r,o);case"string":return this.queryFn(e)(r,o);default:return e}}queryBool(e,r,o){return Zt.buildin.bool(this.query(e,r,o))}querySuggestions(e,r,o,s){return Lw(this,e,r,o,s)}pathToQuery(e){let r="",o=s=>r+=r===""?s[0]==="["?"$"+s:s:s[0]==="["?s:"."+s;for(let s of e)s==="*"?o("values()"):typeof s=="number"?o(`[${s}]`):WN(s)?o(s):o(`["${s}"]`);return r}stripAnchorFromHash(e){return typeof e=="string"?e.replace(/(^|&)!anchor(=[^&]+|(?=&|$))/g,""):e}encodePageHash(e=null,r=null,o,s=null){let u=o;return u&&(typeof u!="string"?(Array.isArray(u)||(u=Object.entries(u)),u=u.filter(([f])=>f!=="!anchor").map(f=>f.map(encodeURIComponent).join("=")).join("&")):u=this.stripAnchorFromHash(u)),`#${e?encodeURIComponent(e):""}${typeof r=="string"&&r||typeof r=="number"?":"+encodeURIComponent(r):""}${u?"&"+u:""}${s?"&!anchor="+encodeURIComponent(s):""}`}decodePageHash(e,r=()=>Object.fromEntries){let o=(e.indexOf("&")+1||e.length+1)-1,[s,u=null]=e.substring(e[0]==="#"?1:0,o).split(":").map(decodeURIComponent),f=[],d=null;for(let h of e.slice(o+1).split("&").filter(Boolean)){let g=h.indexOf("="),m,w;g!==-1?(m=decodeURIComponent(h.slice(0,g)),w=decodeURIComponent(h.slice(g+1))):(m=decodeURIComponent(h),w=!0),m==="!anchor"?d=w&&w!==!0?w:null:f.push([m,w])}return{pageId:s,pageRef:u,pageParams:r(s)(f),pageAnchor:d}}resolveValueLinks(e){let r=[],o=typeof e;if(e&&(o==="object"||o==="string"))for(let s of this.linkResolvers){let u=s(e);u&&r.push(u)}return r.length?r:null}}});var Nw,zr,pl=I(()=>{lr();Nw=typeof ResizeObserver=="function",zr=class extends Et{static supported=Nw;el;observer;constructor(){super(null),this.el=null,this.observer=Nw?new ResizeObserver(e=>{for(let r of e)this.set(r.contentRect)}):null}observe(e){if(this.observer===null){this.el=null;return}e=e||null,this.el!==e&&(this.el!==null&&this.observer.unobserve(this.el),e!==null&&this.observer.observe(e),this.el=e)}dispose(){this.el=null,this.observer=null}}});function Ow(t){t.nav.append({name:"index-page",when:"#.widget | pageId != defaultPageId",text:"Index",href:"=pageLink(#.widget.defaultPageId)"})}function Pw(t){t.nav.append({name:"discovery-page",when:"#.widget | pageId != discoveryPageId",text:"Discover",href:"=pageLink(#.widget.discoveryPageId)"})}function Iw(t){t.nav.before("inspect",{name:"open-file",when:"#.actions.uploadFile and (#.datasets or (#.widget | pageId != defaultPageId))",text:"Open file\u2026",onClick:"=#.actions.uploadFile"})}function jw(t){t.nav.before("inspect",{name:"upload-from-clipboard",when:"#.actions.uploadDataFromClipboard and (#.datasets or (#.widget | pageId != defaultPageId))",text:"",onClick:"=#.actions.uploadDataFromClipboard",tooltip:{position:"trigger",content:'text:"Paste data from clipboard"'}})}function Bw(t){let e=()=>{};t.nav.menu.append({view:"block",className:["toggle-menu-item","dark-mode-switcher"],name:"dark-mode",when:'#.widget | colorScheme.mode != "only"',postRender(r,o,s,{widget:u,hide:f}){let d;e(),e=u.colorScheme.subscribe((h,g)=>{let m=Si(g);m!==d&&(r.innerHTML="",d=m,u.view.render(r,{view:"toggle-group",beforeToggles:'text:"Color schema"',onChange(w){d=w,u.colorScheme.set(w),f()},value:m,data:()=>[{value:"light",text:"Light"},{value:"dark",text:"Dark"},{value:"auto",text:"Auto"}]},null,{widget:u}))},!0)}})}function zw(t){let r=null,o=0;t.nav.append({name:"inspect",when:"#.widget.inspectMode",text:"",tooltip:{position:"trigger",showDelay:!0,content:'md:"**Enable view inspection**<br>To suspend enabling inspect mode by 3 seconds,<br>click the button with Cmd (\u2318) or Ctrl-key"'},onClick(s,u,f,d){!t.inspectMode.value&&(d.metaKey||d.ctrlKey)?(r===null&&(o=0,r=setTimeout(function h(){o--,o===0?(r=null,delete s.dataset.suspendSeconds,t.inspectMode.set(!0)):(r=setTimeout(h,1e3),s.dataset.suspendSeconds=String(o))},1e3)),o+=3,s.dataset.suspendSeconds=String(o)):r!==null?(clearTimeout(r),r=null,delete s.dataset.suspendSeconds):(t.view.tooltip?.hide(),t.inspectMode.set(!t.inspectMode.value))}})}var nd=I(()=>{Ei()});var cs,hl,rd=I(()=>{ze();pl();Dc();nd();cs=class{items;host;baseConfig;constructor(e,r){this.host=e,this.baseConfig=r,this.items=[]}insert(e,r,o){switch(r){case"after":r=this.items.findIndex(u=>u.name===o),r===-1?r=this.items.length:r++;break;case"before":r=this.items.findIndex(u=>u.name===o),r===-1&&(r=this.items.length);break;default:(r===void 0||isNaN(r)||!isFinite(r))&&(r=this.items.length)}r=Math.max(0,Math.min(this.items.length,r));let s=this.host.view.composeConfig(this.baseConfig,e);this.items.splice(r,0,s)}prepend(e){this.insert(e,0)}append(e){this.insert(e)}before(e,r){this.insert(r,"before",e)}after(e,r){this.insert(r,"after",e)}replace(e,r){let o=this.items.findIndex(s=>s.name===e);o!==-1?this.items[o]=this.host.view.composeConfig(this.baseConfig,r):this.insert(r)}remove(e){let r=this.items.findIndex(o=>o.name===e);if(r!==-1)return this.items.splice(r,1)[0]}},hl=class extends cs{host;popup;data;context;config;primary;secondary;menu;contentRect;constructor(e,r="nav-button"){super(e,r);let o=$("div","powered-by-discoveryjs",["powered by ",$("a",{class:"view-link",href:"https://github.com/discoveryjs/discovery",target:"_blank"},"Discovery.js"),` ${Ac}`]);this.host=e,this.popup=null,this.data=null,this.context=null,this.primary=new cs(e,"nav-button"),this.secondary=this,this.menu=new cs(e,"menu-item"),this.config=[this.secondary.items,{view:"nav-button",name:"burger",whenData:!0,data:async()=>{let s=Hn();return await this.host.view.render(s,this.menu.items,this.host.data,{...this.context,hide:()=>this.popup?.hide()}),[...s.childNodes].filter(u=>u.nodeType===1||u.nodeType===3)},onClick:(s,u)=>{let f=this.popup||new this.host.view.Popup({className:"discovery-nav-popup"});this.popup||(this.popup=f,f.el.addEventListener("click",({target:d})=>{d.closest("a[href]")&&setTimeout(()=>f.hide(),50)},!0)),f.toggle(s,d=>d.append(...u,o))}},this.primary.items],this.contentRect=new zr,this.contentRect.subscribe(s=>{let{container:u}=e.dom;if(u&&s){let{width:f,height:d}=s;u.style.setProperty("--discovery-nav-width",f+"px"),u.style.setProperty("--discovery-nav-height",d+"px")}})}render(e,r,o){this.contentRect.observe(e),e&&(this.data=r,this.context={...o,widget:this.host},this.host.view.setViewRoot(e,"nav",{config:this.config,data:this.data,context:this.context}),e.innerHTML="",this.host.view.render(e,this.config,this.data,this.context))}}});function ld(t){return typeof t=="string"||Array.isArray(t)||t!==null&&typeof t=="object"&&typeof t.view=="string"}function UN(t){let{base:e,tolerance:r,start:o,startTolerance:s}=typeof t=="object"&&t!==null?t:{base:t,start:t};return(typeof r!="number"||!Number.isInteger(r)||r<=0)&&(r=0),s===void 0?s=r:(typeof s!="number"||!Number.isInteger(r)||r<=0)&&(r=0),(typeof e!="number"||Number.isNaN(e))&&(e=e===!1?1/0:10),(typeof o!="number"||Number.isNaN(o))&&(o=o===void 0?e:o===!1?1/0:10),{base:e,tolerance:r,start:o,startTolerance:s}}function id(t,e,r){return e+r>=t?t:e}function Rr(t,e){return Uw.set(t,e),t}function Gw(t,e,r,o){if(e===null||o.has(e))return;let s=t.fragmentEls.get(e);if(s!==void 0)for(let f of s){let d=r.children.find(h=>h.view===f);d?r=d:r.children.push(r={node:null,parent:r,view:f,children:[]})}let u=Vw.get(e);if(u!==void 0)r.children.push(r={node:e,parent:r,viewRoot:u,children:[]});else{let f=t.viewEls.get(e);f!==void 0&&r.children.push(r={node:e,parent:r,view:f,children:[]})}if(e.nodeType===1)for(let f=e.firstChild;f;f=f.nextSibling)Gw(t,f,r,o)}function GN(t){return{name:"config-error",options:Ww,render(e,r){if(e.className="discovery-buildin-view-render-error",e.dataset.type=r.type,e.textContent=r.reason,"config"in r){let o=e.appendChild(document.createElement("span"));o.className="toggle-config",o.textContent="show config...",o.addEventListener("click",()=>{e.classList.toggle("expanded")?(o.textContent="hide config...",t.render(e,{view:"struct",expanded:1},r.config)):(o.textContent="show config...",e.lastChild?.remove())})}}}}function Hw(t,e,r,o,s,u,f,d){return!De(r,t)||r[t]===void 0||e.host.queryBool(r[t]===!0?"":r[t],o,s)?!0:(e.viewEls.set(d,{skipped:t,config:r,inputData:u,inputDataIndex:f,data:o,context:s}),!1)}function ud(t,e,r,o){let s=e;return typeof s=="string"&&s.startsWith("=")&&(s=t.queryFn(s.slice(1))),typeof s=="function"&&(s=s(r,o)),typeof s=="string"&&(s=s.trim().split(/\s+/)),Array.isArray(s)&&(s=s.map(u=>typeof u=="function"?u(r,o):u).filter(Boolean),s.length)?s:null}function Yw(t,e,r,o,s){let u=r?ud(t,r,o,s):null;u!==null&&e.classList.add(...u)}async function Qw(t,e,r,o,s,u,f,d,h){let{tag:g}=e.options,m=g===null?document.createDocumentFragment():document.createElement(g||"div");await e.render(m,s,u,f),typeof o.postRender=="function"&&await o.postRender(m,o,u,f);let w={config:o,props:s,inputData:d,inputDataIndex:h,data:u,context:f};if(!ec(m))t.viewEls.set(m,w),e.name&&m.classList.add(`view-${e.name}`),Yw(t.host,m,o.className,u,f),o.tooltip&&cd(t.host,m,o.tooltip,u,f);else for(let x of m.childNodes){let D=t.fragmentEls.get(x);D!==void 0?D.unshift(w):t.fragmentEls.set(x,[w])}r.replaceWith(m)}function sd(t,e,r,o){return Qw(t,t.defaultRenderErrorRenderer,r,$w,{type:"render",reason:e,config:o})}function YN(t,e){return{name:e,normalizeConfig:t.normalizeConfig.bind(t),ensureValidConfig:t.ensureValidConfig.bind(t),composeConfig:t.composeConfig.bind(t),propsFromConfig:t.propsFromConfig.bind(t),computeClassName:ud.bind(null,t),applyComputedClassName:Yw.bind(null,t),render:t.render.bind(t),listLimit:t.listLimit.bind(t),renderList:t.renderList.bind(t),maybeMoreButtons:t.maybeMoreButtons.bind(t),renderMoreButton:t.renderMoreButton.bind(t),tooltip(r,o,s,u){r&&r.nodeType===1?cd(t.host,r,o,s,u):t.host.logger.warn("A tooltip can be attached to a HTML element only")}}}function cd(t,e,r,o,s){e.classList.add("discovery-view-has-tooltip"),od.set(e,{config:r,data:o,context:s}),t.view.tooltip===null&&(t.view.tooltip=QN(t))}function qw(t){return!!t&&!Array.isArray(t)&&typeof t!="string"&&typeof t!="function"&&!t.view}function _w(t,e){return Number.isFinite(t)?Number(t):e}function QN(t){let e=null,r=new t.view.Popup({className:"discovery-buildin-view-tooltip",hoverTriggers:".discovery-view-has-tooltip",position:"pointer",showDelay(o){let{config:s}=od.get(o)||{};return qw(s)?s.showDelay??!0:!0},render(o,s){let{config:u,data:f,context:d}=od.get(s)||{},h="pointer",g="natural",m=3,w=3,x=!1,D=u;return e!==null&&(o.classList.remove(...e),e=null),qw(u)&&(e=ud(t,u.className,f,d),e!==null&&o.classList.add(...e),h=u.position||h,g=u.positionMode||g,m=_w(u.pointerOffsetX,m),w=_w(u.pointerOffsetY,w),x=!!u.hideOnTriggerClick,D=u.content),r.position=h,r.positionMode=g,r.pointerOffsetX=m,r.pointerOffsetY=w,r.hideOnTriggerClick=x,D?t.view.render(o,D,f,d):t.view.render(o,{view:t.view.defaultRenderErrorRenderer.render,reason:"Element marked as having a tooltip but related data is not found"})}});return r}async function Kw(t,e,r,o,s,u){if(Array.isArray(r)){await Promise.all(r.map(g=>Kw(t,e,g,o,s,u)));return}let f=o&&typeof s=="number"?o[s]:o,d=null;switch(typeof r.view){case"function":d={name:!1,options:Ww,render:r.view};break;case"string":if(r.view==="render"){let{config:g="",context:m=""}=t.propsFromConfig(r,o,u);d={name:!1,options:{tag:null},render(w,x,D){let L=g!==""?t.host.query(g,f,u):D,N=t.host.query(m,u,f);return t.render(w,L,D!==L?D:f,N)}}}else if(r.view.startsWith("preset/")){let g=r.view.substr(7);d={name:!1,options:{tag:null},render:t.host.preset.isDefined(g)?t.host.preset.get(g).render:()=>{}}}else d=t.get(r.view)||null;break}e||(e=document.createDocumentFragment());let h=e.appendChild(document.createComment(""));if(!d){let g=typeof r.view=="string"?"View `"+r.view+"` is not found":"Render is not a function";return t.host.logger.error(g,r),sd(t,g,h,r)}try{if(Hw("when",t,r,f,u,o,s,h)){let g="context"in r?await t.host.query(r.context,f,u):u,m="data"in r?await t.host.query(r.data,f,g):f;if(Hw("whenData",t,r,m,g,o,s,h))return await Qw(t,d,h,r,t.propsFromConfig(r,m,g),m,g,o,s)}}catch(g){return t.host.logger.error("View render error:",g.message),sd(t,String(g),h,$w)}}var Ww,$w,od,Vw,Uw,Rw,VN,ad,gl,fd=I(()=>{ze();it();Or();Mf();Ww=Object.freeze({tag:void 0}),$w=Object.freeze({view:""}),od=new WeakMap,Vw=new WeakMap,Uw=new WeakMap,Rw=new WeakMap,VN=new Set(["view","when","context","data","whenData","postRender","className","tooltip"]);ad=class{el;position;positionMode;pointerOffsetX;pointerOffsetY;hideOnTriggerClick;constructor(){}toggle(){}async show(){}hide(){}},gl=class t extends qt{host;defaultRenderErrorRenderer;viewEls;fragmentEls;tooltip;Popup=ad;constructor(e){super(),this.host=e,this.defaultRenderErrorRenderer=GN(this),this.viewEls=new WeakMap,this.fragmentEls=new WeakMap,this.tooltip=null}define(e,r,o){let s=ld(r)||typeof r=="function"?{...o,render:r}:r,{render:u=[],...f}=s,{tag:d,props:h}=f;return t.define(this,e,Object.freeze({name:e,options:Object.freeze({...s,tag:typeof d=="string"||d===void 0?d:null,props:typeof h=="string"?this.host.queryFn(h):h}),render:typeof u=="function"?u.bind(YN(this,e)):(g,m,w,x)=>this.render(g,u,w,x)}))}normalizeConfig(e){if(!e)return null;if(Array.isArray(e)){let r=[];for(let o of e){let s=this.normalizeConfig(o);s!==null&&(Array.isArray(s)?r.push(...s):r.push(s))}return r}if(typeof e=="string"){let[,r,o,s]=e.match(/^(\S+?)([:{])((?:.|\s)+)$/)||[];if(r){if(o==="{")try{return Rr(Qa(r,o+s),e)}catch(u){return Rr(this.badConfig(e,u),e)}return Rr({view:r,data:s},e)}return Rr({view:e},e)}else if(typeof e=="function")return Rr({view:e},e);return e}badConfig(e,r){let o=r?.message||"Unknown error";return this.host.logger.error(o,{config:e,error:r}),{view:this.defaultRenderErrorRenderer.render,type:"config",reason:o,config:e}}ensureValidConfig(e){return Array.isArray(e)?e.map(r=>this.ensureValidConfig(r)).flat():!e||!e.view?this.badConfig(e,new Error(e?"Option `view` is missed":"Config is not a valid value")):e}composeConfig(e,r){return e=this.normalizeConfig(e),r=this.normalizeConfig(r),e&&r?Array.isArray(e)?e.map(o=>Rr({...o,...r},[o,r])):Rr({...e,...r},[e,r]):e||r}propsFromConfig(e,r,o,s=this.get(e?.view)?.options.props){let u={};for(let[f,d]of Object.entries(e))VN.has(f)||(u[f]=typeof d=="string"&&d.startsWith("=")?this.host.query(d.slice(1),r,o):d);if(typeof s=="function"){let f=s(r,{props:u,context:o});f!==null&&typeof f=="object"&&f!==u&&(Rw.set(f,{props:u,fn:s}),u=f)}return u}render(e,r,o,s,u){return Kw(this,e,this.ensureValidConfig(this.normalizeConfig(r)),o,u,s)}renderError(e,r,o){let s=e instanceof Comment?e:e.appendChild(document.createComment(""));return sd(this,r,s,o)}listLimit(e,r){return e===!1?!1:typeof e=="object"&&e!==null?typeof e.base>"u"?{...e,base:r}:e:!e||isNaN(e)?r:Math.max(parseInt(e,10),0)||r}renderList(e,r,o,s,u=0,f=!1,d){let h=d instanceof HTMLElement||d&&"nodeType"in d?{moreContainer:d}:d||{},{moreContainer:g,onSliceRender:m}=h,w=UN(f),x=e.appendChild(document.createComment("")),D=document.createDocumentFragment(),L=o.length,N=L-u,T=u===0?id(N,w.start,w.startTolerance):id(N,w.base,w.tolerance),C=id(N-T,w.base,w.tolerance),k=Promise.all(o.slice(u,u+T).map((M,O,F)=>this.render(D,r,o,{...s,index:u+O,array:o,sliceIndex:O,slice:F},u+O))).then(()=>x.replaceWith(D));return typeof m=="function"&&k.then(()=>m(N-T,u,C,L)),this.maybeMoreButtons(g||e,null,L,u+T,C,(M,O)=>this.renderList(e,r,o,s,M,O!==w.base?{...w,base:O}:w,h)),k}maybeMoreButtons(e,r,o,s,u,f){if(o<=s)return null;let d=o-s,h=document.createElement("span");return d>u&&this.renderMoreButton(h,"Show "+u+" more...",()=>f(s,u)),d>0&&this.renderMoreButton(h,"Show all the rest "+d+" items...",()=>f(s,1/0)),h!==null&&(h.className="more-buttons",e.insertBefore(h,r)),h}renderMoreButton(e,r,o){let s=document.createElement("button");s.className="more-button",s.innerHTML=r,s.addEventListener("click",()=>{e.remove(),o()}),e.appendChild(s)}attachTooltip(e,r,o,s){cd(this.host,e,r,o,s)}adoptFragment(e,r){let o=this.fragmentEls.get(r);if(o)for(let s of e.childNodes)this.fragmentEls.set(s,o)}setViewRoot(e,r,o){Vw.set(e,{name:r,...o})}getViewTree(e){let r=new Set(e||[]),o=[];return Gw(this,this.host.dom?.container||null,{parent:null,children:o},r),o}getViewStackTrace(e){let{container:r}=this.host.dom;if(!r||!(e instanceof Node)||!r.contains(e))return null;let o=[],s=e;for(;s!==null&&s!==r;){let u=this.viewEls.get(s);u!==void 0&&o.push(u),s=s.parentNode}return o.length===0?null:o.reverse()}getViewConfigTransitionTree(e){let r=Uw.get(e)||[];return Array.isArray(r)||(r=[r]),{value:e,deps:r.map(this.getViewConfigTransitionTree,this)}}getViewPropsTransition(e){let r=Rw.get(e)||null;return r&&{props:r.props,fn:r.fn,query:r.fn.query||null}}}});var Jw,KN,ml,Zw=I(()=>{Or();lr();ze();fd();Jw=Symbol("config"),KN={name:"not-found",render:(t,{name:e})=>{t.style.cssText="color:#a00",t.innerText=`Page \`${e}\` not found`}},ml=class t extends qt{#e;#t;#n;lastPage;lastPageRef;pageOverscrolled;setPageOverscroll;constructor(e,r){if(super(),this.#e=e,this.#t=r,this.#n=null,this.lastPage=null,this.lastPageRef=null,this.pageOverscrolled=new Et(!1),this.setPageOverscroll=()=>{},typeof IntersectionObserver=="function"){let o=$("div",{style:"position:absolute"}),s=e.dom?.content||null,u=()=>{};if(s!==null){let f=new IntersectionObserver(d=>this.pageOverscrolled.set(!d[d.length-1].isIntersecting),{root:s});this.setPageOverscroll=d=>{f.unobserve(o),u(),d&&(d.prepend(o),f.observe(o),u=this.pageOverscrolled.subscribeSync(h=>{d.classList.toggle("page_overscrolled",h)}))}}}}define(e,r,o){let s=ld(r)||typeof r=="function"?{...o,render:r}:r,{render:u,...f}=s;if(u===void 0)throw new Error(`Page "${e}" requires a specified render option`);return t.define(this,e,Object.freeze({name:e,render:typeof u=="function"?u.bind(this.#t):(d,h,g)=>this.#t.render(d,u,h,g),options:Object.freeze(f),[Jw]:u}))}render(e,r,o,s){let u=this.get(r);u||(u=this.get("not-found")||KN,o={name:r});let{reuseEl:f,init:d,keepScrollOffset:h=!0}=u.options||{},g=this.#e.pageRef,m=this.lastPage!==r,w=this.lastPageRef!==g,x=f&&!m?e:$("article",`page page-${CSS.escape(r)}`);this.#n=x,this.lastPage=r,this.lastPageRef=g,m&&typeof d=="function"&&d(x);let D=new Promise(async(L,N)=>{try{if(await u.render(x,o,s),this.#n!==x){N(new Error("Aborted by new page render"));return}x!==e&&(e.replaceWith(x),this.setPageOverscroll(x));let T=x.parentNode;T!==null&&(m||w||!h)&&(T.scrollTop=0),L()}catch(T){x.replaceChildren(),this.#t.render(x,"alert-danger",String(T)+" (see details in console)"),N(T)}});return{pageEl:x,config:u[Jw],renderState:D}}}});var yl,Xw=I(()=>{Or();yl=class t extends qt{#e;constructor(e){super(),this.#e=e}define(e,r){return r=JSON.parse(JSON.stringify(r)),t.define(this,e,Object.freeze({name:e,render:(o,s,u,f)=>this.#e.render(o,r,u,f),config:r}))}render(e,r,o,s){let u=this.get(r);if(!u){let f="Preset `"+r+"` is not found";console.error(f,r);let d=e.appendChild(document.createElement("div"));return d.className="discovery-buildin-view-config-error",d.textContent=f,Promise.resolve()}return u.render(e,null,o,s)}}});function fs(t){let e=t.offsetParent;for(;e!==null&&e!==Hr&&getComputedStyle(e).position==="static";)e=e.offsetParent;return e||Hr}function ds(t){let e=t.parentNode;for(;e!==null&&e!==Hr&&getComputedStyle(e).overflow==="visible";)e=e.parentNode;return e||Hr}function dd(t=null){let e=0,r=0;if(typeof t?.getBoundingClientRect=="function"){let o=t.getBoundingClientRect();e=-o.top,r=-o.left}else if(eb)e=window.pageYOffset||Hr.scrollTop,r=window.pageXOffset||Hr.scrollLeft;else{let{body:o}=document;t!==o&&(e=o.scrollTop-o.clientTop,r=o.scrollLeft-o.clientLeft)}return{left:r,top:e}}function Wt(t,e=null){let r=dd(e),o=0,s=0,u=0,f=0;return t instanceof Element&&typeof t?.getBoundingClientRect=="function"&&({top:o,left:s,right:u,bottom:f}=t.getBoundingClientRect()),{top:o+r.top,left:s+r.left,right:u+r.left,bottom:f+r.top,width:u-s,height:f-o}}function pd(t,e=null){let r=eb?Hr:document.body,{top:o,left:s}=t===r&&!e?dd():Wt(t,e),u=0,f=0;return!t||t instanceof Window?(u=window.innerWidth||0,f=window.innerHeight||0):(o+=t.clientTop,s+=t.clientLeft,u=t.clientWidth,f=t.clientHeight),{top:o,left:s,right:s+u,bottom:o+f,width:u,height:f}}var Hr,JN,eb,qr=I(()=>{({documentElement:Hr,compatMode:JN}=document),eb=JN==="CSS1Compat"});var pr,vl=I(()=>{ze();lr();pr=(()=>{let t=new Et({x:0,y:0},(e,r)=>e.x!==r.x||e.y!==r.y);return document.addEventListener("pointermove",({x:e,y:r})=>t.set({x:e,y:r}),Rt),t.readonly})()});function ZN(t){return t!==null&&(typeof t=="object"||typeof t=="function")}function _r(t,e){if(typeof t!="function")throw new TypeError("Expected a function");if(typeof e=="number"&&(e={wait:e}),!ZN(e)){let H;return Object.assign(function(...W){return H=t.apply(this,W)},{cancel(){},flush(){return H},pending(){return!1}})}let r=Math.max(0,Number(e.wait)||0),o=!!e.leading,s="maxWait"in e,u=s?Math.max(Number(e.maxWait)||0,r):1/0,f="trailing"in e?!!e.trailing:!0,d,h,g,m,w,x=0;function D(H){let W=d,X=h;return d=h=void 0,x=H,g=t.apply(X,W),g}function L(H,W){return setTimeout(H,W)}function N(H){clearTimeout(H)}function T(H){return x=H,m=L(M,r),o?D(H):g}function C(H,W){let X=H-W,q=H-x,K=r-X;return Math.min(K,u-q)}function k(H,W){let X=H-W,q=H-x;return X>=r||X<0||q>=u}function M(){let H=Date.now();if(w===void 0||k(H,w))return O(H);m=L(M,C(H,w))}function O(H){return m=void 0,f&&d?D(H):(d=h=void 0,g)}function F(){m!==void 0&&N(m),x=0,d=w=h=m=void 0}function P(){return m===void 0?g:O(Date.now())}function j(){return m!==void 0}return Object.assign(function(...H){let W=Date.now(),X=w===void 0||k(W,w);if(d=H,h=this,w=W,X){if(m===void 0)return T(w);if(s)return m=L(M,r),D(w)}return m===void 0&&(m=L(M,r)),g},{cancel:F,flush:P,pending:j})}var ps=I(()=>{});function XN(t){let e=ds(t),r=Wt(t,e),o=0,s=0,{scrollTop:u,scrollLeft:f,clientWidth:d,clientHeight:h}=e,g=u+o,m=f+s,w=f+d,x=u+h,D=u+r.top,L=f+r.left,N=L+r.width,T=u,C=f;(D<g||D>x)&&(T=D-o),L<m?C=L-s:N>w&&(C=Math.max(L,f-(N-w))-s),e?.scrollTo(C,T)}function nb(){hd=0}function rb(t,{selectTreeViewLeaf:e,detailsSidebarLeafExpanded:r}){return{view:"tree",when:"#.selectedView",data:"$[0]",className:"sidebar",limitLines:!1,itemConfig:{collapsible:"=not viewRoot",expanded:o=>o.viewRoot||r.has(o),onToggle:(o,s,u)=>o?r.add(u):r.delete(u)},item:{view:"switch",content:[{when:"viewRoot",content:{view:"block",className:"view-root",content:"text:viewRoot.name"}},{when:"$ = #.selectedView",content:[{view:"block",className:[o=>o.view?.skipped?"skipped":!1,"selected"],content:'text:view.config.view or "#root" | is string ?: "\u0192n"',postRender(o){requestAnimationFrame(()=>{t.querySelector(".sidebar").scrollTop=hd,XN(o)})}},...tb]},{content:[{view:"link",className:o=>o.view?.skipped?"skipped":!1,data:'{ text: view.config.view or "#root" | is string ?: "\u0192n", href: false, view, self: $ }',onClick(o,s){hd=t.querySelector(".sidebar")?.scrollTop||0,e(s.self)}},...tb]}]}}}var hd,tb,ib=I(()=>{qr();hd=0,tb=[{view:"badge",when:'view.data != parent.(view or viewRoot).data or "data" in view.config',data:{text:"D"},tooltip:'text:"Data value was changed"'},{view:"badge",when:"view.context != parent.(view or viewRoot).context",data:{text:"C"},tooltip:'text:"Context value was changed"'}]});function wl(t){t=t.replace(/^(?:\s*[\n]+)+?([ \t]*)/,"$1").trimRight(),t=t.replace(/\n[ \t]+(?=\n)/g,`
`);let e=t.split(/\n+/),r=+(t.match(/^\s/)===null),o=1e3;for(var s=r;s<e.length;s++){let u=e[s].match(/^\s*/);if(u[0].length<o&&(o=u[0].length),o==0)break}return o>0&&(t=t.replace(new RegExp("^ {"+o+"}","gm"),"")),t}var gd=I(()=>{});var ob,sb=I(()=>{gd();ob={view:"block",className:["content","props-config"],data:"#.view | view or viewRoot",content:[{view:"block",className:"content-section skip",when:"skipped",content:'block{ content: "badge:{ text: skipped }" }'},{view:"block",className:"content-section render",when:"config.view is not string",content:'source:{ content: config.view + "", syntax: "js" }'},{view:"block",when:"props != undefined",className:"content-section props",content:[{view:"struct",expanded:1,data:"props"},{view:"context",data:(t,e)=>e.host.view.getViewPropsTransition(t.props),whenData:!0,content:[{view:"block",className:"transition-fn",data:t=>({...t,query:typeof t.query=="string"?wl(t.query):void 0}),content:{view:"switch",content:[{when:"query is string",content:{view:"source",data:'{ content: query, syntax: "jora", lineNum: false }'}},{content:"struct:fn"}]}},{view:"struct",expanded:2,data:"props"}]}]},{view:"block",className:"content-section config",content:[{view:"struct",expanded:1,data:"config"},{view:"tree",data:(t,e)=>e.host.view.getViewConfigTransitionTree(t.config).deps,whenData:!0,expanded:3,children:"deps",item:{view:"struct",expanded:1,data:"value"}}]}]}});var ab,lb,ub=I(()=>{gd();ab={view:"list",className:"data-flow-transitions",limit:1,when:".[view]",data:`
        [null]    // to show empty list on first render
        + .[view] // filter viewRoot
        .(
            $parent;
            $parentName: parent.view.config.view;
            $queryData: view | inputDataIndex != undefined ? inputData[inputDataIndex] : inputData;

            view | [
                ...'data' in config ? { inputData: $queryData, transition: config.data, name: config.view, view: $, $parent } : [],
                ...inputDataIndex != undefined ? { inputData, transition: \`$[\${inputDataIndex}]\`, name: \`\${$parentName} \u2192 \${config.view}\`, view: $, $parent } : []
            ]
        )
    `,whenData:"size() > 1",itemConfig:{when:!0},item:[{view:"block",className:"root-data",when:"inputData = ..parent.viewRoot[].data",content:'badge:"Root data"'},{view:"struct",data:"inputData"},{view:"block",className:"data-flow-transition",content:[{view:"switch",content:[{when:"transition is (string or undefined)",content:{view:"context",data(t){return{content:wl(t.transition),refs:[]}},content:{view:"source",data:`{
                                    ...,
                                    syntax: "jora",
                                    lineNum: false
                                }`}}},{content:{view:"struct",data:"transition"}}]},{view:"block",className:"view-name",content:"text:name"}]}]},lb={view:"block",className:"content-section data",data:"#.view",content:[{view:"context",data:"..parent",content:ab},{view:"context",content:{...ab,limit:!1}},{view:"block",className:"root-data",when:"view or viewRoot | data = ([@] + @..parent).viewRoot[].data",content:'badge:"Root data"'},{view:"struct",expanded:1,data:"view or viewRoot | data"}]}});function eO(t,e){if(t===null)return!0;for(let r of["top","left","width","height"])if(t[r]!==e[r])return!0;return!1}var md,yd=I(()=>{ze();qr();vl();ps();ib();sb();ub();md=t=>{let e=!1,r=null,o=null,s=null,u=null,f,d=new Set,h=new Map,g=new Map,m=$("div","cancel-hint view-alert view-alert-warning"),w=$("div",{class:"discovery-view-inspector-overlay",onclick:P=>{if((P.metaKey||P.ctrlKey)&&o){let j=o.view.config.view;T(),t.setPage("views-showcase",j);return}C(o&&!s?o:null)}},[m]),x=_r(()=>{if(!e||s!==null)return;let P=t.view.getViewTree([O.el]),j=new Set([...g.keys()]);(function W(X,q){for(let K of X){if(!K.node||!K.view&&!K.viewRoot){K.children.length&&W(K.children,q);continue}let E=Wt(K.node,q),Y=g.get(K.node)||null;Y===null?(Y={el:q.appendChild($("div",K.viewRoot?"overlay view-root":"overlay")),box:null},K.node.nodeType===1&&(Y.el.style.zIndex=getComputedStyle(K.node).zIndex),K.viewRoot&&K.viewRoot.inspectable!==!1&&(Y.el.dataset.inspectable=!0),g.set(K.node,Y),h.set(Y.el,K)):j.delete(K.node),eO(Y.box,E)&&(Y.el.style.top=`${E.top}px`,Y.el.style.left=`${E.left}px`,Y.el.style.width=`${E.width}px`,Y.el.style.height=`${E.height}px`,Y.box=E),K.children.length&&(K.node.nodeType===1&&(Y.el.style.overflow=getComputedStyle(K.node).overflow!=="visible"?"hidden":"visible"),W(K.children,Y.el))}})(P,w);for(let W of j)g.get(W).el.remove(),g.delete(W);D()},{maxWait:0,wait:50}),D=()=>{let{x:P,y:j}=pr.value;M([...t.dom.container.parentNode.elementsFromPoint(P|0,j|0)||[]].find(H=>h.has(H))||null)},L=P=>{(P.key==="Escape"||P.keyCode===27||P.which===27)&&t.inspectMode.set(!1)},N=()=>{e||(e=!0,document.addEventListener("scroll",x,Rt),document.addEventListener("keydown",L,!0),pr.subscribe(x),f=setInterval(x,500),t.dom.container.append(w),x(),t.inspectMode.set(!0))},T=()=>{e&&(e=!1,clearInterval(f),document.removeEventListener("scroll",x,Rt),document.removeEventListener("keydown",L,!0),pr.unsubscribe(x),F=!1,delete m.dataset.alt,w.remove(),w.replaceChildren(m),g.clear(),k(),t.inspectMode.set(!1))},C=P=>{if(s=P||null,P){let{innerWidth:j,innerHeight:H}=window,{left:W,top:X,width:q,height:K}=O.el.getBoundingClientRect();O.el.style.top=`${X}px`,O.el.style.left=`${W}px`,O.el.style.right=`${j-(W+q)}px`,O.el.style.bottom=`${H-(X+K)}px`,O.frozen=!0,requestAnimationFrame(()=>{M(g.get(P.node)?.el||null),clearTimeout(u),O.show(),O.freeze()}),delete m.dataset.alt}else F?t.inspectMode.set(!1):(d.clear(),nb(),k(),x())},k=()=>{r&&r.classList.remove("hovered"),r=null,o=null,s=null,O.hide()},M=P=>{if(P===r)return;if(r!==null&&r.classList.remove("hovered"),r=P,P===null){u=setTimeout(k,100);return}P.classList.add("hovered");let j=h.get(P)||null;if(j===null){o=null;return}o!==null&&j.view===o.view||(o=j,clearTimeout(u),O.show())},O=new t.view.Popup({className:"discovery-inspect-details-popup",position:"pointer",hideIfEventOutside:!1,hideOnResize:!1,render(P){let j=s||o,H=[],W=j;for(;W!==null&&(W.view||W.viewRoot);)W!==j&&s!==null&&d.add(W),H.unshift(W),W=W.parent;return t.view.render(P,{view:"context",modifiers:[rb(P,{selectTreeViewLeaf:C,detailsSidebarLeafExpanded:d})],content:{view:"context",modifiers:{view:"block",className:"toolbar",content:[{view:"toggle-group",className:"stack-view-chain",name:"view",data:".({ value: $ })",value:"=$[-1].value",toggleConfig:{className:[X=>X.value.viewRoot?"view-root":!1,X=>X.value.view&&X.value.view.skipped?"skipped":!1],content:['text:value | viewRoot.name or view.config.view | is string ?: "\u0192n"']}},{view:"button",when:s!==null,content:'text:"Close inspector"',onClick(){t.inspectMode.set(!1)}}]},content:[ob,{view:"block",className:["content","data-context"],content:[lb,{view:"block",className:"content-section context",data:"$[-1] | view or viewRoot",content:{view:"struct",expanded:1,data:"context"}}]}]}},H,{selectedView:s,host:t})}});t.action.define("startInspect",N),t.action.define("stopInspect",T),t.inspectMode.subscribeSync(P=>P?N():T());let F=!1}});var hs,cb=I(()=>{hs=(t,e)=>({demo:{view:t,text:"Button",onClick:Function('return () => alert("Hello world!")')()},examples:[{title:"Variations",demo:e.map(r=>`${r}{ text: "${r}" }`)},{title:"Disabled state",demo:e.map(r=>({view:r,disabled:!0,text:r}))},{title:"Complex content",demo:{view:"button",content:['text:"Example "',"pill-badge:123"]}},{title:"Button as a link",demo:{view:"button",text:"Click me",href:"#url",external:!0}},{title:"Using data as source of options",beforeDemo:{view:"md",source:["The following properties are taken from the data when the appropriate options are not specified for a legacy reasons (is subject to remove in the future):","- `text`","- `href`","- `external`"].join(`
`)},highlightProps:["data"],demo:{view:t,data:{text:"demo",href:"#example",external:!0}}}]})});function fb(t){function e(r,o,s,u){let{text:f,content:d,disabled:h,href:g,external:m,onClick:w}=o;if(r.classList.add("view-button"),h?r.disabled=!0:typeof w=="function"?(r.addEventListener("click",()=>w(r,s,u)),r.classList.add("onclick")):typeof g=="string"&&r.addEventListener("click",()=>{let x=$("a",{href:g,target:m?"_blank":""});t.dom.root.append(x),x.click(),x.remove()}),d)return t.view.render(r,d,s,u);r.textContent=f}t.view.define("button",e,{tag:"button",props:bl,usage:hs}),t.view.define("button-primary",e,{tag:"button",props:bl,usage:hs}),t.view.define("button-danger",e,{tag:"button",props:bl,usage:hs}),t.view.define("button-warning",e,{tag:"button",props:bl,usage:hs})}var bl,db=I(()=>{cb();ze();bl=`is not array? | {
    text: #.props has no 'content' ? is (string or number or boolean) ?: text,
    content: undefined,
    disabled: false,
    href,
    external,
    onClick: undefined
} | overrideProps()`});var pb,hb=I(()=>{pb={demo:{view:"checkbox-list",checkbox:{content:"text"},data:["one","two","three"]}}});function gb(t){t.view.define("checkbox-list",function(e,r,o,s){let{name:u="filter",checkbox:f,checkboxValue:d="$",emptyText:h,limit:g,onChange:m,onInit:w}=r,x=new Set;if(h!==!1&&h!==""&&e.setAttribute("emptyText",h||"Empty list"),!Array.isArray(o)&&o&&(o=[o]),Array.isArray(o))return t.view.renderList(e,this.composeConfig({view:"checkbox",...f,onInit:(D,L,N,T)=>{D&&x.add(t.query(d,N,T))},onChange:(D,L,N,T)=>{let C=x.size,k=t.query(d,N,T);D?x.add(k):x.delete(k),C!==x.size&&typeof m=="function"&&m([...x],u)}}),o,s,0,t.view.listLimit(g,25)).then(()=>{typeof w=="function"&&w([...x],u)})},{usage:pb})}var mb=I(()=>{hb()});var yb,vb=I(()=>{yb={demo:{view:"checkbox",content:'text:"checkbox caption"'},examples:[{title:"Checked state",beforeDemo:"Checked state is set up with `checked` property. Its value can be a query",demo:[{view:"checkbox",checked:!0,content:'text:"should be checked"'},{view:"checkbox",checked:"=1 > 5",content:`text:"shouldn't be checked"`},{view:"checkbox",checked:"=1 < 5",content:'text:"should be checked"'}]},{title:"Readonly checkbox",demo:{view:"checkbox",readonly:!0,content:'text:"checkbox caption"'}},{title:"On change",demo:{view:"checkbox",onChange:Function("return (value, name, data, context) => alert(`Changed to ${value}!`)")(),content:'text:"click me!"'}}]}});function wb(t){function e(r,o,s,u,f,d){if(r===null)return;let h=f?{...u,[f]:d.checked}:u;return r.innerHTML="",t.view.render(r,o,s,h)}t.view.define("checkbox",function(r,o,s,u){let{name:f,checked:d,readonly:h,content:g,onInit:m,onChange:w}=o,x=r.appendChild($("input")),D=g?r.appendChild($("span","view-checkbox__label")):null;return x.type="checkbox",x.checked=d,x.readOnly=h,x.addEventListener("click",L=>{h&&L.preventDefault()}),x.addEventListener("change",()=>{typeof w=="function"&&(w(x.checked,f,s,u),e(D,g,s,u,f,x))}),typeof m=="function"&&m(x.checked,f,s,u),e(D,g,s,u,f,x)},{tag:"label",props:tO,usage:yb})}var tO,bb=I(()=>{ze();vb();tO=`#.props | {
    name: undefined,
    checked: undefined,
    readonly: undefined,
    content: undefined,
    onInit: undefined,
    onChange: undefined
} | overrideProps() | {
    ...,
    checked is truthy,
    readonly is truthy
}`});var xb,kb=I(()=>{xb={demo:{view:"content-filter",data:["foo","bar","baz"],content:{view:"list",data:".[$ ~= #.filter]"}},examples:[{title:"Using with text-match",demo:{view:"content-filter",data:[{name:"foo"},{name:"bar"},{name:"baz"}],name:"customName",content:{view:"list",data:".[name ~= #.customName]",item:"text-match:{ text: name, match: #.customName }"}}}]}});function Cb(t){t.view.define("content-filter",function(e,r,o,s){let{name:u="filter",type:f="regexp",placeholder:d,content:h,onInit:g,onChange:m,debounce:w}=r;return t.view.render(e,{view:"context",modifiers:{view:"input",name:u,type:f,placeholder:d||"Filter",debounce:w},content:{view:"block",className:"content",content:h,onInit:g,onChange:m}},o,s)},{usage:xb})}var Ab=I(()=>{kb()});var Db,Sb=I(()=>{Db={demo:{view:"context",modifiers:{view:"dropdown",name:"demo",value:{foo:"two",bar:"hello"},resetValue:{foo:"one",bar:""},caption:"text:`${#.demo.foo} / ${#.demo.bar}`",content:[{view:"select",name:"foo",data:["one","two","three","four"]},{view:"input",name:"bar"}]},content:[{view:"block",content:'text:"Modified context (see values in \\"demo\\" section):"'},{view:"struct",expanded:1,data:"#"}]}}});function nO(t,e){if(!t||!e||typeof t!="object"||typeof e!="object")return t===e;for(let r in t)if(De(t,r)&&t[r]!==e[r])return!1;for(let r in e)if(De(e,r)&&t[r]!==e[r])return!1;return!0}function Eb(t){t.view.define("dropdown",function(e,r,o,s){function u(P,j){return typeof N=="function"?N(P,j):nO(P,j)}function f(){return O.innerHTML="",t.view.render(O,D||"text",o,{...s,[g||"__self"]:k})}function d(P){k=P,typeof C=="function"&&C(k,g,o,s),M.hide(),f()}function h(P,j){if(F){let H={changed:!u(P,j)};F.innerHTML="",t.view.render(F,[{view:"button-primary",disabled:"=not changed",content:'text:"Apply"',onClick(W,X,q){d(q)}},{view:"button",when:()=>m&&!u(m,k),content:'text:"Reset"',onClick(){d(m)}},{view:"button",disabled:"=not changed",content:'text:"Cancel"',onClick(){M.hide()}}],H,j)}}let{name:g,resetValue:m,value:w,placeholder:x,caption:D,content:L,compare:N,onInit:T,onChange:C}=r,k="value"in r?w:s[g],M=null,O=e.appendChild(document.createElement("div")),F;return x&&(e.dataset.placeholder=x),e.tabIndex=0,e.addEventListener("click",()=>{M===null&&(M=new t.view.Popup({className:"view-dropdown-popup"}));let P={...k},j;M.toggle(e,H=>t.view.render(H,[{view:"block",className:"content",content:t.view.composeConfig(L,{onInit(W,X){P[X]=W},onChange(W,X){P[X]=W,h(j,P)}})},{view:"block",className:"confirm",postRender(W){F=W}}],o,{...s,...k}).then(()=>{j={...P},h(j,P)}))}),O.className="view-dropdown__caption",typeof T=="function"&&T(k,g,o,s),f()},{usage:Db})}var Tb=I(()=>{it();Sb()});function rO(t,e){try{return new RegExp("((?:"+t+")+)",e)}catch{}return new RegExp("((?:"+t.replace(/[\[\]\(\)\?\+\*\{\}\\]/g,"\\$&")+")+)",e)}function vd(t,e="i"){return Object.assign(rO(t,e),{rawSource:t})}var wd=I(()=>{});var Mb,Lb,Fb=I(()=>{Mb=Function("return (value) => alert(`Changed to ${value}!`)")(),Lb={examples:[{title:"Input with value",demo:{view:"input",value:'"value"'}},{title:"Input with placeholder",demo:{view:"input",placeholder:"placeholder"}},{title:"Input type number with min and max",demo:{view:"input",htmlType:"number",htmlMin:10,htmlMax:20}},{title:"Input with onChange",demo:{view:"input",onChange:Mb}},{title:"Input with onChange debounced",demo:{view:"input",onChange:Mb,debounce:300}}]}});function Nb(t){let e={regexp:r=>r?vd(r):null,text:r=>r};t.view.define("input",function(r,o,s,u){let{name:f,value:d,type:h,placeholder:g,onInit:m,onChange:w,htmlType:x,htmlMin:D,htmlMax:L,htmlStep:N,debounce:T}=o,C=e[h]||e.text,k=r.appendChild(document.createElement("input")),M=d;Number.isFinite(D)&&(k.min=D),Number.isFinite(L)&&(k.max=L),Number.isFinite(N)&&(k.step=N),k.type=x,k.value=M,k.placeholder=[g||"",C!==e.text?"("+h+")":""].filter(Boolean).join(" "),k.addEventListener("input",_r(()=>{let O=k.value.trim();M!==O&&(M=O,typeof w=="function"&&w(C(O),f,s,u))},T)),typeof m=="function"&&m(C(k.value.trim()),f,s,u)},{usage:Lb,props:iO})}var iO,Ob=I(()=>{wd();ps();Fb();iO=`#.props | {
    name,
    value: $ has no 'value' and name is string ? #.context[name] : value | is (string or number) ?: '',
    type ?: 'text',
    placeholder,
    onInit,
    onChange,
    htmlType ?: 'text',
    htmlMin,
    htmlMax,
    htmlStep,
    debounce
}`});var oO,Pb,Ib=I(()=>{oO=Function("return (value) => alert(`Changed to ${value.text}!`)")(),Pb={demo:{view:"menu",data:[{text:"one",href:"#"},{text:"two",href:"#"},{text:"three",href:"#"}]},examples:[{title:"With limit",demo:{view:"menu",data:[{text:"one",href:"#"},{text:"two",href:"#"},{text:"three",href:"#"}],limit:2}},{title:"With custom item",demo:{view:"menu",data:[{text:"one",href:"#"},{text:"two",href:"#"},{text:"three",href:"#"}],item:"h1:text"}},{title:"On chage handler",demo:{view:"menu",onChange:oO,data:[{text:"one",href:"#"},{text:"two",href:"#"},{text:"three",href:"#"}]}}]}});function jb(t){t.view.define("menu",function(e,r,o,s){let{name:u="filter",item:f,itemConfig:d,limit:h,emptyText:g,onClick:m,onInit:w,onChange:x}=r;if(g!==!1&&g!==""&&e.setAttribute("emptyText",g||"No items"),Array.isArray(o)){let D=this.composeConfig({view:"menu-item",content:f,onClick:typeof m=="function"?m:typeof x=="function"?L=>x(L,u):void 0},d);return t.view.renderList(e,D,o,s,0,t.view.listLimit(h,25)).then(()=>{typeof w=="function"&&w(o.find(L=>L.selected),u)})}},{usage:Pb})}var Bb=I(()=>{Ib()});var zb,Rb=I(()=>{zb={demo:{view:"menu",data:[{text:"one",href:"#"},{text:"two",href:"#"},{text:"three",href:"#"}]},examples:[{title:"Preselected item",demo:{view:"menu",data:[{text:"one",href:"#"},{text:"two",href:"#",selected:!0},{text:"three",href:"#"}]}},{title:"Disabled item",demo:{view:"menu",data:[{text:"one",href:"#"},{text:"two",href:"#",disabled:!0},{text:"three",href:"#"}]}},{title:"External links",demo:{view:"menu",data:[{text:"one",external:!0,href:"https://github.com/discoveryjs/discovery"},{text:"two",external:!0,href:"https://github.com/discoveryjs/discovery"},{text:"three",external:!0,href:"https://github.com/discoveryjs/discovery"}]}}]}});function Hb(t){t.view.define("menu-item",function(e,r,o,s){let{content:u,onClick:f}=r,{text:d,selected:h=!1,disabled:g=!1,href:m,external:w}=o||{};if(g?e.classList.add("disabled"):typeof f=="function"?(e.addEventListener("click",()=>f(o,s)),e.classList.add("onclick")):m&&(e.href=m,e.target=w?"_blank":""),h&&e.classList.add("selected"),u)return t.view.render(e,u,o,s);e.textContent=typeof o=="string"?o:d||"Untitled item"},{tag:"a",usage:zb})}var qb=I(()=>{Rb()});var sO,_b,Wb=I(()=>{sO=()=>alert("changed!"),_b={demo:{view:"nav-button",data:{text:"I am nav button"}},examples:[{title:"With href",demo:{view:"nav-button",data:{text:"I am nav button",href:"#"}}},{title:"External link",demo:{view:"nav-button",data:{text:"I am nav button",external:!0,href:"https://github.com/discoveryjs/discovery"}}},{title:"On click handler",demo:{view:"nav-button",data:{text:"I am nav button"},onClick:sO}}]}});function $b(t){t.view.define("nav-button",function(e,r,o,s){let{name:u,text:f,content:d,disabled:h,href:g,external:m,onClick:w}=r;if(u&&(e.dataset.name=u),h?e.classList.add("disabled"):typeof w=="function"?(e.addEventListener("click",x=>w(e,o,s,x)),e.classList.add("onclick")):g&&(e.href=g,e.target=m?"_blank":""),d)return t.view.render(e,d,o,s);e.textContent=f},{tag:"a",props:aO,usage:_b})}var aO,Vb=I(()=>{Wb();aO=`is not array? | {
    name: undefined,
    text: #.props has no 'content' ? is (string or number or boolean) ?: text,
    content: undefined,
    disabled: false,
    href,
    external,
    onClick: undefined
} | overrideProps()`});var Ub,Gb=I(()=>{Ub={demo:{view:"progress",progress:.5,content:'text:"Loading..."'},examples:[{title:"With no label (content)",demo:{view:"progress",progress:.25}},{title:"Custom color",demo:{view:"progress",progress:.85,color:"#bdab77",content:'text:"Yellow progress"'}}]}});function Yb(t){t.view.define("progress",function(e,r,o,s){let{content:u,progress:f,color:d}=r;if(e.append($("div",{class:"progress",style:`--progress: ${Math.max(0,Math.min(1,Number(f)))};--color: ${d||"unset"};`})),u){let h=$("div","content");return e.prepend(h),t.view.render(h,u,o,s)}},{usage:Ub})}var Qb=I(()=>{ze();Gb()});var lO,Kb,Jb=I(()=>{lO=Function("return (value) => alert(`Changed to ${value}!`)")(),Kb={demo:{view:"select",data:["one","two","three","four"]},examples:[{title:"Select with value",demo:{view:"select",value:'"three"',data:["one","two","three","four"]}},{title:"Select with reset option",demo:{view:"select",resetItem:!0,value:'"three"',data:["one","two","three","four"]}},{title:"Select with placeholder",demo:{view:"select",placeholder:"placeholder",data:["one","two","three","four"]}},{title:"Select with onChange",demo:{view:"select",onChange:lO,data:["one","two","three","four"]}},{title:"Select with custom options",demo:{view:"select",item:"h1:text",data:["one","two","three","four"]}}]}});function Zb(t){let e="text-match:{ text, match: #.filter }",r="{ value: $, text: #.selectVariantTextQuery.query($, #) }",o=new t.view.Popup({className:"view-select-popup"});t.view.define("select",function(s,u,f,d){function h(){if(s.innerHTML="",P!==void 0)return t.view.render(s,t.view.composeConfig({view:"menu-item",data:r,content:T},C),P,j)}let{name:g,value:m,text:w="$",placeholder:x,limit:D,minItemsFilter:L=10,resetItem:N=!1,item:T=e,itemConfig:C,beforeItems:k,afterItems:M,onInit:O,onChange:F}=u,P=m?t.query(m,f,d):d[g],j={...d,selectMinItemsFilter:L,selectCurrentValue:P,selectVariantTextQuery:w,selectResetItem:N?[{value:void 0,text:"",...N,resetItem:!0}]:[]},H=[];return k&&H.push(t.view.composeConfig(k,{onInit:O,onChange:F})),H.push({view:"context",data:`.(${r})`,modifiers:{view:"input",when:"size() >= #.selectMinItemsFilter",type:"regexp",name:"filter",className:"view-select__filter",placeholder:"Filter"},content:{view:"menu",className:"view-select__variants",data:"#.selectResetItem + .[no #.filter or text~=#.filter]",limit:D,itemConfig:t.view.composeConfig({className:[W=>W.resetItem?"reset-item":"",W=>W.value===P?"selected":""]},C),item:T,onClick(W){o.hide(),P!==W.value&&(P=W.value,j={...j,selectCurrentValue:P},h(),typeof F=="function"&&F(W.value,g,W,d))}}}),M&&H.push(t.view.composeConfig(M,{onInit:O,onChange:F})),x&&(s.dataset.placeholder=x),s.tabIndex=0,s.addEventListener("click",()=>{o.toggle(s,W=>t.view.render(W,H,f,j).then(()=>(W.querySelector(".view-select__filter input")||{focus(){}}).focus()))}),typeof O=="function"&&O(P,g,f,d),h()},{usage:Kb})}var Xb=I(()=>{Jb()});var ex,tx=I(()=>{ex={demo:{view:"tabs",name:"tabs",value:"two",tabs:[{value:"one",text:"One"},{value:"two",text:"Two"},{value:"three",text:"Three"}],content:{view:"switch",content:[{when:'#.tabs="one"',content:'text:"One"'},{when:'#.tabs="two"',content:'text:"Two"'},{when:'#.tabs="three"',content:'text:"Three"'}]}},examples:[{title:"Value is default text",demo:{view:"tabs",name:"tabsValue",tabs:["foo","bar","baz"],content:"struct:#.tabsValue"}},{title:"With before and after content",demo:{view:"tabs",name:"example",tabs:[{value:"one",text:"One"},{value:"two",text:"Two"},{value:"three",text:"Three"}],beforeTabs:'text:"<Content before tabs>"',afterTabs:'text:"<Content after tabs>"',content:'text:"Selected: " + #.example'}},{title:"On change handler",demo:{view:"tabs",tabs:[{value:"one",text:"One"},{value:"two",text:"Two"},{value:"three",text:"Three"}],onChange:Function('return (value) => alert("changed to " + value)')(),content:'text:"Selected: " + #.filter'}}]}});function nx(t){t.view.define("tabs",function(e,r,o,s){async function u(F){let P=M?m:g;if(O===F)return;let j=d||h||f?{...s,[w]:F}:null;O=F,M=!0,Array.isArray(D)&&(N.innerHTML="",d&&(C.innerHTML="",await t.view.render(C,d,o,j),N.appendChild(C)),await Promise.all(D.map(H=>t.view.render(N,t.view.composeConfig(H,{active:H.value===O}),o,s))),h&&(k.innerHTML="",await t.view.render(k,h,o,j),N.appendChild(k))),f&&(T.innerHTML="",await t.view.render(T,f,o,j)),typeof P=="function"&&P(O,w,o,s)}let{content:f,beforeTabs:d,afterTabs:h,onInit:g,onChange:m}=r,{name:w,value:x,tabs:D,tabConfig:L}=r,N=e.appendChild(document.createElement("div")),T=null,C=null,k=null,M=!1,O=NaN;return L=t.view.composeConfig({view:"tab",onClick:u},L),N.className="view-tabs-buttons",d&&(C=document.createElement("div"),C.className="view-tabs-buttons-before"),h&&(k=document.createElement("div"),k.className="view-tabs-buttons-after"),f&&(T=e.appendChild(document.createElement("div")),T.className="view-tabs-content"),Array.isArray(D)?D=D.map(F=>{let P=typeof F;return(P==="string"||P==="number"||P==="boolean")&&(F={value:F}),(x===void 0||F.active)&&(x=F.value),t.view.composeConfig(L,F)}):D=[],u(x)},{usage:ex,props:uO})}var uO,rx=I(()=>{tx();uO=`undefined | {
    name,
    value,
    tabs,
    tabConfig,
    content,
    beforeTabs,
    afterTabs,
    onInit,
    onChange
} | overrideProps() | {
    ...,
    name is string ?: 'filter',
    value: value is not undefined ? value :
        name is string and name in #.context ? #.context[name]
}`});var bd,ix,ox=I(()=>{bd=()=>alert("clicked!"),ix={demo:{view:"tabs",name:"tabs",tabs:[{value:"one",text:"One"},{value:"two",text:"Two"},{value:"three",text:"Three"}],content:{view:"switch",content:[{when:'#.tabs="one"',content:'text:"One"'},{when:'#.tabs="two"',content:'text:"Two"'},{when:'#.tabs="three"',content:'text:"Three"'}]}},examples:[{title:"Active & disabled tab",demo:{view:"tabs",name:"tabs",tabs:[{value:"one",text:"One"},{value:"two",text:"Two",active:!0},{value:"three",text:"Three",disabled:!0}],content:{view:"switch",content:[{when:'#.tabs="one"',content:'text:"One"'},{when:'#.tabs="two"',content:'text:"Two"'},{when:'#.tabs="three"',content:'text:"Three"'}]}}},{title:"On click handler",demo:{view:"tabs",name:"tabs",tabs:[{value:"one",text:"One",onClick:bd},{value:"two",text:"Two",onClick:bd},{value:"three",text:"Three",onClick:bd}],content:{view:"switch",content:[{when:'#.tabs="one"',content:'text:"One"'},{when:'#.tabs="two"',content:'text:"Two"'},{when:'#.tabs="three"',content:'text:"Three"'}]}}}]}});function sx(t){t.view.define("tab",function(e,r,o,s){let{value:u,text:f,content:d,active:h,disabled:g,onClick:m}=r;if(g?e.classList.add("disabled"):typeof m=="function"&&(e.addEventListener("click",()=>m(u)),e.classList.add("onclick")),h&&e.classList.add("active"),d)return t.view.render(e,d,o,s);e.textContent=String(f)},{usage:ix,props:cO})}var cO,ax=I(()=>{ox();cO=`is not array? | {
    value,
    text: #.props has no 'content' ? is (string or number or boolean) ?,
    content: undefined,
    active: undefined,
    disabled: undefined,
    onClick: undefined
} | overrideProps() | {
    ...,
    text: text is not undefined ? text : value,
    active is truthy,
    disabled is truthy
}`});var xl,xd=I(()=>{xl={demo:{view:"context",modifiers:{view:"toggle-group",name:"toggleValue",data:[{value:"one",text:"One"},{value:"two",text:"Two"},{value:"three",text:"Three"}]},content:{view:"switch",content:[{when:'#.toggleValue="one"',content:'text:"One"'},{when:'#.toggleValue="two"',content:'text:"Two"'},{when:'#.toggleValue="three"',content:'text:"Three"'}]}},examples:[{title:"With before and after content",demo:{view:"toggle-group",data:[{value:"one",text:"One"},{value:"two",text:"Two"},{value:"three",text:"Three"}],beforeToggles:'text:"<Content before toggles>"',afterToggles:'text:"<Content after toggles>"'}},{title:"On change handler",demo:{view:"toggle-group",name:"example",onChange:Function('return (value) => alert("changed to " + value)')(),data:[{value:"one",text:"One"},{value:"two",text:"Two"},{value:"three",text:"Three"}]}}]}});function lx(t){t.view.define("toggle",function(e,r,o,s){let{content:u,disabled:f=!1,onToggle:d,value:h,text:g=String(h).replace(/^./,w=>w.toUpperCase())}=r,{checked:m=!1}=r;if(f?e.classList.add("disabled"):typeof d=="function"&&(e.addEventListener("click",()=>{m=!m,d(m,h)}),e.classList.add("onclick")),m&&e.classList.add("checked"),u)return t.view.render(e,u,o,s);e.textContent=g},{usage:xl})}var ux=I(()=>{xd()});function cx(t){t.view.define("toggle-group",function(e,r,o,s){async function u(k,M){let O=N?g:h;T!==M&&(T=M,N=!0,Array.isArray(x)&&(e.innerHTML="",f&&(D.innerHTML="",await t.view.render(D,f,o,{...s,[m]:M}),e.appendChild(D)),d&&(L.innerHTML="",await t.view.render(L,d,o,{...s,[m]:M}),e.appendChild(L)),await Promise.all(x.map((F,P)=>t.view.render(e,t.view.composeConfig(F,{checked:F.value===T}),o[P],s)))),typeof O=="function"&&O(T,m,o,s))}let{beforeToggles:f,afterToggles:d,onInit:h,onChange:g}=r,{name:m,toggleConfig:w}=r,x=[],D=null,L=null,N=!1,T=NaN,C="value"in r?r.value:m in s?s[m]:void 0;return w=t.view.composeConfig({view:"toggle",onToggle:u},w),f&&(D=document.createElement("div"),D.className="view-toggle-group-before"),d&&(L=document.createElement("div"),L.className="view-toggle-group-after"),typeof m!="string"&&(m="filter"),Array.isArray(o)&&(x=o.map(k=>{let M=typeof k;return(M==="string"||M==="number"||M==="boolean")&&(k={value:k}),(C===void 0||k.active)&&(C=k.value),t.view.composeConfig(w,k)})),u(!0,C)},{usage:xl})}var fx=I(()=>{xd()});function Ve(t){return t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function yt(t,e=!0){let r=e&&typeof t!="number"?Ve(String(t)):String(t);return r.length>3?r.replace(fO,o=>o||'<span class="num-delim"></span>'):r}var fO,$t=I(()=>{fO=/\.\d+(?:eE[-+]?\d+)?|\B(?=(?:\d{3})+(?:\D|$))/g});var bn=bt((kd,Cd)=>{(function(t,e){typeof kd=="object"&&typeof Cd<"u"?Cd.exports=e():typeof define=="function"&&define.amd?define(e):(t=t||self,t.CodeMirror=e())})(kd,function(){"use strict";var t=navigator.userAgent,e=navigator.platform,r=/gecko\/\d/i.test(t),o=/MSIE \d/.test(t),s=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(t),u=/Edge\/(\d+)/.exec(t),f=o||s||u,d=f&&(o?document.documentMode||6:+(u||s)[1]),h=!u&&/WebKit\//.test(t),g=h&&/Qt\/\d+\.\d+/.test(t),m=!u&&/Chrome\/(\d+)/.exec(t),w=m&&+m[1],x=/Opera\//.test(t),D=/Apple Computer/.test(navigator.vendor),L=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(t),N=/PhantomJS/.test(t),T=D&&(/Mobile\/\w+/.test(t)||navigator.maxTouchPoints>2),C=/Android/.test(t),k=T||C||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(t),M=T||/Mac/.test(e),O=/\bCrOS\b/.test(t),F=/win/i.test(e),P=x&&t.match(/Version\/(\d*\.\d*)/);P&&(P=Number(P[1])),P&&P>=15&&(x=!1,h=!0);var j=M&&(g||x&&(P==null||P<12.11)),H=r||f&&d>=9;function W(n){return new RegExp("(^|\\s)"+n+"(?:$|\\s)\\s*")}var X=function(n,i){var l=n.className,a=W(i).exec(l);if(a){var c=l.slice(a.index+a[0].length);n.className=l.slice(0,a.index)+(c?a[1]+c:"")}};function q(n){for(var i=n.childNodes.length;i>0;--i)n.removeChild(n.firstChild);return n}function K(n,i){return q(n).appendChild(i)}function E(n,i,l,a){var c=document.createElement(n);if(l&&(c.className=l),a&&(c.style.cssText=a),typeof i=="string")c.appendChild(document.createTextNode(i));else if(i)for(var p=0;p<i.length;++p)c.appendChild(i[p]);return c}function Y(n,i,l,a){var c=E(n,i,l,a);return c.setAttribute("role","presentation"),c}var G;document.createRange?G=function(n,i,l,a){var c=document.createRange();return c.setEnd(a||n,l),c.setStart(n,i),c}:G=function(n,i,l){var a=document.body.createTextRange();try{a.moveToElementText(n.parentNode)}catch{return a}return a.collapse(!0),a.moveEnd("character",l),a.moveStart("character",i),a};function fe(n,i){if(i.nodeType==3&&(i=i.parentNode),n.contains)return n.contains(i);do if(i.nodeType==11&&(i=i.host),i==n)return!0;while(i=i.parentNode)}function ke(n){var i=n.ownerDocument||n,l;try{l=n.activeElement}catch{l=i.body||null}for(;l&&l.shadowRoot&&l.shadowRoot.activeElement;)l=l.shadowRoot.activeElement;return l}function Ie(n,i){var l=n.className;W(i).test(l)||(n.className+=(l?" ":"")+i)}function Ye(n,i){for(var l=n.split(" "),a=0;a<l.length;a++)l[a]&&!W(l[a]).test(i)&&(i+=" "+l[a]);return i}var Je=function(n){n.select()};T?Je=function(n){n.selectionStart=0,n.selectionEnd=n.value.length}:f&&(Je=function(n){try{n.select()}catch{}});function Ze(n){return n.display.wrapper.ownerDocument}function vt(n){return Re(n.display.wrapper)}function Re(n){return n.getRootNode?n.getRootNode():n.ownerDocument}function Ee(n){return Ze(n).defaultView}function Ce(n){var i=Array.prototype.slice.call(arguments,1);return function(){return n.apply(null,i)}}function Te(n,i,l){i||(i={});for(var a in n)n.hasOwnProperty(a)&&(l!==!1||!i.hasOwnProperty(a))&&(i[a]=n[a]);return i}function Pe(n,i,l,a,c){i==null&&(i=n.search(/[^\s\u00a0]/),i==-1&&(i=n.length));for(var p=a||0,y=c||0;;){var v=n.indexOf("	",p);if(v<0||v>=i)return y+(i-p);y+=v-p,y+=l-y%l,p=v+1}}var Me=function(){this.id=null,this.f=null,this.time=0,this.handler=Ce(this.onTimeout,this)};Me.prototype.onTimeout=function(n){n.id=0,n.time<=+new Date?n.f():setTimeout(n.handler,n.time-+new Date)},Me.prototype.set=function(n,i){this.f=i;var l=+new Date+n;(!this.id||l<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,n),this.time=l)};function ye(n,i){for(var l=0;l<n.length;++l)if(n[l]==i)return l;return-1}var ut=50,te={toString:function(){return"CodeMirror.Pass"}},de={scroll:!1},pe={origin:"*mouse"},se={origin:"+move"};function we(n,i,l){for(var a=0,c=0;;){var p=n.indexOf("	",a);p==-1&&(p=n.length);var y=p-a;if(p==n.length||c+y>=i)return a+Math.min(y,i-c);if(c+=p-a,c+=l-c%l,a=p+1,c>=i)return a}}var Fe=[""];function Be(n){for(;Fe.length<=n;)Fe.push(ge(Fe)+" ");return Fe[n]}function ge(n){return n[n.length-1]}function Ae(n,i){for(var l=[],a=0;a<n.length;a++)l[a]=i(n[a],a);return l}function U(n,i,l){for(var a=0,c=l(i);a<n.length&&l(n[a])<=c;)a++;n.splice(a,0,i)}function re(){}function J(n,i){var l;return Object.create?l=Object.create(n):(re.prototype=n,l=new re),i&&Te(i,l),l}var Oe=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function ot(n){return/\w/.test(n)||n>"\x80"&&(n.toUpperCase()!=n.toLowerCase()||Oe.test(n))}function Ln(n,i){return i?i.source.indexOf("\\w")>-1&&ot(n)?!0:i.test(n):ot(n)}function Ls(n){for(var i in n)if(n.hasOwnProperty(i)&&n[i])return!1;return!0}var Fn=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function st(n){return n.charCodeAt(0)>=768&&Fn.test(n)}function Un(n,i,l){for(;(l<0?i>0:i<n.length)&&st(n.charAt(i));)i+=l;return i}function Cn(n,i,l){for(var a=i>l?-1:1;;){if(i==l)return i;var c=(i+l)/2,p=a<0?Math.ceil(c):Math.floor(c);if(p==i)return n(p)?i:l;n(p)?l=p:i=p+a}}function Gn(n,i,l,a){if(!n)return a(i,l,"ltr",0);for(var c=!1,p=0;p<n.length;++p){var y=n[p];(y.from<l&&y.to>i||i==l&&y.to==i)&&(a(Math.max(y.from,i),Math.min(y.to,l),y.level==1?"rtl":"ltr",p),c=!0)}c||a(i,l,"ltr")}var mr=null;function Yn(n,i,l){var a;mr=null;for(var c=0;c<n.length;++c){var p=n[c];if(p.from<i&&p.to>i)return c;p.to==i&&(p.from!=p.to&&l=="before"?a=c:mr=c),p.from==i&&(p.from!=p.to&&l!="before"?a=c:mr=c)}return a??mr}var Jl=function(){var n="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",i="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function l(A){return A<=247?n.charAt(A):1424<=A&&A<=1524?"R":1536<=A&&A<=1785?i.charAt(A-1536):1774<=A&&A<=2220?"r":8192<=A&&A<=8203?"w":A==8204?"b":"L"}var a=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,c=/[stwN]/,p=/[LRr]/,y=/[Lb1n]/,v=/[1n]/;function b(A,B,R){this.level=A,this.from=B,this.to=R}return function(A,B){var R=B=="ltr"?"L":"R";if(A.length==0||B=="ltr"&&!a.test(A))return!1;for(var V=A.length,_=[],Z=0;Z<V;++Z)_.push(l(A.charCodeAt(Z)));for(var ne=0,oe=R;ne<V;++ne){var ae=_[ne];ae=="m"?_[ne]=oe:oe=ae}for(var ce=0,le=R;ce<V;++ce){var he=_[ce];he=="1"&&le=="r"?_[ce]="n":p.test(he)&&(le=he,he=="r"&&(_[ce]="R"))}for(var xe=1,ve=_[0];xe<V-1;++xe){var Ne=_[xe];Ne=="+"&&ve=="1"&&_[xe+1]=="1"?_[xe]="1":Ne==","&&ve==_[xe+1]&&(ve=="1"||ve=="n")&&(_[xe]=ve),ve=Ne}for(var $e=0;$e<V;++$e){var gt=_[$e];if(gt==",")_[$e]="N";else if(gt=="%"){var Ke=void 0;for(Ke=$e+1;Ke<V&&_[Ke]=="%";++Ke);for(var zt=$e&&_[$e-1]=="!"||Ke<V&&_[Ke]=="1"?"1":"N",Ot=$e;Ot<Ke;++Ot)_[Ot]=zt;$e=Ke-1}}for(var at=0,Pt=R;at<V;++at){var wt=_[at];Pt=="L"&&wt=="1"?_[at]="L":p.test(wt)&&(Pt=wt)}for(var ct=0;ct<V;++ct)if(c.test(_[ct])){var lt=void 0;for(lt=ct+1;lt<V&&c.test(_[lt]);++lt);for(var nt=(ct?_[ct-1]:R)=="L",It=(lt<V?_[lt]:R)=="L",ki=nt==It?nt?"L":"R":R,ar=ct;ar<lt;++ar)_[ar]=ki;ct=lt-1}for(var At=[],Tn,mt=0;mt<V;)if(y.test(_[mt])){var Vu=mt;for(++mt;mt<V&&y.test(_[mt]);++mt);At.push(new b(0,Vu,mt))}else{var Rn=mt,Sr=At.length,Er=B=="rtl"?1:0;for(++mt;mt<V&&_[mt]!="L";++mt);for(var St=Rn;St<mt;)if(v.test(_[St])){Rn<St&&(At.splice(Sr,0,new b(1,Rn,St)),Sr+=Er);var Ci=St;for(++St;St<mt&&v.test(_[St]);++St);At.splice(Sr,0,new b(2,Ci,St)),Sr+=Er,Rn=St}else++St;Rn<mt&&At.splice(Sr,0,new b(1,Rn,mt))}return B=="ltr"&&(At[0].level==1&&(Tn=A.match(/^\s+/))&&(At[0].from=Tn[0].length,At.unshift(new b(0,0,Tn[0].length))),ge(At).level==1&&(Tn=A.match(/\s+$/))&&(ge(At).to-=Tn[0].length,At.push(new b(0,V-Tn[0].length,V)))),B=="rtl"?At.reverse():At}}();function je(n,i){var l=n.order;return l==null&&(l=n.order=Jl(n.text,i)),l}var Fs=[],be=function(n,i,l){if(n.addEventListener)n.addEventListener(i,l,!1);else if(n.attachEvent)n.attachEvent("on"+i,l);else{var a=n._handlers||(n._handlers={});a[i]=(a[i]||Fs).concat(l)}};function Nn(n,i){return n._handlers&&n._handlers[i]||Fs}function xt(n,i,l){if(n.removeEventListener)n.removeEventListener(i,l,!1);else if(n.detachEvent)n.detachEvent("on"+i,l);else{var a=n._handlers,c=a&&a[i];if(c){var p=ye(c,l);p>-1&&(a[i]=c.slice(0,p).concat(c.slice(p+1)))}}}function Xe(n,i){var l=Nn(n,i);if(l.length)for(var a=Array.prototype.slice.call(arguments,2),c=0;c<l.length;++c)l[c].apply(null,a)}function et(n,i,l){return typeof i=="string"&&(i={type:i,preventDefault:function(){this.defaultPrevented=!0}}),Xe(n,l||i.type,n,i),Mt(i)||i.codemirrorIgnore}function en(n){var i=n._handlers&&n._handlers.cursorActivity;if(i)for(var l=n.curOp.cursorActivityHandlers||(n.curOp.cursorActivityHandlers=[]),a=0;a<i.length;++a)ye(l,i[a])==-1&&l.push(i[a])}function jt(n,i){return Nn(n,i).length>0}function ln(n){n.prototype.on=function(i,l){be(this,i,l)},n.prototype.off=function(i,l){xt(this,i,l)}}function kt(n){n.preventDefault?n.preventDefault():n.returnValue=!1}function Jr(n){n.stopPropagation?n.stopPropagation():n.cancelBubble=!0}function Mt(n){return n.defaultPrevented!=null?n.defaultPrevented:n.returnValue==!1}function Qn(n){kt(n),Jr(n)}function ro(n){return n.target||n.srcElement}function un(n){var i=n.which;return i==null&&(n.button&1?i=1:n.button&2?i=3:n.button&4&&(i=2)),M&&n.ctrlKey&&i==1&&(i=3),i}var Zl=function(){if(f&&d<9)return!1;var n=E("div");return"draggable"in n||"dragDrop"in n}(),Zr;function Ns(n){if(Zr==null){var i=E("span","\u200B");K(n,E("span",[i,document.createTextNode("x")])),n.firstChild.offsetHeight!=0&&(Zr=i.offsetWidth<=1&&i.offsetHeight>2&&!(f&&d<8))}var l=Zr?E("span","\u200B"):E("span","\xA0",null,"display: inline-block; width: 1px; margin-right: -1px");return l.setAttribute("cm-text",""),l}var io;function Kn(n){if(io!=null)return io;var i=K(n,document.createTextNode("A\u062EA")),l=G(i,0,1).getBoundingClientRect(),a=G(i,1,2).getBoundingClientRect();return q(n),!l||l.left==l.right?!1:io=a.right-l.right<3}var tn=`

b`.split(/\n/).length!=3?function(n){for(var i=0,l=[],a=n.length;i<=a;){var c=n.indexOf(`
`,i);c==-1&&(c=n.length);var p=n.slice(i,n.charAt(c-1)=="\r"?c-1:c),y=p.indexOf("\r");y!=-1?(l.push(p.slice(0,y)),i+=y+1):(l.push(p),i=c+1)}return l}:function(n){return n.split(/\r\n?|\n/)},Jn=window.getSelection?function(n){try{return n.selectionStart!=n.selectionEnd}catch{return!1}}:function(n){var i;try{i=n.ownerDocument.selection.createRange()}catch{}return!i||i.parentElement()!=n?!1:i.compareEndPoints("StartToEnd",i)!=0},Os=function(){var n=E("div");return"oncopy"in n?!0:(n.setAttribute("oncopy","return;"),typeof n.oncopy=="function")}(),cn=null;function Xl(n){if(cn!=null)return cn;var i=K(n,E("span","x")),l=i.getBoundingClientRect(),a=G(i,0,1).getBoundingClientRect();return cn=Math.abs(l.left-a.left)>1}var Xr={},fn={};function dn(n,i){arguments.length>2&&(i.dependencies=Array.prototype.slice.call(arguments,2)),Xr[n]=i}function yr(n,i){fn[n]=i}function ei(n){if(typeof n=="string"&&fn.hasOwnProperty(n))n=fn[n];else if(n&&typeof n.name=="string"&&fn.hasOwnProperty(n.name)){var i=fn[n.name];typeof i=="string"&&(i={name:i}),n=J(i,n),n.name=i.name}else{if(typeof n=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(n))return ei("application/xml");if(typeof n=="string"&&/^[\w\-]+\/[\w\-]+\+json$/.test(n))return ei("application/json")}return typeof n=="string"?{name:n}:n||{name:"null"}}function ti(n,i){i=ei(i);var l=Xr[i.name];if(!l)return ti(n,"text/plain");var a=l(n,i);if(Zn.hasOwnProperty(i.name)){var c=Zn[i.name];for(var p in c)c.hasOwnProperty(p)&&(a.hasOwnProperty(p)&&(a["_"+p]=a[p]),a[p]=c[p])}if(a.name=i.name,i.helperType&&(a.helperType=i.helperType),i.modeProps)for(var y in i.modeProps)a[y]=i.modeProps[y];return a}var Zn={};function ni(n,i){var l=Zn.hasOwnProperty(n)?Zn[n]:Zn[n]={};Te(i,l)}function An(n,i){if(i===!0)return i;if(n.copyState)return n.copyState(i);var l={};for(var a in i){var c=i[a];c instanceof Array&&(c=c.concat([])),l[a]=c}return l}function oo(n,i){for(var l;n.innerMode&&(l=n.innerMode(i),!(!l||l.mode==n));)i=l.state,n=l.mode;return l||{mode:n,state:i}}function ri(n,i,l){return n.startState?n.startState(i,l):!0}var tt=function(n,i,l){this.pos=this.start=0,this.string=n,this.tabSize=i||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=l};tt.prototype.eol=function(){return this.pos>=this.string.length},tt.prototype.sol=function(){return this.pos==this.lineStart},tt.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},tt.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},tt.prototype.eat=function(n){var i=this.string.charAt(this.pos),l;if(typeof n=="string"?l=i==n:l=i&&(n.test?n.test(i):n(i)),l)return++this.pos,i},tt.prototype.eatWhile=function(n){for(var i=this.pos;this.eat(n););return this.pos>i},tt.prototype.eatSpace=function(){for(var n=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>n},tt.prototype.skipToEnd=function(){this.pos=this.string.length},tt.prototype.skipTo=function(n){var i=this.string.indexOf(n,this.pos);if(i>-1)return this.pos=i,!0},tt.prototype.backUp=function(n){this.pos-=n},tt.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=Pe(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?Pe(this.string,this.lineStart,this.tabSize):0)},tt.prototype.indentation=function(){return Pe(this.string,null,this.tabSize)-(this.lineStart?Pe(this.string,this.lineStart,this.tabSize):0)},tt.prototype.match=function(n,i,l){if(typeof n=="string"){var a=function(y){return l?y.toLowerCase():y},c=this.string.substr(this.pos,n.length);if(a(c)==a(n))return i!==!1&&(this.pos+=n.length),!0}else{var p=this.string.slice(this.pos).match(n);return p&&p.index>0?null:(p&&i!==!1&&(this.pos+=p[0].length),p)}},tt.prototype.current=function(){return this.string.slice(this.start,this.pos)},tt.prototype.hideFirstChars=function(n,i){this.lineStart+=n;try{return i()}finally{this.lineStart-=n}},tt.prototype.lookAhead=function(n){var i=this.lineOracle;return i&&i.lookAhead(n)},tt.prototype.baseToken=function(){var n=this.lineOracle;return n&&n.baseToken(this.pos)};function me(n,i){if(i-=n.first,i<0||i>=n.size)throw new Error("There is no line "+(i+n.first)+" in the document.");for(var l=n;!l.lines;)for(var a=0;;++a){var c=l.children[a],p=c.chunkSize();if(i<p){l=c;break}i-=p}return l.lines[i]}function On(n,i,l){var a=[],c=i.line;return n.iter(i.line,l.line+1,function(p){var y=p.text;c==l.line&&(y=y.slice(0,l.ch)),c==i.line&&(y=y.slice(i.ch)),a.push(y),++c}),a}function so(n,i,l){var a=[];return n.iter(i,l,function(c){a.push(c.text)}),a}function Yt(n,i){var l=i-n.height;if(l)for(var a=n;a;a=a.parent)a.height+=l}function S(n){if(n.parent==null)return null;for(var i=n.parent,l=ye(i.lines,n),a=i.parent;a;i=a,a=a.parent)for(var c=0;a.children[c]!=i;++c)l+=a.children[c].chunkSize();return l+i.first}function z(n,i){var l=n.first;e:do{for(var a=0;a<n.children.length;++a){var c=n.children[a],p=c.height;if(i<p){n=c;continue e}i-=p,l+=c.chunkSize()}return l}while(!n.lines);for(var y=0;y<n.lines.length;++y){var v=n.lines[y],b=v.height;if(i<b)break;i-=b}return l+y}function ee(n,i){return i>=n.first&&i<n.first+n.size}function ie(n,i){return String(n.lineNumberFormatter(i+n.firstLineNumber))}function Q(n,i,l){if(l===void 0&&(l=null),!(this instanceof Q))return new Q(n,i,l);this.line=n,this.ch=i,this.sticky=l}function ue(n,i){return n.line-i.line||n.ch-i.ch}function He(n,i){return n.sticky==i.sticky&&ue(n,i)==0}function ft(n){return Q(n.line,n.ch)}function Lt(n,i){return ue(n,i)<0?i:n}function ii(n,i){return ue(n,i)<0?n:i}function Rp(n,i){return Math.max(n.first,Math.min(i,n.first+n.size-1))}function Le(n,i){if(i.line<n.first)return Q(n.first,0);var l=n.first+n.size-1;return i.line>l?Q(l,me(n,l).text.length):$A(i,me(n,i.line).text.length)}function $A(n,i){var l=n.ch;return l==null||l>i?Q(n.line,i):l<0?Q(n.line,0):n}function Hp(n,i){for(var l=[],a=0;a<i.length;a++)l[a]=Le(n,i[a]);return l}var Ps=function(n,i){this.state=n,this.lookAhead=i},Dn=function(n,i,l,a){this.state=i,this.doc=n,this.line=l,this.maxLookAhead=a||0,this.baseTokens=null,this.baseTokenPos=1};Dn.prototype.lookAhead=function(n){var i=this.doc.getLine(this.line+n);return i!=null&&n>this.maxLookAhead&&(this.maxLookAhead=n),i},Dn.prototype.baseToken=function(n){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=n;)this.baseTokenPos+=2;var i=this.baseTokens[this.baseTokenPos+1];return{type:i&&i.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-n}},Dn.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},Dn.fromSaved=function(n,i,l){return i instanceof Ps?new Dn(n,An(n.mode,i.state),l,i.lookAhead):new Dn(n,An(n.mode,i),l)},Dn.prototype.save=function(n){var i=n!==!1?An(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new Ps(i,this.maxLookAhead):i};function qp(n,i,l,a){var c=[n.state.modeGen],p={};Gp(n,i.text,n.doc.mode,l,function(A,B){return c.push(A,B)},p,a);for(var y=l.state,v=function(A){l.baseTokens=c;var B=n.state.overlays[A],R=1,V=0;l.state=!0,Gp(n,i.text,B.mode,l,function(_,Z){for(var ne=R;V<_;){var oe=c[R];oe>_&&c.splice(R,1,_,c[R+1],oe),R+=2,V=Math.min(_,oe)}if(Z)if(B.opaque)c.splice(ne,R-ne,_,"overlay "+Z),R=ne+2;else for(;ne<R;ne+=2){var ae=c[ne+1];c[ne+1]=(ae?ae+" ":"")+"overlay "+Z}},p),l.state=y,l.baseTokens=null,l.baseTokenPos=1},b=0;b<n.state.overlays.length;++b)v(b);return{styles:c,classes:p.bgClass||p.textClass?p:null}}function _p(n,i,l){if(!i.styles||i.styles[0]!=n.state.modeGen){var a=ao(n,S(i)),c=i.text.length>n.options.maxHighlightLength&&An(n.doc.mode,a.state),p=qp(n,i,a);c&&(a.state=c),i.stateAfter=a.save(!c),i.styles=p.styles,p.classes?i.styleClasses=p.classes:i.styleClasses&&(i.styleClasses=null),l===n.doc.highlightFrontier&&(n.doc.modeFrontier=Math.max(n.doc.modeFrontier,++n.doc.highlightFrontier))}return i.styles}function ao(n,i,l){var a=n.doc,c=n.display;if(!a.mode.startState)return new Dn(a,!0,i);var p=VA(n,i,l),y=p>a.first&&me(a,p-1).stateAfter,v=y?Dn.fromSaved(a,y,p):new Dn(a,ri(a.mode),p);return a.iter(p,i,function(b){eu(n,b.text,v);var A=v.line;b.stateAfter=A==i-1||A%5==0||A>=c.viewFrom&&A<c.viewTo?v.save():null,v.nextLine()}),l&&(a.modeFrontier=v.line),v}function eu(n,i,l,a){var c=n.doc.mode,p=new tt(i,n.options.tabSize,l);for(p.start=p.pos=a||0,i==""&&Wp(c,l.state);!p.eol();)tu(c,p,l.state),p.start=p.pos}function Wp(n,i){if(n.blankLine)return n.blankLine(i);if(n.innerMode){var l=oo(n,i);if(l.mode.blankLine)return l.mode.blankLine(l.state)}}function tu(n,i,l,a){for(var c=0;c<10;c++){a&&(a[0]=oo(n,l).mode);var p=n.token(i,l);if(i.pos>i.start)return p}throw new Error("Mode "+n.name+" failed to advance stream.")}var $p=function(n,i,l){this.start=n.start,this.end=n.pos,this.string=n.current(),this.type=i||null,this.state=l};function Vp(n,i,l,a){var c=n.doc,p=c.mode,y;i=Le(c,i);var v=me(c,i.line),b=ao(n,i.line,l),A=new tt(v.text,n.options.tabSize,b),B;for(a&&(B=[]);(a||A.pos<i.ch)&&!A.eol();)A.start=A.pos,y=tu(p,A,b.state),a&&B.push(new $p(A,y,An(c.mode,b.state)));return a?B:new $p(A,y,b.state)}function Up(n,i){if(n)for(;;){var l=n.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!l)break;n=n.slice(0,l.index)+n.slice(l.index+l[0].length);var a=l[1]?"bgClass":"textClass";i[a]==null?i[a]=l[2]:new RegExp("(?:^|\\s)"+l[2]+"(?:$|\\s)").test(i[a])||(i[a]+=" "+l[2])}return n}function Gp(n,i,l,a,c,p,y){var v=l.flattenSpans;v==null&&(v=n.options.flattenSpans);var b=0,A=null,B=new tt(i,n.options.tabSize,a),R,V=n.options.addModeClass&&[null];for(i==""&&Up(Wp(l,a.state),p);!B.eol();){if(B.pos>n.options.maxHighlightLength?(v=!1,y&&eu(n,i,a,B.pos),B.pos=i.length,R=null):R=Up(tu(l,B,a.state,V),p),V){var _=V[0].name;_&&(R="m-"+(R?_+" "+R:_))}if(!v||A!=R){for(;b<B.start;)b=Math.min(B.start,b+5e3),c(b,A);A=R}B.start=B.pos}for(;b<B.pos;){var Z=Math.min(B.pos,b+5e3);c(Z,A),b=Z}}function VA(n,i,l){for(var a,c,p=n.doc,y=l?-1:i-(n.doc.mode.innerMode?1e3:100),v=i;v>y;--v){if(v<=p.first)return p.first;var b=me(p,v-1),A=b.stateAfter;if(A&&(!l||v+(A instanceof Ps?A.lookAhead:0)<=p.modeFrontier))return v;var B=Pe(b.text,null,n.options.tabSize);(c==null||a>B)&&(c=v-1,a=B)}return c}function UA(n,i){if(n.modeFrontier=Math.min(n.modeFrontier,i),!(n.highlightFrontier<i-10)){for(var l=n.first,a=i-1;a>l;a--){var c=me(n,a).stateAfter;if(c&&(!(c instanceof Ps)||a+c.lookAhead<i)){l=a+1;break}}n.highlightFrontier=Math.min(n.highlightFrontier,l)}}var Yp=!1,Pn=!1;function GA(){Yp=!0}function YA(){Pn=!0}function Is(n,i,l){this.marker=n,this.from=i,this.to=l}function lo(n,i){if(n)for(var l=0;l<n.length;++l){var a=n[l];if(a.marker==i)return a}}function QA(n,i){for(var l,a=0;a<n.length;++a)n[a]!=i&&(l||(l=[])).push(n[a]);return l}function KA(n,i,l){var a=l&&window.WeakSet&&(l.markedSpans||(l.markedSpans=new WeakSet));a&&n.markedSpans&&a.has(n.markedSpans)?n.markedSpans.push(i):(n.markedSpans=n.markedSpans?n.markedSpans.concat([i]):[i],a&&a.add(n.markedSpans)),i.marker.attachLine(n)}function JA(n,i,l){var a;if(n)for(var c=0;c<n.length;++c){var p=n[c],y=p.marker,v=p.from==null||(y.inclusiveLeft?p.from<=i:p.from<i);if(v||p.from==i&&y.type=="bookmark"&&(!l||!p.marker.insertLeft)){var b=p.to==null||(y.inclusiveRight?p.to>=i:p.to>i);(a||(a=[])).push(new Is(y,p.from,b?null:p.to))}}return a}function ZA(n,i,l){var a;if(n)for(var c=0;c<n.length;++c){var p=n[c],y=p.marker,v=p.to==null||(y.inclusiveRight?p.to>=i:p.to>i);if(v||p.from==i&&y.type=="bookmark"&&(!l||p.marker.insertLeft)){var b=p.from==null||(y.inclusiveLeft?p.from<=i:p.from<i);(a||(a=[])).push(new Is(y,b?null:p.from-i,p.to==null?null:p.to-i))}}return a}function nu(n,i){if(i.full)return null;var l=ee(n,i.from.line)&&me(n,i.from.line).markedSpans,a=ee(n,i.to.line)&&me(n,i.to.line).markedSpans;if(!l&&!a)return null;var c=i.from.ch,p=i.to.ch,y=ue(i.from,i.to)==0,v=JA(l,c,y),b=ZA(a,p,y),A=i.text.length==1,B=ge(i.text).length+(A?c:0);if(v)for(var R=0;R<v.length;++R){var V=v[R];if(V.to==null){var _=lo(b,V.marker);_?A&&(V.to=_.to==null?null:_.to+B):V.to=c}}if(b)for(var Z=0;Z<b.length;++Z){var ne=b[Z];if(ne.to!=null&&(ne.to+=B),ne.from==null){var oe=lo(v,ne.marker);oe||(ne.from=B,A&&(v||(v=[])).push(ne))}else ne.from+=B,A&&(v||(v=[])).push(ne)}v&&(v=Qp(v)),b&&b!=v&&(b=Qp(b));var ae=[v];if(!A){var ce=i.text.length-2,le;if(ce>0&&v)for(var he=0;he<v.length;++he)v[he].to==null&&(le||(le=[])).push(new Is(v[he].marker,null,null));for(var xe=0;xe<ce;++xe)ae.push(le);ae.push(b)}return ae}function Qp(n){for(var i=0;i<n.length;++i){var l=n[i];l.from!=null&&l.from==l.to&&l.marker.clearWhenEmpty!==!1&&n.splice(i--,1)}return n.length?n:null}function XA(n,i,l){var a=null;if(n.iter(i.line,l.line+1,function(_){if(_.markedSpans)for(var Z=0;Z<_.markedSpans.length;++Z){var ne=_.markedSpans[Z].marker;ne.readOnly&&(!a||ye(a,ne)==-1)&&(a||(a=[])).push(ne)}}),!a)return null;for(var c=[{from:i,to:l}],p=0;p<a.length;++p)for(var y=a[p],v=y.find(0),b=0;b<c.length;++b){var A=c[b];if(!(ue(A.to,v.from)<0||ue(A.from,v.to)>0)){var B=[b,1],R=ue(A.from,v.from),V=ue(A.to,v.to);(R<0||!y.inclusiveLeft&&!R)&&B.push({from:A.from,to:v.from}),(V>0||!y.inclusiveRight&&!V)&&B.push({from:v.to,to:A.to}),c.splice.apply(c,B),b+=B.length-3}}return c}function Kp(n){var i=n.markedSpans;if(i){for(var l=0;l<i.length;++l)i[l].marker.detachLine(n);n.markedSpans=null}}function Jp(n,i){if(i){for(var l=0;l<i.length;++l)i[l].marker.attachLine(n);n.markedSpans=i}}function js(n){return n.inclusiveLeft?-1:0}function Bs(n){return n.inclusiveRight?1:0}function ru(n,i){var l=n.lines.length-i.lines.length;if(l!=0)return l;var a=n.find(),c=i.find(),p=ue(a.from,c.from)||js(n)-js(i);if(p)return-p;var y=ue(a.to,c.to)||Bs(n)-Bs(i);return y||i.id-n.id}function Zp(n,i){var l=Pn&&n.markedSpans,a;if(l)for(var c=void 0,p=0;p<l.length;++p)c=l[p],c.marker.collapsed&&(i?c.from:c.to)==null&&(!a||ru(a,c.marker)<0)&&(a=c.marker);return a}function Xp(n){return Zp(n,!0)}function zs(n){return Zp(n,!1)}function eD(n,i){var l=Pn&&n.markedSpans,a;if(l)for(var c=0;c<l.length;++c){var p=l[c];p.marker.collapsed&&(p.from==null||p.from<i)&&(p.to==null||p.to>i)&&(!a||ru(a,p.marker)<0)&&(a=p.marker)}return a}function eh(n,i,l,a,c){var p=me(n,i),y=Pn&&p.markedSpans;if(y)for(var v=0;v<y.length;++v){var b=y[v];if(b.marker.collapsed){var A=b.marker.find(0),B=ue(A.from,l)||js(b.marker)-js(c),R=ue(A.to,a)||Bs(b.marker)-Bs(c);if(!(B>=0&&R<=0||B<=0&&R>=0)&&(B<=0&&(b.marker.inclusiveRight&&c.inclusiveLeft?ue(A.to,l)>=0:ue(A.to,l)>0)||B>=0&&(b.marker.inclusiveRight&&c.inclusiveLeft?ue(A.from,a)<=0:ue(A.from,a)<0)))return!0}}}function pn(n){for(var i;i=Xp(n);)n=i.find(-1,!0).line;return n}function tD(n){for(var i;i=zs(n);)n=i.find(1,!0).line;return n}function nD(n){for(var i,l;i=zs(n);)n=i.find(1,!0).line,(l||(l=[])).push(n);return l}function iu(n,i){var l=me(n,i),a=pn(l);return l==a?i:S(a)}function th(n,i){if(i>n.lastLine())return i;var l=me(n,i),a;if(!Xn(n,l))return i;for(;a=zs(l);)l=a.find(1,!0).line;return S(l)+1}function Xn(n,i){var l=Pn&&i.markedSpans;if(l){for(var a=void 0,c=0;c<l.length;++c)if(a=l[c],!!a.marker.collapsed){if(a.from==null)return!0;if(!a.marker.widgetNode&&a.from==0&&a.marker.inclusiveLeft&&ou(n,i,a))return!0}}}function ou(n,i,l){if(l.to==null){var a=l.marker.find(1,!0);return ou(n,a.line,lo(a.line.markedSpans,l.marker))}if(l.marker.inclusiveRight&&l.to==i.text.length)return!0;for(var c=void 0,p=0;p<i.markedSpans.length;++p)if(c=i.markedSpans[p],c.marker.collapsed&&!c.marker.widgetNode&&c.from==l.to&&(c.to==null||c.to!=l.from)&&(c.marker.inclusiveLeft||l.marker.inclusiveRight)&&ou(n,i,c))return!0}function In(n){n=pn(n);for(var i=0,l=n.parent,a=0;a<l.lines.length;++a){var c=l.lines[a];if(c==n)break;i+=c.height}for(var p=l.parent;p;l=p,p=l.parent)for(var y=0;y<p.children.length;++y){var v=p.children[y];if(v==l)break;i+=v.height}return i}function Rs(n){if(n.height==0)return 0;for(var i=n.text.length,l,a=n;l=Xp(a);){var c=l.find(0,!0);a=c.from.line,i+=c.from.ch-c.to.ch}for(a=n;l=zs(a);){var p=l.find(0,!0);i-=a.text.length-p.from.ch,a=p.to.line,i+=a.text.length-p.to.ch}return i}function su(n){var i=n.display,l=n.doc;i.maxLine=me(l,l.first),i.maxLineLength=Rs(i.maxLine),i.maxLineChanged=!0,l.iter(function(a){var c=Rs(a);c>i.maxLineLength&&(i.maxLineLength=c,i.maxLine=a)})}var oi=function(n,i,l){this.text=n,Jp(this,i),this.height=l?l(this):1};oi.prototype.lineNo=function(){return S(this)},ln(oi);function rD(n,i,l,a){n.text=i,n.stateAfter&&(n.stateAfter=null),n.styles&&(n.styles=null),n.order!=null&&(n.order=null),Kp(n),Jp(n,l);var c=a?a(n):1;c!=n.height&&Yt(n,c)}function iD(n){n.parent=null,Kp(n)}var oD={},sD={};function nh(n,i){if(!n||/^\s*$/.test(n))return null;var l=i.addModeClass?sD:oD;return l[n]||(l[n]=n.replace(/\S+/g,"cm-$&"))}function rh(n,i){var l=Y("span",null,null,h?"padding-right: .1px":null),a={pre:Y("pre",[l],"CodeMirror-line"),content:l,col:0,pos:0,cm:n,trailingSpace:!1,splitSpaces:n.getOption("lineWrapping")};i.measure={};for(var c=0;c<=(i.rest?i.rest.length:0);c++){var p=c?i.rest[c-1]:i.line,y=void 0;a.pos=0,a.addToken=lD,Kn(n.display.measure)&&(y=je(p,n.doc.direction))&&(a.addToken=cD(a.addToken,y)),a.map=[];var v=i!=n.display.externalMeasured&&S(p);fD(p,a,_p(n,p,v)),p.styleClasses&&(p.styleClasses.bgClass&&(a.bgClass=Ye(p.styleClasses.bgClass,a.bgClass||"")),p.styleClasses.textClass&&(a.textClass=Ye(p.styleClasses.textClass,a.textClass||""))),a.map.length==0&&a.map.push(0,0,a.content.appendChild(Ns(n.display.measure))),c==0?(i.measure.map=a.map,i.measure.cache={}):((i.measure.maps||(i.measure.maps=[])).push(a.map),(i.measure.caches||(i.measure.caches=[])).push({}))}if(h){var b=a.content.lastChild;(/\bcm-tab\b/.test(b.className)||b.querySelector&&b.querySelector(".cm-tab"))&&(a.content.className="cm-tab-wrap-hack")}return Xe(n,"renderLine",n,i.line,a.pre),a.pre.className&&(a.textClass=Ye(a.pre.className,a.textClass||"")),a}function aD(n){var i=E("span","\u2022","cm-invalidchar");return i.title="\\u"+n.charCodeAt(0).toString(16),i.setAttribute("aria-label",i.title),i}function lD(n,i,l,a,c,p,y){if(i){var v=n.splitSpaces?uD(i,n.trailingSpace):i,b=n.cm.state.specialChars,A=!1,B;if(!b.test(i))n.col+=i.length,B=document.createTextNode(v),n.map.push(n.pos,n.pos+i.length,B),f&&d<9&&(A=!0),n.pos+=i.length;else{B=document.createDocumentFragment();for(var R=0;;){b.lastIndex=R;var V=b.exec(i),_=V?V.index-R:i.length-R;if(_){var Z=document.createTextNode(v.slice(R,R+_));f&&d<9?B.appendChild(E("span",[Z])):B.appendChild(Z),n.map.push(n.pos,n.pos+_,Z),n.col+=_,n.pos+=_}if(!V)break;R+=_+1;var ne=void 0;if(V[0]=="	"){var oe=n.cm.options.tabSize,ae=oe-n.col%oe;ne=B.appendChild(E("span",Be(ae),"cm-tab")),ne.setAttribute("role","presentation"),ne.setAttribute("cm-text","	"),n.col+=ae}else V[0]=="\r"||V[0]==`
`?(ne=B.appendChild(E("span",V[0]=="\r"?"\u240D":"\u2424","cm-invalidchar")),ne.setAttribute("cm-text",V[0]),n.col+=1):(ne=n.cm.options.specialCharPlaceholder(V[0]),ne.setAttribute("cm-text",V[0]),f&&d<9?B.appendChild(E("span",[ne])):B.appendChild(ne),n.col+=1);n.map.push(n.pos,n.pos+1,ne),n.pos++}}if(n.trailingSpace=v.charCodeAt(i.length-1)==32,l||a||c||A||p||y){var ce=l||"";a&&(ce+=a),c&&(ce+=c);var le=E("span",[B],ce,p);if(y)for(var he in y)y.hasOwnProperty(he)&&he!="style"&&he!="class"&&le.setAttribute(he,y[he]);return n.content.appendChild(le)}n.content.appendChild(B)}}function uD(n,i){if(n.length>1&&!/  /.test(n))return n;for(var l=i,a="",c=0;c<n.length;c++){var p=n.charAt(c);p==" "&&l&&(c==n.length-1||n.charCodeAt(c+1)==32)&&(p="\xA0"),a+=p,l=p==" "}return a}function cD(n,i){return function(l,a,c,p,y,v,b){c=c?c+" cm-force-border":"cm-force-border";for(var A=l.pos,B=A+a.length;;){for(var R=void 0,V=0;V<i.length&&(R=i[V],!(R.to>A&&R.from<=A));V++);if(R.to>=B)return n(l,a,c,p,y,v,b);n(l,a.slice(0,R.to-A),c,p,null,v,b),p=null,a=a.slice(R.to-A),A=R.to}}}function ih(n,i,l,a){var c=!a&&l.widgetNode;c&&n.map.push(n.pos,n.pos+i,c),!a&&n.cm.display.input.needsContentAttribute&&(c||(c=n.content.appendChild(document.createElement("span"))),c.setAttribute("cm-marker",l.id)),c&&(n.cm.display.input.setUneditable(c),n.content.appendChild(c)),n.pos+=i,n.trailingSpace=!1}function fD(n,i,l){var a=n.markedSpans,c=n.text,p=0;if(!a){for(var y=1;y<l.length;y+=2)i.addToken(i,c.slice(p,p=l[y]),nh(l[y+1],i.cm.options));return}for(var v=c.length,b=0,A=1,B="",R,V,_=0,Z,ne,oe,ae,ce;;){if(_==b){Z=ne=oe=V="",ce=null,ae=null,_=1/0;for(var le=[],he=void 0,xe=0;xe<a.length;++xe){var ve=a[xe],Ne=ve.marker;if(Ne.type=="bookmark"&&ve.from==b&&Ne.widgetNode)le.push(Ne);else if(ve.from<=b&&(ve.to==null||ve.to>b||Ne.collapsed&&ve.to==b&&ve.from==b)){if(ve.to!=null&&ve.to!=b&&_>ve.to&&(_=ve.to,ne=""),Ne.className&&(Z+=" "+Ne.className),Ne.css&&(V=(V?V+";":"")+Ne.css),Ne.startStyle&&ve.from==b&&(oe+=" "+Ne.startStyle),Ne.endStyle&&ve.to==_&&(he||(he=[])).push(Ne.endStyle,ve.to),Ne.title&&((ce||(ce={})).title=Ne.title),Ne.attributes)for(var $e in Ne.attributes)(ce||(ce={}))[$e]=Ne.attributes[$e];Ne.collapsed&&(!ae||ru(ae.marker,Ne)<0)&&(ae=ve)}else ve.from>b&&_>ve.from&&(_=ve.from)}if(he)for(var gt=0;gt<he.length;gt+=2)he[gt+1]==_&&(ne+=" "+he[gt]);if(!ae||ae.from==b)for(var Ke=0;Ke<le.length;++Ke)ih(i,0,le[Ke]);if(ae&&(ae.from||0)==b){if(ih(i,(ae.to==null?v+1:ae.to)-b,ae.marker,ae.from==null),ae.to==null)return;ae.to==b&&(ae=!1)}}if(b>=v)break;for(var zt=Math.min(v,_);;){if(B){var Ot=b+B.length;if(!ae){var at=Ot>zt?B.slice(0,zt-b):B;i.addToken(i,at,R?R+Z:Z,oe,b+at.length==_?ne:"",V,ce)}if(Ot>=zt){B=B.slice(zt-b),b=zt;break}b=Ot,oe=""}B=c.slice(p,p=l[A++]),R=nh(l[A++],i.cm.options)}}}function oh(n,i,l){this.line=i,this.rest=nD(i),this.size=this.rest?S(ge(this.rest))-l+1:1,this.node=this.text=null,this.hidden=Xn(n,i)}function Hs(n,i,l){for(var a=[],c,p=i;p<l;p=c){var y=new oh(n.doc,me(n.doc,p),p);c=p+y.size,a.push(y)}return a}var si=null;function dD(n){si?si.ops.push(n):n.ownsGroup=si={ops:[n],delayedCallbacks:[]}}function pD(n){var i=n.delayedCallbacks,l=0;do{for(;l<i.length;l++)i[l].call(null);for(var a=0;a<n.ops.length;a++){var c=n.ops[a];if(c.cursorActivityHandlers)for(;c.cursorActivityCalled<c.cursorActivityHandlers.length;)c.cursorActivityHandlers[c.cursorActivityCalled++].call(null,c.cm)}}while(l<i.length)}function hD(n,i){var l=n.ownsGroup;if(l)try{pD(l)}finally{si=null,i(l)}}var uo=null;function dt(n,i){var l=Nn(n,i);if(l.length){var a=Array.prototype.slice.call(arguments,2),c;si?c=si.delayedCallbacks:uo?c=uo:(c=uo=[],setTimeout(gD,0));for(var p=function(v){c.push(function(){return l[v].apply(null,a)})},y=0;y<l.length;++y)p(y)}}function gD(){var n=uo;uo=null;for(var i=0;i<n.length;++i)n[i]()}function sh(n,i,l,a){for(var c=0;c<i.changes.length;c++){var p=i.changes[c];p=="text"?yD(n,i):p=="gutter"?lh(n,i,l,a):p=="class"?au(n,i):p=="widget"&&vD(n,i,a)}i.changes=null}function co(n){return n.node==n.text&&(n.node=E("div",null,null,"position: relative"),n.text.parentNode&&n.text.parentNode.replaceChild(n.node,n.text),n.node.appendChild(n.text),f&&d<8&&(n.node.style.zIndex=2)),n.node}function mD(n,i){var l=i.bgClass?i.bgClass+" "+(i.line.bgClass||""):i.line.bgClass;if(l&&(l+=" CodeMirror-linebackground"),i.background)l?i.background.className=l:(i.background.parentNode.removeChild(i.background),i.background=null);else if(l){var a=co(i);i.background=a.insertBefore(E("div",null,l),a.firstChild),n.display.input.setUneditable(i.background)}}function ah(n,i){var l=n.display.externalMeasured;return l&&l.line==i.line?(n.display.externalMeasured=null,i.measure=l.measure,l.built):rh(n,i)}function yD(n,i){var l=i.text.className,a=ah(n,i);i.text==i.node&&(i.node=a.pre),i.text.parentNode.replaceChild(a.pre,i.text),i.text=a.pre,a.bgClass!=i.bgClass||a.textClass!=i.textClass?(i.bgClass=a.bgClass,i.textClass=a.textClass,au(n,i)):l&&(i.text.className=l)}function au(n,i){mD(n,i),i.line.wrapClass?co(i).className=i.line.wrapClass:i.node!=i.text&&(i.node.className="");var l=i.textClass?i.textClass+" "+(i.line.textClass||""):i.line.textClass;i.text.className=l||""}function lh(n,i,l,a){if(i.gutter&&(i.node.removeChild(i.gutter),i.gutter=null),i.gutterBackground&&(i.node.removeChild(i.gutterBackground),i.gutterBackground=null),i.line.gutterClass){var c=co(i);i.gutterBackground=E("div",null,"CodeMirror-gutter-background "+i.line.gutterClass,"left: "+(n.options.fixedGutter?a.fixedPos:-a.gutterTotalWidth)+"px; width: "+a.gutterTotalWidth+"px"),n.display.input.setUneditable(i.gutterBackground),c.insertBefore(i.gutterBackground,i.text)}var p=i.line.gutterMarkers;if(n.options.lineNumbers||p){var y=co(i),v=i.gutter=E("div",null,"CodeMirror-gutter-wrapper","left: "+(n.options.fixedGutter?a.fixedPos:-a.gutterTotalWidth)+"px");if(v.setAttribute("aria-hidden","true"),n.display.input.setUneditable(v),y.insertBefore(v,i.text),i.line.gutterClass&&(v.className+=" "+i.line.gutterClass),n.options.lineNumbers&&(!p||!p["CodeMirror-linenumbers"])&&(i.lineNumber=v.appendChild(E("div",ie(n.options,l),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+a.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+n.display.lineNumInnerWidth+"px"))),p)for(var b=0;b<n.display.gutterSpecs.length;++b){var A=n.display.gutterSpecs[b].className,B=p.hasOwnProperty(A)&&p[A];B&&v.appendChild(E("div",[B],"CodeMirror-gutter-elt","left: "+a.gutterLeft[A]+"px; width: "+a.gutterWidth[A]+"px"))}}}function vD(n,i,l){i.alignable&&(i.alignable=null);for(var a=W("CodeMirror-linewidget"),c=i.node.firstChild,p=void 0;c;c=p)p=c.nextSibling,a.test(c.className)&&i.node.removeChild(c);uh(n,i,l)}function wD(n,i,l,a){var c=ah(n,i);return i.text=i.node=c.pre,c.bgClass&&(i.bgClass=c.bgClass),c.textClass&&(i.textClass=c.textClass),au(n,i),lh(n,i,l,a),uh(n,i,a),i.node}function uh(n,i,l){if(ch(n,i.line,i,l,!0),i.rest)for(var a=0;a<i.rest.length;a++)ch(n,i.rest[a],i,l,!1)}function ch(n,i,l,a,c){if(i.widgets)for(var p=co(l),y=0,v=i.widgets;y<v.length;++y){var b=v[y],A=E("div",[b.node],"CodeMirror-linewidget"+(b.className?" "+b.className:""));b.handleMouseEvents||A.setAttribute("cm-ignore-events","true"),bD(b,A,l,a),n.display.input.setUneditable(A),c&&b.above?p.insertBefore(A,l.gutter||l.text):p.appendChild(A),dt(b,"redraw")}}function bD(n,i,l,a){if(n.noHScroll){(l.alignable||(l.alignable=[])).push(i);var c=a.wrapperWidth;i.style.left=a.fixedPos+"px",n.coverGutter||(c-=a.gutterTotalWidth,i.style.paddingLeft=a.gutterTotalWidth+"px"),i.style.width=c+"px"}n.coverGutter&&(i.style.zIndex=5,i.style.position="relative",n.noHScroll||(i.style.marginLeft=-a.gutterTotalWidth+"px"))}function fo(n){if(n.height!=null)return n.height;var i=n.doc.cm;if(!i)return 0;if(!fe(document.body,n.node)){var l="position: relative;";n.coverGutter&&(l+="margin-left: -"+i.display.gutters.offsetWidth+"px;"),n.noHScroll&&(l+="width: "+i.display.wrapper.clientWidth+"px;"),K(i.display.measure,E("div",[n.node],null,l))}return n.height=n.node.parentNode.offsetHeight}function jn(n,i){for(var l=ro(i);l!=n.wrapper;l=l.parentNode)if(!l||l.nodeType==1&&l.getAttribute("cm-ignore-events")=="true"||l.parentNode==n.sizer&&l!=n.mover)return!0}function qs(n){return n.lineSpace.offsetTop}function lu(n){return n.mover.offsetHeight-n.lineSpace.offsetHeight}function fh(n){if(n.cachedPaddingH)return n.cachedPaddingH;var i=K(n.measure,E("pre","x","CodeMirror-line-like")),l=window.getComputedStyle?window.getComputedStyle(i):i.currentStyle,a={left:parseInt(l.paddingLeft),right:parseInt(l.paddingRight)};return!isNaN(a.left)&&!isNaN(a.right)&&(n.cachedPaddingH=a),a}function Sn(n){return ut-n.display.nativeBarWidth}function vr(n){return n.display.scroller.clientWidth-Sn(n)-n.display.barWidth}function uu(n){return n.display.scroller.clientHeight-Sn(n)-n.display.barHeight}function xD(n,i,l){var a=n.options.lineWrapping,c=a&&vr(n);if(!i.measure.heights||a&&i.measure.width!=c){var p=i.measure.heights=[];if(a){i.measure.width=c;for(var y=i.text.firstChild.getClientRects(),v=0;v<y.length-1;v++){var b=y[v],A=y[v+1];Math.abs(b.bottom-A.bottom)>2&&p.push((b.bottom+A.top)/2-l.top)}}p.push(l.bottom-l.top)}}function dh(n,i,l){if(n.line==i)return{map:n.measure.map,cache:n.measure.cache};if(n.rest){for(var a=0;a<n.rest.length;a++)if(n.rest[a]==i)return{map:n.measure.maps[a],cache:n.measure.caches[a]};for(var c=0;c<n.rest.length;c++)if(S(n.rest[c])>l)return{map:n.measure.maps[c],cache:n.measure.caches[c],before:!0}}}function kD(n,i){i=pn(i);var l=S(i),a=n.display.externalMeasured=new oh(n.doc,i,l);a.lineN=l;var c=a.built=rh(n,a);return a.text=c.pre,K(n.display.lineMeasure,c.pre),a}function ph(n,i,l,a){return En(n,ai(n,i),l,a)}function cu(n,i){if(i>=n.display.viewFrom&&i<n.display.viewTo)return n.display.view[xr(n,i)];var l=n.display.externalMeasured;if(l&&i>=l.lineN&&i<l.lineN+l.size)return l}function ai(n,i){var l=S(i),a=cu(n,l);a&&!a.text?a=null:a&&a.changes&&(sh(n,a,l,gu(n)),n.curOp.forceUpdate=!0),a||(a=kD(n,i));var c=dh(a,i,l);return{line:i,view:a,rect:null,map:c.map,cache:c.cache,before:c.before,hasHeights:!1}}function En(n,i,l,a,c){i.before&&(l=-1);var p=l+(a||""),y;return i.cache.hasOwnProperty(p)?y=i.cache[p]:(i.rect||(i.rect=i.view.text.getBoundingClientRect()),i.hasHeights||(xD(n,i.view,i.rect),i.hasHeights=!0),y=AD(n,i,l,a),y.bogus||(i.cache[p]=y)),{left:y.left,right:y.right,top:c?y.rtop:y.top,bottom:c?y.rbottom:y.bottom}}var hh={left:0,right:0,top:0,bottom:0};function gh(n,i,l){for(var a,c,p,y,v,b,A=0;A<n.length;A+=3)if(v=n[A],b=n[A+1],i<v?(c=0,p=1,y="left"):i<b?(c=i-v,p=c+1):(A==n.length-3||i==b&&n[A+3]>i)&&(p=b-v,c=p-1,i>=b&&(y="right")),c!=null){if(a=n[A+2],v==b&&l==(a.insertLeft?"left":"right")&&(y=l),l=="left"&&c==0)for(;A&&n[A-2]==n[A-3]&&n[A-1].insertLeft;)a=n[(A-=3)+2],y="left";if(l=="right"&&c==b-v)for(;A<n.length-3&&n[A+3]==n[A+4]&&!n[A+5].insertLeft;)a=n[(A+=3)+2],y="right";break}return{node:a,start:c,end:p,collapse:y,coverStart:v,coverEnd:b}}function CD(n,i){var l=hh;if(i=="left")for(var a=0;a<n.length&&(l=n[a]).left==l.right;a++);else for(var c=n.length-1;c>=0&&(l=n[c]).left==l.right;c--);return l}function AD(n,i,l,a){var c=gh(i.map,l,a),p=c.node,y=c.start,v=c.end,b=c.collapse,A;if(p.nodeType==3){for(var B=0;B<4;B++){for(;y&&st(i.line.text.charAt(c.coverStart+y));)--y;for(;c.coverStart+v<c.coverEnd&&st(i.line.text.charAt(c.coverStart+v));)++v;if(f&&d<9&&y==0&&v==c.coverEnd-c.coverStart?A=p.parentNode.getBoundingClientRect():A=CD(G(p,y,v).getClientRects(),a),A.left||A.right||y==0)break;v=y,y=y-1,b="right"}f&&d<11&&(A=DD(n.display.measure,A))}else{y>0&&(b=a="right");var R;n.options.lineWrapping&&(R=p.getClientRects()).length>1?A=R[a=="right"?R.length-1:0]:A=p.getBoundingClientRect()}if(f&&d<9&&!y&&(!A||!A.left&&!A.right)){var V=p.parentNode.getClientRects()[0];V?A={left:V.left,right:V.left+ui(n.display),top:V.top,bottom:V.bottom}:A=hh}for(var _=A.top-i.rect.top,Z=A.bottom-i.rect.top,ne=(_+Z)/2,oe=i.view.measure.heights,ae=0;ae<oe.length-1&&!(ne<oe[ae]);ae++);var ce=ae?oe[ae-1]:0,le=oe[ae],he={left:(b=="right"?A.right:A.left)-i.rect.left,right:(b=="left"?A.left:A.right)-i.rect.left,top:ce,bottom:le};return!A.left&&!A.right&&(he.bogus=!0),n.options.singleCursorHeightPerLine||(he.rtop=_,he.rbottom=Z),he}function DD(n,i){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!Xl(n))return i;var l=screen.logicalXDPI/screen.deviceXDPI,a=screen.logicalYDPI/screen.deviceYDPI;return{left:i.left*l,right:i.right*l,top:i.top*a,bottom:i.bottom*a}}function mh(n){if(n.measure&&(n.measure.cache={},n.measure.heights=null,n.rest))for(var i=0;i<n.rest.length;i++)n.measure.caches[i]={}}function yh(n){n.display.externalMeasure=null,q(n.display.lineMeasure);for(var i=0;i<n.display.view.length;i++)mh(n.display.view[i])}function po(n){yh(n),n.display.cachedCharWidth=n.display.cachedTextHeight=n.display.cachedPaddingH=null,n.options.lineWrapping||(n.display.maxLineChanged=!0),n.display.lineNumChars=null}function vh(n){return m&&C?-(n.body.getBoundingClientRect().left-parseInt(getComputedStyle(n.body).marginLeft)):n.defaultView.pageXOffset||(n.documentElement||n.body).scrollLeft}function wh(n){return m&&C?-(n.body.getBoundingClientRect().top-parseInt(getComputedStyle(n.body).marginTop)):n.defaultView.pageYOffset||(n.documentElement||n.body).scrollTop}function fu(n){var i=pn(n),l=i.widgets,a=0;if(l)for(var c=0;c<l.length;++c)l[c].above&&(a+=fo(l[c]));return a}function _s(n,i,l,a,c){if(!c){var p=fu(i);l.top+=p,l.bottom+=p}if(a=="line")return l;a||(a="local");var y=In(i);if(a=="local"?y+=qs(n.display):y-=n.display.viewOffset,a=="page"||a=="window"){var v=n.display.lineSpace.getBoundingClientRect();y+=v.top+(a=="window"?0:wh(Ze(n)));var b=v.left+(a=="window"?0:vh(Ze(n)));l.left+=b,l.right+=b}return l.top+=y,l.bottom+=y,l}function bh(n,i,l){if(l=="div")return i;var a=i.left,c=i.top;if(l=="page")a-=vh(Ze(n)),c-=wh(Ze(n));else if(l=="local"||!l){var p=n.display.sizer.getBoundingClientRect();a+=p.left,c+=p.top}var y=n.display.lineSpace.getBoundingClientRect();return{left:a-y.left,top:c-y.top}}function Ws(n,i,l,a,c){return a||(a=me(n.doc,i.line)),_s(n,a,ph(n,a,i.ch,c),l)}function hn(n,i,l,a,c,p){a=a||me(n.doc,i.line),c||(c=ai(n,a));function y(Z,ne){var oe=En(n,c,Z,ne?"right":"left",p);return ne?oe.left=oe.right:oe.right=oe.left,_s(n,a,oe,l)}var v=je(a,n.doc.direction),b=i.ch,A=i.sticky;if(b>=a.text.length?(b=a.text.length,A="before"):b<=0&&(b=0,A="after"),!v)return y(A=="before"?b-1:b,A=="before");function B(Z,ne,oe){var ae=v[ne],ce=ae.level==1;return y(oe?Z-1:Z,ce!=oe)}var R=Yn(v,b,A),V=mr,_=B(b,R,A=="before");return V!=null&&(_.other=B(b,V,A!="before")),_}function xh(n,i){var l=0;i=Le(n.doc,i),n.options.lineWrapping||(l=ui(n.display)*i.ch);var a=me(n.doc,i.line),c=In(a)+qs(n.display);return{left:l,right:l,top:c,bottom:c+a.height}}function du(n,i,l,a,c){var p=Q(n,i,l);return p.xRel=c,a&&(p.outside=a),p}function pu(n,i,l){var a=n.doc;if(l+=n.display.viewOffset,l<0)return du(a.first,0,null,-1,-1);var c=z(a,l),p=a.first+a.size-1;if(c>p)return du(a.first+a.size-1,me(a,p).text.length,null,1,1);i<0&&(i=0);for(var y=me(a,c);;){var v=SD(n,y,c,i,l),b=eD(y,v.ch+(v.xRel>0||v.outside>0?1:0));if(!b)return v;var A=b.find(1);if(A.line==c)return A;y=me(a,c=A.line)}}function kh(n,i,l,a){a-=fu(i);var c=i.text.length,p=Cn(function(y){return En(n,l,y-1).bottom<=a},c,0);return c=Cn(function(y){return En(n,l,y).top>a},p,c),{begin:p,end:c}}function Ch(n,i,l,a){l||(l=ai(n,i));var c=_s(n,i,En(n,l,a),"line").top;return kh(n,i,l,c)}function hu(n,i,l,a){return n.bottom<=l?!1:n.top>l?!0:(a?n.left:n.right)>i}function SD(n,i,l,a,c){c-=In(i);var p=ai(n,i),y=fu(i),v=0,b=i.text.length,A=!0,B=je(i,n.doc.direction);if(B){var R=(n.options.lineWrapping?TD:ED)(n,i,l,p,B,a,c);A=R.level!=1,v=A?R.from:R.to-1,b=A?R.to:R.from-1}var V=null,_=null,Z=Cn(function(xe){var ve=En(n,p,xe);return ve.top+=y,ve.bottom+=y,hu(ve,a,c,!1)?(ve.top<=c&&ve.left<=a&&(V=xe,_=ve),!0):!1},v,b),ne,oe,ae=!1;if(_){var ce=a-_.left<_.right-a,le=ce==A;Z=V+(le?0:1),oe=le?"after":"before",ne=ce?_.left:_.right}else{!A&&(Z==b||Z==v)&&Z++,oe=Z==0?"after":Z==i.text.length?"before":En(n,p,Z-(A?1:0)).bottom+y<=c==A?"after":"before";var he=hn(n,Q(l,Z,oe),"line",i,p);ne=he.left,ae=c<he.top?-1:c>=he.bottom?1:0}return Z=Un(i.text,Z,1),du(l,Z,oe,ae,a-ne)}function ED(n,i,l,a,c,p,y){var v=Cn(function(R){var V=c[R],_=V.level!=1;return hu(hn(n,Q(l,_?V.to:V.from,_?"before":"after"),"line",i,a),p,y,!0)},0,c.length-1),b=c[v];if(v>0){var A=b.level!=1,B=hn(n,Q(l,A?b.from:b.to,A?"after":"before"),"line",i,a);hu(B,p,y,!0)&&B.top>y&&(b=c[v-1])}return b}function TD(n,i,l,a,c,p,y){var v=kh(n,i,a,y),b=v.begin,A=v.end;/\s/.test(i.text.charAt(A-1))&&A--;for(var B=null,R=null,V=0;V<c.length;V++){var _=c[V];if(!(_.from>=A||_.to<=b)){var Z=_.level!=1,ne=En(n,a,Z?Math.min(A,_.to)-1:Math.max(b,_.from)).right,oe=ne<p?p-ne+1e9:ne-p;(!B||R>oe)&&(B=_,R=oe)}}return B||(B=c[c.length-1]),B.from<b&&(B={from:b,to:B.to,level:B.level}),B.to>A&&(B={from:B.from,to:A,level:B.level}),B}var wr;function li(n){if(n.cachedTextHeight!=null)return n.cachedTextHeight;if(wr==null){wr=E("pre",null,"CodeMirror-line-like");for(var i=0;i<49;++i)wr.appendChild(document.createTextNode("x")),wr.appendChild(E("br"));wr.appendChild(document.createTextNode("x"))}K(n.measure,wr);var l=wr.offsetHeight/50;return l>3&&(n.cachedTextHeight=l),q(n.measure),l||1}function ui(n){if(n.cachedCharWidth!=null)return n.cachedCharWidth;var i=E("span","xxxxxxxxxx"),l=E("pre",[i],"CodeMirror-line-like");K(n.measure,l);var a=i.getBoundingClientRect(),c=(a.right-a.left)/10;return c>2&&(n.cachedCharWidth=c),c||10}function gu(n){for(var i=n.display,l={},a={},c=i.gutters.clientLeft,p=i.gutters.firstChild,y=0;p;p=p.nextSibling,++y){var v=n.display.gutterSpecs[y].className;l[v]=p.offsetLeft+p.clientLeft+c,a[v]=p.clientWidth}return{fixedPos:mu(i),gutterTotalWidth:i.gutters.offsetWidth,gutterLeft:l,gutterWidth:a,wrapperWidth:i.wrapper.clientWidth}}function mu(n){return n.scroller.getBoundingClientRect().left-n.sizer.getBoundingClientRect().left}function Ah(n){var i=li(n.display),l=n.options.lineWrapping,a=l&&Math.max(5,n.display.scroller.clientWidth/ui(n.display)-3);return function(c){if(Xn(n.doc,c))return 0;var p=0;if(c.widgets)for(var y=0;y<c.widgets.length;y++)c.widgets[y].height&&(p+=c.widgets[y].height);return l?p+(Math.ceil(c.text.length/a)||1)*i:p+i}}function yu(n){var i=n.doc,l=Ah(n);i.iter(function(a){var c=l(a);c!=a.height&&Yt(a,c)})}function br(n,i,l,a){var c=n.display;if(!l&&ro(i).getAttribute("cm-not-content")=="true")return null;var p,y,v=c.lineSpace.getBoundingClientRect();try{p=i.clientX-v.left,y=i.clientY-v.top}catch{return null}var b=pu(n,p,y),A;if(a&&b.xRel>0&&(A=me(n.doc,b.line).text).length==b.ch){var B=Pe(A,A.length,n.options.tabSize)-A.length;b=Q(b.line,Math.max(0,Math.round((p-fh(n.display).left)/ui(n.display))-B))}return b}function xr(n,i){if(i>=n.display.viewTo||(i-=n.display.viewFrom,i<0))return null;for(var l=n.display.view,a=0;a<l.length;a++)if(i-=l[a].size,i<0)return a}function Ft(n,i,l,a){i==null&&(i=n.doc.first),l==null&&(l=n.doc.first+n.doc.size),a||(a=0);var c=n.display;if(a&&l<c.viewTo&&(c.updateLineNumbers==null||c.updateLineNumbers>i)&&(c.updateLineNumbers=i),n.curOp.viewChanged=!0,i>=c.viewTo)Pn&&iu(n.doc,i)<c.viewTo&&tr(n);else if(l<=c.viewFrom)Pn&&th(n.doc,l+a)>c.viewFrom?tr(n):(c.viewFrom+=a,c.viewTo+=a);else if(i<=c.viewFrom&&l>=c.viewTo)tr(n);else if(i<=c.viewFrom){var p=$s(n,l,l+a,1);p?(c.view=c.view.slice(p.index),c.viewFrom=p.lineN,c.viewTo+=a):tr(n)}else if(l>=c.viewTo){var y=$s(n,i,i,-1);y?(c.view=c.view.slice(0,y.index),c.viewTo=y.lineN):tr(n)}else{var v=$s(n,i,i,-1),b=$s(n,l,l+a,1);v&&b?(c.view=c.view.slice(0,v.index).concat(Hs(n,v.lineN,b.lineN)).concat(c.view.slice(b.index)),c.viewTo+=a):tr(n)}var A=c.externalMeasured;A&&(l<A.lineN?A.lineN+=a:i<A.lineN+A.size&&(c.externalMeasured=null))}function er(n,i,l){n.curOp.viewChanged=!0;var a=n.display,c=n.display.externalMeasured;if(c&&i>=c.lineN&&i<c.lineN+c.size&&(a.externalMeasured=null),!(i<a.viewFrom||i>=a.viewTo)){var p=a.view[xr(n,i)];if(p.node!=null){var y=p.changes||(p.changes=[]);ye(y,l)==-1&&y.push(l)}}}function tr(n){n.display.viewFrom=n.display.viewTo=n.doc.first,n.display.view=[],n.display.viewOffset=0}function $s(n,i,l,a){var c=xr(n,i),p,y=n.display.view;if(!Pn||l==n.doc.first+n.doc.size)return{index:c,lineN:l};for(var v=n.display.viewFrom,b=0;b<c;b++)v+=y[b].size;if(v!=i){if(a>0){if(c==y.length-1)return null;p=v+y[c].size-i,c++}else p=v-i;i+=p,l+=p}for(;iu(n.doc,l)!=l;){if(c==(a<0?0:y.length-1))return null;l+=a*y[c-(a<0?1:0)].size,c+=a}return{index:c,lineN:l}}function MD(n,i,l){var a=n.display,c=a.view;c.length==0||i>=a.viewTo||l<=a.viewFrom?(a.view=Hs(n,i,l),a.viewFrom=i):(a.viewFrom>i?a.view=Hs(n,i,a.viewFrom).concat(a.view):a.viewFrom<i&&(a.view=a.view.slice(xr(n,i))),a.viewFrom=i,a.viewTo<l?a.view=a.view.concat(Hs(n,a.viewTo,l)):a.viewTo>l&&(a.view=a.view.slice(0,xr(n,l)))),a.viewTo=l}function Dh(n){for(var i=n.display.view,l=0,a=0;a<i.length;a++){var c=i[a];!c.hidden&&(!c.node||c.changes)&&++l}return l}function ho(n){n.display.input.showSelection(n.display.input.prepareSelection())}function Sh(n,i){i===void 0&&(i=!0);var l=n.doc,a={},c=a.cursors=document.createDocumentFragment(),p=a.selection=document.createDocumentFragment(),y=n.options.$customCursor;y&&(i=!0);for(var v=0;v<l.sel.ranges.length;v++)if(!(!i&&v==l.sel.primIndex)){var b=l.sel.ranges[v];if(!(b.from().line>=n.display.viewTo||b.to().line<n.display.viewFrom)){var A=b.empty();if(y){var B=y(n,b);B&&vu(n,B,c)}else(A||n.options.showCursorWhenSelecting)&&vu(n,b.head,c);A||LD(n,b,p)}}return a}function vu(n,i,l){var a=hn(n,i,"div",null,null,!n.options.singleCursorHeightPerLine),c=l.appendChild(E("div","\xA0","CodeMirror-cursor"));if(c.style.left=a.left+"px",c.style.top=a.top+"px",c.style.height=Math.max(0,a.bottom-a.top)*n.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(n.getWrapperElement().className)){var p=Ws(n,i,"div",null,null),y=p.right-p.left;c.style.width=(y>0?y:n.defaultCharWidth())+"px"}if(a.other){var v=l.appendChild(E("div","\xA0","CodeMirror-cursor CodeMirror-secondarycursor"));v.style.display="",v.style.left=a.other.left+"px",v.style.top=a.other.top+"px",v.style.height=(a.other.bottom-a.other.top)*.85+"px"}}function Vs(n,i){return n.top-i.top||n.left-i.left}function LD(n,i,l){var a=n.display,c=n.doc,p=document.createDocumentFragment(),y=fh(n.display),v=y.left,b=Math.max(a.sizerWidth,vr(n)-a.sizer.offsetLeft)-y.right,A=c.direction=="ltr";function B(le,he,xe,ve){he<0&&(he=0),he=Math.round(he),ve=Math.round(ve),p.appendChild(E("div",null,"CodeMirror-selected","position: absolute; left: "+le+`px;
                             top: `+he+"px; width: "+(xe??b-le)+`px;
                             height: `+(ve-he)+"px"))}function R(le,he,xe){var ve=me(c,le),Ne=ve.text.length,$e,gt;function Ke(at,Pt){return Ws(n,Q(le,at),"div",ve,Pt)}function zt(at,Pt,wt){var ct=Ch(n,ve,null,at),lt=Pt=="ltr"==(wt=="after")?"left":"right",nt=wt=="after"?ct.begin:ct.end-(/\s/.test(ve.text.charAt(ct.end-1))?2:1);return Ke(nt,lt)[lt]}var Ot=je(ve,c.direction);return Gn(Ot,he||0,xe??Ne,function(at,Pt,wt,ct){var lt=wt=="ltr",nt=Ke(at,lt?"left":"right"),It=Ke(Pt-1,lt?"right":"left"),ki=he==null&&at==0,ar=xe==null&&Pt==Ne,At=ct==0,Tn=!Ot||ct==Ot.length-1;if(It.top-nt.top<=3){var mt=(A?ki:ar)&&At,Vu=(A?ar:ki)&&Tn,Rn=mt?v:(lt?nt:It).left,Sr=Vu?b:(lt?It:nt).right;B(Rn,nt.top,Sr-Rn,nt.bottom)}else{var Er,St,Ci,Uu;lt?(Er=A&&ki&&At?v:nt.left,St=A?b:zt(at,wt,"before"),Ci=A?v:zt(Pt,wt,"after"),Uu=A&&ar&&Tn?b:It.right):(Er=A?zt(at,wt,"before"):v,St=!A&&ki&&At?b:nt.right,Ci=!A&&ar&&Tn?v:It.left,Uu=A?zt(Pt,wt,"after"):b),B(Er,nt.top,St-Er,nt.bottom),nt.bottom<It.top&&B(v,nt.bottom,null,It.top),B(Ci,It.top,Uu-Ci,It.bottom)}(!$e||Vs(nt,$e)<0)&&($e=nt),Vs(It,$e)<0&&($e=It),(!gt||Vs(nt,gt)<0)&&(gt=nt),Vs(It,gt)<0&&(gt=It)}),{start:$e,end:gt}}var V=i.from(),_=i.to();if(V.line==_.line)R(V.line,V.ch,_.ch);else{var Z=me(c,V.line),ne=me(c,_.line),oe=pn(Z)==pn(ne),ae=R(V.line,V.ch,oe?Z.text.length+1:null).end,ce=R(_.line,oe?0:null,_.ch).start;oe&&(ae.top<ce.top-2?(B(ae.right,ae.top,null,ae.bottom),B(v,ce.top,ce.left,ce.bottom)):B(ae.right,ae.top,ce.left-ae.right,ae.bottom)),ae.bottom<ce.top&&B(v,ae.bottom,null,ce.top)}l.appendChild(p)}function wu(n){if(n.state.focused){var i=n.display;clearInterval(i.blinker);var l=!0;i.cursorDiv.style.visibility="",n.options.cursorBlinkRate>0?i.blinker=setInterval(function(){n.hasFocus()||ci(n),i.cursorDiv.style.visibility=(l=!l)?"":"hidden"},n.options.cursorBlinkRate):n.options.cursorBlinkRate<0&&(i.cursorDiv.style.visibility="hidden")}}function Eh(n){n.hasFocus()||(n.display.input.focus(),n.state.focused||xu(n))}function bu(n){n.state.delayingBlurEvent=!0,setTimeout(function(){n.state.delayingBlurEvent&&(n.state.delayingBlurEvent=!1,n.state.focused&&ci(n))},100)}function xu(n,i){n.state.delayingBlurEvent&&!n.state.draggingText&&(n.state.delayingBlurEvent=!1),n.options.readOnly!="nocursor"&&(n.state.focused||(Xe(n,"focus",n,i),n.state.focused=!0,Ie(n.display.wrapper,"CodeMirror-focused"),!n.curOp&&n.display.selForContextMenu!=n.doc.sel&&(n.display.input.reset(),h&&setTimeout(function(){return n.display.input.reset(!0)},20)),n.display.input.receivedFocus()),wu(n))}function ci(n,i){n.state.delayingBlurEvent||(n.state.focused&&(Xe(n,"blur",n,i),n.state.focused=!1,X(n.display.wrapper,"CodeMirror-focused")),clearInterval(n.display.blinker),setTimeout(function(){n.state.focused||(n.display.shift=!1)},150))}function Us(n){for(var i=n.display,l=i.lineDiv.offsetTop,a=Math.max(0,i.scroller.getBoundingClientRect().top),c=i.lineDiv.getBoundingClientRect().top,p=0,y=0;y<i.view.length;y++){var v=i.view[y],b=n.options.lineWrapping,A=void 0,B=0;if(!v.hidden){if(c+=v.line.height,f&&d<8){var R=v.node.offsetTop+v.node.offsetHeight;A=R-l,l=R}else{var V=v.node.getBoundingClientRect();A=V.bottom-V.top,!b&&v.text.firstChild&&(B=v.text.firstChild.getBoundingClientRect().right-V.left-1)}var _=v.line.height-A;if((_>.005||_<-.005)&&(c<a&&(p-=_),Yt(v.line,A),Th(v.line),v.rest))for(var Z=0;Z<v.rest.length;Z++)Th(v.rest[Z]);if(B>n.display.sizerWidth){var ne=Math.ceil(B/ui(n.display));ne>n.display.maxLineLength&&(n.display.maxLineLength=ne,n.display.maxLine=v.line,n.display.maxLineChanged=!0)}}}Math.abs(p)>2&&(i.scroller.scrollTop+=p)}function Th(n){if(n.widgets)for(var i=0;i<n.widgets.length;++i){var l=n.widgets[i],a=l.node.parentNode;a&&(l.height=a.offsetHeight)}}function Gs(n,i,l){var a=l&&l.top!=null?Math.max(0,l.top):n.scroller.scrollTop;a=Math.floor(a-qs(n));var c=l&&l.bottom!=null?l.bottom:a+n.wrapper.clientHeight,p=z(i,a),y=z(i,c);if(l&&l.ensure){var v=l.ensure.from.line,b=l.ensure.to.line;v<p?(p=v,y=z(i,In(me(i,v))+n.wrapper.clientHeight)):Math.min(b,i.lastLine())>=y&&(p=z(i,In(me(i,b))-n.wrapper.clientHeight),y=b)}return{from:p,to:Math.max(y,p+1)}}function FD(n,i){if(!et(n,"scrollCursorIntoView")){var l=n.display,a=l.sizer.getBoundingClientRect(),c=null,p=l.wrapper.ownerDocument;if(i.top+a.top<0?c=!0:i.bottom+a.top>(p.defaultView.innerHeight||p.documentElement.clientHeight)&&(c=!1),c!=null&&!N){var y=E("div","\u200B",null,`position: absolute;
                         top: `+(i.top-l.viewOffset-qs(n.display))+`px;
                         height: `+(i.bottom-i.top+Sn(n)+l.barHeight)+`px;
                         left: `+i.left+"px; width: "+Math.max(2,i.right-i.left)+"px;");n.display.lineSpace.appendChild(y),y.scrollIntoView(c),n.display.lineSpace.removeChild(y)}}}function ND(n,i,l,a){a==null&&(a=0);var c;!n.options.lineWrapping&&i==l&&(l=i.sticky=="before"?Q(i.line,i.ch+1,"before"):i,i=i.ch?Q(i.line,i.sticky=="before"?i.ch-1:i.ch,"after"):i);for(var p=0;p<5;p++){var y=!1,v=hn(n,i),b=!l||l==i?v:hn(n,l);c={left:Math.min(v.left,b.left),top:Math.min(v.top,b.top)-a,right:Math.max(v.left,b.left),bottom:Math.max(v.bottom,b.bottom)+a};var A=ku(n,c),B=n.doc.scrollTop,R=n.doc.scrollLeft;if(A.scrollTop!=null&&(mo(n,A.scrollTop),Math.abs(n.doc.scrollTop-B)>1&&(y=!0)),A.scrollLeft!=null&&(kr(n,A.scrollLeft),Math.abs(n.doc.scrollLeft-R)>1&&(y=!0)),!y)break}return c}function OD(n,i){var l=ku(n,i);l.scrollTop!=null&&mo(n,l.scrollTop),l.scrollLeft!=null&&kr(n,l.scrollLeft)}function ku(n,i){var l=n.display,a=li(n.display);i.top<0&&(i.top=0);var c=n.curOp&&n.curOp.scrollTop!=null?n.curOp.scrollTop:l.scroller.scrollTop,p=uu(n),y={};i.bottom-i.top>p&&(i.bottom=i.top+p);var v=n.doc.height+lu(l),b=i.top<a,A=i.bottom>v-a;if(i.top<c)y.scrollTop=b?0:i.top;else if(i.bottom>c+p){var B=Math.min(i.top,(A?v:i.bottom)-p);B!=c&&(y.scrollTop=B)}var R=n.options.fixedGutter?0:l.gutters.offsetWidth,V=n.curOp&&n.curOp.scrollLeft!=null?n.curOp.scrollLeft:l.scroller.scrollLeft-R,_=vr(n)-l.gutters.offsetWidth,Z=i.right-i.left>_;return Z&&(i.right=i.left+_),i.left<10?y.scrollLeft=0:i.left<V?y.scrollLeft=Math.max(0,i.left+R-(Z?0:10)):i.right>_+V-3&&(y.scrollLeft=i.right+(Z?0:10)-_),y}function Cu(n,i){i!=null&&(Ys(n),n.curOp.scrollTop=(n.curOp.scrollTop==null?n.doc.scrollTop:n.curOp.scrollTop)+i)}function fi(n){Ys(n);var i=n.getCursor();n.curOp.scrollToPos={from:i,to:i,margin:n.options.cursorScrollMargin}}function go(n,i,l){(i!=null||l!=null)&&Ys(n),i!=null&&(n.curOp.scrollLeft=i),l!=null&&(n.curOp.scrollTop=l)}function PD(n,i){Ys(n),n.curOp.scrollToPos=i}function Ys(n){var i=n.curOp.scrollToPos;if(i){n.curOp.scrollToPos=null;var l=xh(n,i.from),a=xh(n,i.to);Mh(n,l,a,i.margin)}}function Mh(n,i,l,a){var c=ku(n,{left:Math.min(i.left,l.left),top:Math.min(i.top,l.top)-a,right:Math.max(i.right,l.right),bottom:Math.max(i.bottom,l.bottom)+a});go(n,c.scrollLeft,c.scrollTop)}function mo(n,i){Math.abs(n.doc.scrollTop-i)<2||(r||Du(n,{top:i}),Lh(n,i,!0),r&&Du(n),wo(n,100))}function Lh(n,i,l){i=Math.max(0,Math.min(n.display.scroller.scrollHeight-n.display.scroller.clientHeight,i)),!(n.display.scroller.scrollTop==i&&!l)&&(n.doc.scrollTop=i,n.display.scrollbars.setScrollTop(i),n.display.scroller.scrollTop!=i&&(n.display.scroller.scrollTop=i))}function kr(n,i,l,a){i=Math.max(0,Math.min(i,n.display.scroller.scrollWidth-n.display.scroller.clientWidth)),!((l?i==n.doc.scrollLeft:Math.abs(n.doc.scrollLeft-i)<2)&&!a)&&(n.doc.scrollLeft=i,Ih(n),n.display.scroller.scrollLeft!=i&&(n.display.scroller.scrollLeft=i),n.display.scrollbars.setScrollLeft(i))}function yo(n){var i=n.display,l=i.gutters.offsetWidth,a=Math.round(n.doc.height+lu(n.display));return{clientHeight:i.scroller.clientHeight,viewHeight:i.wrapper.clientHeight,scrollWidth:i.scroller.scrollWidth,clientWidth:i.scroller.clientWidth,viewWidth:i.wrapper.clientWidth,barLeft:n.options.fixedGutter?l:0,docHeight:a,scrollHeight:a+Sn(n)+i.barHeight,nativeBarWidth:i.nativeBarWidth,gutterWidth:l}}var Cr=function(n,i,l){this.cm=l;var a=this.vert=E("div",[E("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),c=this.horiz=E("div",[E("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");a.tabIndex=c.tabIndex=-1,n(a),n(c),be(a,"scroll",function(){a.clientHeight&&i(a.scrollTop,"vertical")}),be(c,"scroll",function(){c.clientWidth&&i(c.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,f&&d<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};Cr.prototype.update=function(n){var i=n.scrollWidth>n.clientWidth+1,l=n.scrollHeight>n.clientHeight+1,a=n.nativeBarWidth;if(l){this.vert.style.display="block",this.vert.style.bottom=i?a+"px":"0";var c=n.viewHeight-(i?a:0);this.vert.firstChild.style.height=Math.max(0,n.scrollHeight-n.clientHeight+c)+"px"}else this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0";if(i){this.horiz.style.display="block",this.horiz.style.right=l?a+"px":"0",this.horiz.style.left=n.barLeft+"px";var p=n.viewWidth-n.barLeft-(l?a:0);this.horiz.firstChild.style.width=Math.max(0,n.scrollWidth-n.clientWidth+p)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&n.clientHeight>0&&(a==0&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:l?a:0,bottom:i?a:0}},Cr.prototype.setScrollLeft=function(n){this.horiz.scrollLeft!=n&&(this.horiz.scrollLeft=n),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},Cr.prototype.setScrollTop=function(n){this.vert.scrollTop!=n&&(this.vert.scrollTop=n),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},Cr.prototype.zeroWidthHack=function(){var n=M&&!L?"12px":"18px";this.horiz.style.height=this.vert.style.width=n,this.horiz.style.visibility=this.vert.style.visibility="hidden",this.disableHoriz=new Me,this.disableVert=new Me},Cr.prototype.enableZeroWidthBar=function(n,i,l){n.style.visibility="";function a(){var c=n.getBoundingClientRect(),p=l=="vert"?document.elementFromPoint(c.right-1,(c.top+c.bottom)/2):document.elementFromPoint((c.right+c.left)/2,c.bottom-1);p!=n?n.style.visibility="hidden":i.set(1e3,a)}i.set(1e3,a)},Cr.prototype.clear=function(){var n=this.horiz.parentNode;n.removeChild(this.horiz),n.removeChild(this.vert)};var vo=function(){};vo.prototype.update=function(){return{bottom:0,right:0}},vo.prototype.setScrollLeft=function(){},vo.prototype.setScrollTop=function(){},vo.prototype.clear=function(){};function di(n,i){i||(i=yo(n));var l=n.display.barWidth,a=n.display.barHeight;Fh(n,i);for(var c=0;c<4&&l!=n.display.barWidth||a!=n.display.barHeight;c++)l!=n.display.barWidth&&n.options.lineWrapping&&Us(n),Fh(n,yo(n)),l=n.display.barWidth,a=n.display.barHeight}function Fh(n,i){var l=n.display,a=l.scrollbars.update(i);l.sizer.style.paddingRight=(l.barWidth=a.right)+"px",l.sizer.style.paddingBottom=(l.barHeight=a.bottom)+"px",l.heightForcer.style.borderBottom=a.bottom+"px solid transparent",a.right&&a.bottom?(l.scrollbarFiller.style.display="block",l.scrollbarFiller.style.height=a.bottom+"px",l.scrollbarFiller.style.width=a.right+"px"):l.scrollbarFiller.style.display="",a.bottom&&n.options.coverGutterNextToScrollbar&&n.options.fixedGutter?(l.gutterFiller.style.display="block",l.gutterFiller.style.height=a.bottom+"px",l.gutterFiller.style.width=i.gutterWidth+"px"):l.gutterFiller.style.display=""}var Nh={native:Cr,null:vo};function Oh(n){n.display.scrollbars&&(n.display.scrollbars.clear(),n.display.scrollbars.addClass&&X(n.display.wrapper,n.display.scrollbars.addClass)),n.display.scrollbars=new Nh[n.options.scrollbarStyle](function(i){n.display.wrapper.insertBefore(i,n.display.scrollbarFiller),be(i,"mousedown",function(){n.state.focused&&setTimeout(function(){return n.display.input.focus()},0)}),i.setAttribute("cm-not-content","true")},function(i,l){l=="horizontal"?kr(n,i):mo(n,i)},n),n.display.scrollbars.addClass&&Ie(n.display.wrapper,n.display.scrollbars.addClass)}var ID=0;function Ar(n){n.curOp={cm:n,viewChanged:!1,startHeight:n.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++ID,markArrays:null},dD(n.curOp)}function Dr(n){var i=n.curOp;i&&hD(i,function(l){for(var a=0;a<l.ops.length;a++)l.ops[a].cm.curOp=null;jD(l)})}function jD(n){for(var i=n.ops,l=0;l<i.length;l++)BD(i[l]);for(var a=0;a<i.length;a++)zD(i[a]);for(var c=0;c<i.length;c++)RD(i[c]);for(var p=0;p<i.length;p++)HD(i[p]);for(var y=0;y<i.length;y++)qD(i[y])}function BD(n){var i=n.cm,l=i.display;WD(i),n.updateMaxLine&&su(i),n.mustUpdate=n.viewChanged||n.forceUpdate||n.scrollTop!=null||n.scrollToPos&&(n.scrollToPos.from.line<l.viewFrom||n.scrollToPos.to.line>=l.viewTo)||l.maxLineChanged&&i.options.lineWrapping,n.update=n.mustUpdate&&new Qs(i,n.mustUpdate&&{top:n.scrollTop,ensure:n.scrollToPos},n.forceUpdate)}function zD(n){n.updatedDisplay=n.mustUpdate&&Au(n.cm,n.update)}function RD(n){var i=n.cm,l=i.display;n.updatedDisplay&&Us(i),n.barMeasure=yo(i),l.maxLineChanged&&!i.options.lineWrapping&&(n.adjustWidthTo=ph(i,l.maxLine,l.maxLine.text.length).left+3,i.display.sizerWidth=n.adjustWidthTo,n.barMeasure.scrollWidth=Math.max(l.scroller.clientWidth,l.sizer.offsetLeft+n.adjustWidthTo+Sn(i)+i.display.barWidth),n.maxScrollLeft=Math.max(0,l.sizer.offsetLeft+n.adjustWidthTo-vr(i))),(n.updatedDisplay||n.selectionChanged)&&(n.preparedSelection=l.input.prepareSelection())}function HD(n){var i=n.cm;n.adjustWidthTo!=null&&(i.display.sizer.style.minWidth=n.adjustWidthTo+"px",n.maxScrollLeft<i.doc.scrollLeft&&kr(i,Math.min(i.display.scroller.scrollLeft,n.maxScrollLeft),!0),i.display.maxLineChanged=!1);var l=n.focus&&n.focus==ke(vt(i));n.preparedSelection&&i.display.input.showSelection(n.preparedSelection,l),(n.updatedDisplay||n.startHeight!=i.doc.height)&&di(i,n.barMeasure),n.updatedDisplay&&Eu(i,n.barMeasure),n.selectionChanged&&wu(i),i.state.focused&&n.updateInput&&i.display.input.reset(n.typing),l&&Eh(n.cm)}function qD(n){var i=n.cm,l=i.display,a=i.doc;if(n.updatedDisplay&&Ph(i,n.update),l.wheelStartX!=null&&(n.scrollTop!=null||n.scrollLeft!=null||n.scrollToPos)&&(l.wheelStartX=l.wheelStartY=null),n.scrollTop!=null&&Lh(i,n.scrollTop,n.forceScroll),n.scrollLeft!=null&&kr(i,n.scrollLeft,!0,!0),n.scrollToPos){var c=ND(i,Le(a,n.scrollToPos.from),Le(a,n.scrollToPos.to),n.scrollToPos.margin);FD(i,c)}var p=n.maybeHiddenMarkers,y=n.maybeUnhiddenMarkers;if(p)for(var v=0;v<p.length;++v)p[v].lines.length||Xe(p[v],"hide");if(y)for(var b=0;b<y.length;++b)y[b].lines.length&&Xe(y[b],"unhide");l.wrapper.offsetHeight&&(a.scrollTop=i.display.scroller.scrollTop),n.changeObjs&&Xe(i,"changes",i,n.changeObjs),n.update&&n.update.finish()}function Bt(n,i){if(n.curOp)return i();Ar(n);try{return i()}finally{Dr(n)}}function pt(n,i){return function(){if(n.curOp)return i.apply(n,arguments);Ar(n);try{return i.apply(n,arguments)}finally{Dr(n)}}}function Dt(n){return function(){if(this.curOp)return n.apply(this,arguments);Ar(this);try{return n.apply(this,arguments)}finally{Dr(this)}}}function ht(n){return function(){var i=this.cm;if(!i||i.curOp)return n.apply(this,arguments);Ar(i);try{return n.apply(this,arguments)}finally{Dr(i)}}}function wo(n,i){n.doc.highlightFrontier<n.display.viewTo&&n.state.highlight.set(i,Ce(_D,n))}function _D(n){var i=n.doc;if(!(i.highlightFrontier>=n.display.viewTo)){var l=+new Date+n.options.workTime,a=ao(n,i.highlightFrontier),c=[];i.iter(a.line,Math.min(i.first+i.size,n.display.viewTo+500),function(p){if(a.line>=n.display.viewFrom){var y=p.styles,v=p.text.length>n.options.maxHighlightLength?An(i.mode,a.state):null,b=qp(n,p,a,!0);v&&(a.state=v),p.styles=b.styles;var A=p.styleClasses,B=b.classes;B?p.styleClasses=B:A&&(p.styleClasses=null);for(var R=!y||y.length!=p.styles.length||A!=B&&(!A||!B||A.bgClass!=B.bgClass||A.textClass!=B.textClass),V=0;!R&&V<y.length;++V)R=y[V]!=p.styles[V];R&&c.push(a.line),p.stateAfter=a.save(),a.nextLine()}else p.text.length<=n.options.maxHighlightLength&&eu(n,p.text,a),p.stateAfter=a.line%5==0?a.save():null,a.nextLine();if(+new Date>l)return wo(n,n.options.workDelay),!0}),i.highlightFrontier=a.line,i.modeFrontier=Math.max(i.modeFrontier,a.line),c.length&&Bt(n,function(){for(var p=0;p<c.length;p++)er(n,c[p],"text")})}}var Qs=function(n,i,l){var a=n.display;this.viewport=i,this.visible=Gs(a,n.doc,i),this.editorIsHidden=!a.wrapper.offsetWidth,this.wrapperHeight=a.wrapper.clientHeight,this.wrapperWidth=a.wrapper.clientWidth,this.oldDisplayWidth=vr(n),this.force=l,this.dims=gu(n),this.events=[]};Qs.prototype.signal=function(n,i){jt(n,i)&&this.events.push(arguments)},Qs.prototype.finish=function(){for(var n=0;n<this.events.length;n++)Xe.apply(null,this.events[n])};function WD(n){var i=n.display;!i.scrollbarsClipped&&i.scroller.offsetWidth&&(i.nativeBarWidth=i.scroller.offsetWidth-i.scroller.clientWidth,i.heightForcer.style.height=Sn(n)+"px",i.sizer.style.marginBottom=-i.nativeBarWidth+"px",i.sizer.style.borderRightWidth=Sn(n)+"px",i.scrollbarsClipped=!0)}function $D(n){if(n.hasFocus())return null;var i=ke(vt(n));if(!i||!fe(n.display.lineDiv,i))return null;var l={activeElt:i};if(window.getSelection){var a=Ee(n).getSelection();a.anchorNode&&a.extend&&fe(n.display.lineDiv,a.anchorNode)&&(l.anchorNode=a.anchorNode,l.anchorOffset=a.anchorOffset,l.focusNode=a.focusNode,l.focusOffset=a.focusOffset)}return l}function VD(n){if(!(!n||!n.activeElt||n.activeElt==ke(Re(n.activeElt)))&&(n.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(n.activeElt.nodeName)&&n.anchorNode&&fe(document.body,n.anchorNode)&&fe(document.body,n.focusNode))){var i=n.activeElt.ownerDocument,l=i.defaultView.getSelection(),a=i.createRange();a.setEnd(n.anchorNode,n.anchorOffset),a.collapse(!1),l.removeAllRanges(),l.addRange(a),l.extend(n.focusNode,n.focusOffset)}}function Au(n,i){var l=n.display,a=n.doc;if(i.editorIsHidden)return tr(n),!1;if(!i.force&&i.visible.from>=l.viewFrom&&i.visible.to<=l.viewTo&&(l.updateLineNumbers==null||l.updateLineNumbers>=l.viewTo)&&l.renderedView==l.view&&Dh(n)==0)return!1;jh(n)&&(tr(n),i.dims=gu(n));var c=a.first+a.size,p=Math.max(i.visible.from-n.options.viewportMargin,a.first),y=Math.min(c,i.visible.to+n.options.viewportMargin);l.viewFrom<p&&p-l.viewFrom<20&&(p=Math.max(a.first,l.viewFrom)),l.viewTo>y&&l.viewTo-y<20&&(y=Math.min(c,l.viewTo)),Pn&&(p=iu(n.doc,p),y=th(n.doc,y));var v=p!=l.viewFrom||y!=l.viewTo||l.lastWrapHeight!=i.wrapperHeight||l.lastWrapWidth!=i.wrapperWidth;MD(n,p,y),l.viewOffset=In(me(n.doc,l.viewFrom)),n.display.mover.style.top=l.viewOffset+"px";var b=Dh(n);if(!v&&b==0&&!i.force&&l.renderedView==l.view&&(l.updateLineNumbers==null||l.updateLineNumbers>=l.viewTo))return!1;var A=$D(n);return b>4&&(l.lineDiv.style.display="none"),UD(n,l.updateLineNumbers,i.dims),b>4&&(l.lineDiv.style.display=""),l.renderedView=l.view,VD(A),q(l.cursorDiv),q(l.selectionDiv),l.gutters.style.height=l.sizer.style.minHeight=0,v&&(l.lastWrapHeight=i.wrapperHeight,l.lastWrapWidth=i.wrapperWidth,wo(n,400)),l.updateLineNumbers=null,!0}function Ph(n,i){for(var l=i.viewport,a=!0;;a=!1){if(!a||!n.options.lineWrapping||i.oldDisplayWidth==vr(n)){if(l&&l.top!=null&&(l={top:Math.min(n.doc.height+lu(n.display)-uu(n),l.top)}),i.visible=Gs(n.display,n.doc,l),i.visible.from>=n.display.viewFrom&&i.visible.to<=n.display.viewTo)break}else a&&(i.visible=Gs(n.display,n.doc,l));if(!Au(n,i))break;Us(n);var c=yo(n);ho(n),di(n,c),Eu(n,c),i.force=!1}i.signal(n,"update",n),(n.display.viewFrom!=n.display.reportedViewFrom||n.display.viewTo!=n.display.reportedViewTo)&&(i.signal(n,"viewportChange",n,n.display.viewFrom,n.display.viewTo),n.display.reportedViewFrom=n.display.viewFrom,n.display.reportedViewTo=n.display.viewTo)}function Du(n,i){var l=new Qs(n,i);if(Au(n,l)){Us(n),Ph(n,l);var a=yo(n);ho(n),di(n,a),Eu(n,a),l.finish()}}function UD(n,i,l){var a=n.display,c=n.options.lineNumbers,p=a.lineDiv,y=p.firstChild;function v(Z){var ne=Z.nextSibling;return h&&M&&n.display.currentWheelTarget==Z?Z.style.display="none":Z.parentNode.removeChild(Z),ne}for(var b=a.view,A=a.viewFrom,B=0;B<b.length;B++){var R=b[B];if(!R.hidden)if(!R.node||R.node.parentNode!=p){var V=wD(n,R,A,l);p.insertBefore(V,y)}else{for(;y!=R.node;)y=v(y);var _=c&&i!=null&&i<=A&&R.lineNumber;R.changes&&(ye(R.changes,"gutter")>-1&&(_=!1),sh(n,R,A,l)),_&&(q(R.lineNumber),R.lineNumber.appendChild(document.createTextNode(ie(n.options,A)))),y=R.node.nextSibling}A+=R.size}for(;y;)y=v(y)}function Su(n){var i=n.gutters.offsetWidth;n.sizer.style.marginLeft=i+"px",dt(n,"gutterChanged",n)}function Eu(n,i){n.display.sizer.style.minHeight=i.docHeight+"px",n.display.heightForcer.style.top=i.docHeight+"px",n.display.gutters.style.height=i.docHeight+n.display.barHeight+Sn(n)+"px"}function Ih(n){var i=n.display,l=i.view;if(!(!i.alignWidgets&&(!i.gutters.firstChild||!n.options.fixedGutter))){for(var a=mu(i)-i.scroller.scrollLeft+n.doc.scrollLeft,c=i.gutters.offsetWidth,p=a+"px",y=0;y<l.length;y++)if(!l[y].hidden){n.options.fixedGutter&&(l[y].gutter&&(l[y].gutter.style.left=p),l[y].gutterBackground&&(l[y].gutterBackground.style.left=p));var v=l[y].alignable;if(v)for(var b=0;b<v.length;b++)v[b].style.left=p}n.options.fixedGutter&&(i.gutters.style.left=a+c+"px")}}function jh(n){if(!n.options.lineNumbers)return!1;var i=n.doc,l=ie(n.options,i.first+i.size-1),a=n.display;if(l.length!=a.lineNumChars){var c=a.measure.appendChild(E("div",[E("div",l)],"CodeMirror-linenumber CodeMirror-gutter-elt")),p=c.firstChild.offsetWidth,y=c.offsetWidth-p;return a.lineGutter.style.width="",a.lineNumInnerWidth=Math.max(p,a.lineGutter.offsetWidth-y)+1,a.lineNumWidth=a.lineNumInnerWidth+y,a.lineNumChars=a.lineNumInnerWidth?l.length:-1,a.lineGutter.style.width=a.lineNumWidth+"px",Su(n.display),!0}return!1}function Tu(n,i){for(var l=[],a=!1,c=0;c<n.length;c++){var p=n[c],y=null;if(typeof p!="string"&&(y=p.style,p=p.className),p=="CodeMirror-linenumbers")if(i)a=!0;else continue;l.push({className:p,style:y})}return i&&!a&&l.push({className:"CodeMirror-linenumbers",style:null}),l}function Bh(n){var i=n.gutters,l=n.gutterSpecs;q(i),n.lineGutter=null;for(var a=0;a<l.length;++a){var c=l[a],p=c.className,y=c.style,v=i.appendChild(E("div",null,"CodeMirror-gutter "+p));y&&(v.style.cssText=y),p=="CodeMirror-linenumbers"&&(n.lineGutter=v,v.style.width=(n.lineNumWidth||1)+"px")}i.style.display=l.length?"":"none",Su(n)}function bo(n){Bh(n.display),Ft(n),Ih(n)}function GD(n,i,l,a){var c=this;this.input=l,c.scrollbarFiller=E("div",null,"CodeMirror-scrollbar-filler"),c.scrollbarFiller.setAttribute("cm-not-content","true"),c.gutterFiller=E("div",null,"CodeMirror-gutter-filler"),c.gutterFiller.setAttribute("cm-not-content","true"),c.lineDiv=Y("div",null,"CodeMirror-code"),c.selectionDiv=E("div",null,null,"position: relative; z-index: 1"),c.cursorDiv=E("div",null,"CodeMirror-cursors"),c.measure=E("div",null,"CodeMirror-measure"),c.lineMeasure=E("div",null,"CodeMirror-measure"),c.lineSpace=Y("div",[c.measure,c.lineMeasure,c.selectionDiv,c.cursorDiv,c.lineDiv],null,"position: relative; outline: none");var p=Y("div",[c.lineSpace],"CodeMirror-lines");c.mover=E("div",[p],null,"position: relative"),c.sizer=E("div",[c.mover],"CodeMirror-sizer"),c.sizerWidth=null,c.heightForcer=E("div",null,null,"position: absolute; height: "+ut+"px; width: 1px;"),c.gutters=E("div",null,"CodeMirror-gutters"),c.lineGutter=null,c.scroller=E("div",[c.sizer,c.heightForcer,c.gutters],"CodeMirror-scroll"),c.scroller.setAttribute("tabIndex","-1"),c.wrapper=E("div",[c.scrollbarFiller,c.gutterFiller,c.scroller],"CodeMirror"),m&&w>=105&&(c.wrapper.style.clipPath="inset(0px)"),c.wrapper.setAttribute("translate","no"),f&&d<8&&(c.gutters.style.zIndex=-1,c.scroller.style.paddingRight=0),!h&&!(r&&k)&&(c.scroller.draggable=!0),n&&(n.appendChild?n.appendChild(c.wrapper):n(c.wrapper)),c.viewFrom=c.viewTo=i.first,c.reportedViewFrom=c.reportedViewTo=i.first,c.view=[],c.renderedView=null,c.externalMeasured=null,c.viewOffset=0,c.lastWrapHeight=c.lastWrapWidth=0,c.updateLineNumbers=null,c.nativeBarWidth=c.barHeight=c.barWidth=0,c.scrollbarsClipped=!1,c.lineNumWidth=c.lineNumInnerWidth=c.lineNumChars=null,c.alignWidgets=!1,c.cachedCharWidth=c.cachedTextHeight=c.cachedPaddingH=null,c.maxLine=null,c.maxLineLength=0,c.maxLineChanged=!1,c.wheelDX=c.wheelDY=c.wheelStartX=c.wheelStartY=null,c.shift=!1,c.selForContextMenu=null,c.activeTouch=null,c.gutterSpecs=Tu(a.gutters,a.lineNumbers),Bh(c),l.init(c)}var Ks=0,Bn=null;f?Bn=-.53:r?Bn=15:m?Bn=-.7:D&&(Bn=-1/3);function zh(n){var i=n.wheelDeltaX,l=n.wheelDeltaY;return i==null&&n.detail&&n.axis==n.HORIZONTAL_AXIS&&(i=n.detail),l==null&&n.detail&&n.axis==n.VERTICAL_AXIS?l=n.detail:l==null&&(l=n.wheelDelta),{x:i,y:l}}function YD(n){var i=zh(n);return i.x*=Bn,i.y*=Bn,i}function Rh(n,i){m&&w==102&&(n.display.chromeScrollHack==null?n.display.sizer.style.pointerEvents="none":clearTimeout(n.display.chromeScrollHack),n.display.chromeScrollHack=setTimeout(function(){n.display.chromeScrollHack=null,n.display.sizer.style.pointerEvents=""},100));var l=zh(i),a=l.x,c=l.y,p=Bn;i.deltaMode===0&&(a=i.deltaX,c=i.deltaY,p=1);var y=n.display,v=y.scroller,b=v.scrollWidth>v.clientWidth,A=v.scrollHeight>v.clientHeight;if(a&&b||c&&A){if(c&&M&&h){e:for(var B=i.target,R=y.view;B!=v;B=B.parentNode)for(var V=0;V<R.length;V++)if(R[V].node==B){n.display.currentWheelTarget=B;break e}}if(a&&!r&&!x&&p!=null){c&&A&&mo(n,Math.max(0,v.scrollTop+c*p)),kr(n,Math.max(0,v.scrollLeft+a*p)),(!c||c&&A)&&kt(i),y.wheelStartX=null;return}if(c&&p!=null){var _=c*p,Z=n.doc.scrollTop,ne=Z+y.wrapper.clientHeight;_<0?Z=Math.max(0,Z+_-50):ne=Math.min(n.doc.height,ne+_+50),Du(n,{top:Z,bottom:ne})}Ks<20&&i.deltaMode!==0&&(y.wheelStartX==null?(y.wheelStartX=v.scrollLeft,y.wheelStartY=v.scrollTop,y.wheelDX=a,y.wheelDY=c,setTimeout(function(){if(y.wheelStartX!=null){var oe=v.scrollLeft-y.wheelStartX,ae=v.scrollTop-y.wheelStartY,ce=ae&&y.wheelDY&&ae/y.wheelDY||oe&&y.wheelDX&&oe/y.wheelDX;y.wheelStartX=y.wheelStartY=null,ce&&(Bn=(Bn*Ks+ce)/(Ks+1),++Ks)}},200)):(y.wheelDX+=a,y.wheelDY+=c))}}var Qt=function(n,i){this.ranges=n,this.primIndex=i};Qt.prototype.primary=function(){return this.ranges[this.primIndex]},Qt.prototype.equals=function(n){if(n==this)return!0;if(n.primIndex!=this.primIndex||n.ranges.length!=this.ranges.length)return!1;for(var i=0;i<this.ranges.length;i++){var l=this.ranges[i],a=n.ranges[i];if(!He(l.anchor,a.anchor)||!He(l.head,a.head))return!1}return!0},Qt.prototype.deepCopy=function(){for(var n=[],i=0;i<this.ranges.length;i++)n[i]=new qe(ft(this.ranges[i].anchor),ft(this.ranges[i].head));return new Qt(n,this.primIndex)},Qt.prototype.somethingSelected=function(){for(var n=0;n<this.ranges.length;n++)if(!this.ranges[n].empty())return!0;return!1},Qt.prototype.contains=function(n,i){i||(i=n);for(var l=0;l<this.ranges.length;l++){var a=this.ranges[l];if(ue(i,a.from())>=0&&ue(n,a.to())<=0)return l}return-1};var qe=function(n,i){this.anchor=n,this.head=i};qe.prototype.from=function(){return ii(this.anchor,this.head)},qe.prototype.to=function(){return Lt(this.anchor,this.head)},qe.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch};function gn(n,i,l){var a=n&&n.options.selectionsMayTouch,c=i[l];i.sort(function(V,_){return ue(V.from(),_.from())}),l=ye(i,c);for(var p=1;p<i.length;p++){var y=i[p],v=i[p-1],b=ue(v.to(),y.from());if(a&&!y.empty()?b>0:b>=0){var A=ii(v.from(),y.from()),B=Lt(v.to(),y.to()),R=v.empty()?y.from()==y.head:v.from()==v.head;p<=l&&--l,i.splice(--p,2,new qe(R?B:A,R?A:B))}}return new Qt(i,l)}function nr(n,i){return new Qt([new qe(n,i||n)],0)}function rr(n){return n.text?Q(n.from.line+n.text.length-1,ge(n.text).length+(n.text.length==1?n.from.ch:0)):n.to}function Hh(n,i){if(ue(n,i.from)<0)return n;if(ue(n,i.to)<=0)return rr(i);var l=n.line+i.text.length-(i.to.line-i.from.line)-1,a=n.ch;return n.line==i.to.line&&(a+=rr(i).ch-i.to.ch),Q(l,a)}function Mu(n,i){for(var l=[],a=0;a<n.sel.ranges.length;a++){var c=n.sel.ranges[a];l.push(new qe(Hh(c.anchor,i),Hh(c.head,i)))}return gn(n.cm,l,n.sel.primIndex)}function qh(n,i,l){return n.line==i.line?Q(l.line,n.ch-i.ch+l.ch):Q(l.line+(n.line-i.line),n.ch)}function QD(n,i,l){for(var a=[],c=Q(n.first,0),p=c,y=0;y<i.length;y++){var v=i[y],b=qh(v.from,c,p),A=qh(rr(v),c,p);if(c=v.to,p=A,l=="around"){var B=n.sel.ranges[y],R=ue(B.head,B.anchor)<0;a[y]=new qe(R?A:b,R?b:A)}else a[y]=new qe(b,b)}return new Qt(a,n.sel.primIndex)}function Lu(n){n.doc.mode=ti(n.options,n.doc.modeOption),xo(n)}function xo(n){n.doc.iter(function(i){i.stateAfter&&(i.stateAfter=null),i.styles&&(i.styles=null)}),n.doc.modeFrontier=n.doc.highlightFrontier=n.doc.first,wo(n,100),n.state.modeGen++,n.curOp&&Ft(n)}function _h(n,i){return i.from.ch==0&&i.to.ch==0&&ge(i.text)==""&&(!n.cm||n.cm.options.wholeLineUpdateBefore)}function Fu(n,i,l,a){function c(ce){return l?l[ce]:null}function p(ce,le,he){rD(ce,le,he,a),dt(ce,"change",ce,i)}function y(ce,le){for(var he=[],xe=ce;xe<le;++xe)he.push(new oi(A[xe],c(xe),a));return he}var v=i.from,b=i.to,A=i.text,B=me(n,v.line),R=me(n,b.line),V=ge(A),_=c(A.length-1),Z=b.line-v.line;if(i.full)n.insert(0,y(0,A.length)),n.remove(A.length,n.size-A.length);else if(_h(n,i)){var ne=y(0,A.length-1);p(R,R.text,_),Z&&n.remove(v.line,Z),ne.length&&n.insert(v.line,ne)}else if(B==R)if(A.length==1)p(B,B.text.slice(0,v.ch)+V+B.text.slice(b.ch),_);else{var oe=y(1,A.length-1);oe.push(new oi(V+B.text.slice(b.ch),_,a)),p(B,B.text.slice(0,v.ch)+A[0],c(0)),n.insert(v.line+1,oe)}else if(A.length==1)p(B,B.text.slice(0,v.ch)+A[0]+R.text.slice(b.ch),c(0)),n.remove(v.line+1,Z);else{p(B,B.text.slice(0,v.ch)+A[0],c(0)),p(R,V+R.text.slice(b.ch),_);var ae=y(1,A.length-1);Z>1&&n.remove(v.line+1,Z-1),n.insert(v.line+1,ae)}dt(n,"change",n,i)}function ir(n,i,l){function a(c,p,y){if(c.linked)for(var v=0;v<c.linked.length;++v){var b=c.linked[v];if(b.doc!=p){var A=y&&b.sharedHist;l&&!A||(i(b.doc,A),a(b.doc,c,A))}}}a(n,null,!0)}function Wh(n,i){if(i.cm)throw new Error("This document is already in use.");n.doc=i,i.cm=n,yu(n),Lu(n),$h(n),n.options.direction=i.direction,n.options.lineWrapping||su(n),n.options.mode=i.modeOption,Ft(n)}function $h(n){(n.doc.direction=="rtl"?Ie:X)(n.display.lineDiv,"CodeMirror-rtl")}function KD(n){Bt(n,function(){$h(n),Ft(n)})}function Js(n){this.done=[],this.undone=[],this.undoDepth=n?n.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=n?n.maxGeneration:1}function Nu(n,i){var l={from:ft(i.from),to:rr(i),text:On(n,i.from,i.to)};return Gh(n,l,i.from.line,i.to.line+1),ir(n,function(a){return Gh(a,l,i.from.line,i.to.line+1)},!0),l}function Vh(n){for(;n.length;){var i=ge(n);if(i.ranges)n.pop();else break}}function JD(n,i){if(i)return Vh(n.done),ge(n.done);if(n.done.length&&!ge(n.done).ranges)return ge(n.done);if(n.done.length>1&&!n.done[n.done.length-2].ranges)return n.done.pop(),ge(n.done)}function Uh(n,i,l,a){var c=n.history;c.undone.length=0;var p=+new Date,y,v;if((c.lastOp==a||c.lastOrigin==i.origin&&i.origin&&(i.origin.charAt(0)=="+"&&c.lastModTime>p-(n.cm?n.cm.options.historyEventDelay:500)||i.origin.charAt(0)=="*"))&&(y=JD(c,c.lastOp==a)))v=ge(y.changes),ue(i.from,i.to)==0&&ue(i.from,v.to)==0?v.to=rr(i):y.changes.push(Nu(n,i));else{var b=ge(c.done);for((!b||!b.ranges)&&Zs(n.sel,c.done),y={changes:[Nu(n,i)],generation:c.generation},c.done.push(y);c.done.length>c.undoDepth;)c.done.shift(),c.done[0].ranges||c.done.shift()}c.done.push(l),c.generation=++c.maxGeneration,c.lastModTime=c.lastSelTime=p,c.lastOp=c.lastSelOp=a,c.lastOrigin=c.lastSelOrigin=i.origin,v||Xe(n,"historyAdded")}function ZD(n,i,l,a){var c=i.charAt(0);return c=="*"||c=="+"&&l.ranges.length==a.ranges.length&&l.somethingSelected()==a.somethingSelected()&&new Date-n.history.lastSelTime<=(n.cm?n.cm.options.historyEventDelay:500)}function XD(n,i,l,a){var c=n.history,p=a&&a.origin;l==c.lastSelOp||p&&c.lastSelOrigin==p&&(c.lastModTime==c.lastSelTime&&c.lastOrigin==p||ZD(n,p,ge(c.done),i))?c.done[c.done.length-1]=i:Zs(i,c.done),c.lastSelTime=+new Date,c.lastSelOrigin=p,c.lastSelOp=l,a&&a.clearRedo!==!1&&Vh(c.undone)}function Zs(n,i){var l=ge(i);l&&l.ranges&&l.equals(n)||i.push(n)}function Gh(n,i,l,a){var c=i["spans_"+n.id],p=0;n.iter(Math.max(n.first,l),Math.min(n.first+n.size,a),function(y){y.markedSpans&&((c||(c=i["spans_"+n.id]={}))[p]=y.markedSpans),++p})}function eS(n){if(!n)return null;for(var i,l=0;l<n.length;++l)n[l].marker.explicitlyCleared?i||(i=n.slice(0,l)):i&&i.push(n[l]);return i?i.length?i:null:n}function tS(n,i){var l=i["spans_"+n.id];if(!l)return null;for(var a=[],c=0;c<i.text.length;++c)a.push(eS(l[c]));return a}function Yh(n,i){var l=tS(n,i),a=nu(n,i);if(!l)return a;if(!a)return l;for(var c=0;c<l.length;++c){var p=l[c],y=a[c];if(p&&y)e:for(var v=0;v<y.length;++v){for(var b=y[v],A=0;A<p.length;++A)if(p[A].marker==b.marker)continue e;p.push(b)}else y&&(l[c]=y)}return l}function pi(n,i,l){for(var a=[],c=0;c<n.length;++c){var p=n[c];if(p.ranges){a.push(l?Qt.prototype.deepCopy.call(p):p);continue}var y=p.changes,v=[];a.push({changes:v});for(var b=0;b<y.length;++b){var A=y[b],B=void 0;if(v.push({from:A.from,to:A.to,text:A.text}),i)for(var R in A)(B=R.match(/^spans_(\d+)$/))&&ye(i,Number(B[1]))>-1&&(ge(v)[R]=A[R],delete A[R])}}return a}function Ou(n,i,l,a){if(a){var c=n.anchor;if(l){var p=ue(i,c)<0;p!=ue(l,c)<0?(c=i,i=l):p!=ue(i,l)<0&&(i=l)}return new qe(c,i)}else return new qe(l||i,i)}function Xs(n,i,l,a,c){c==null&&(c=n.cm&&(n.cm.display.shift||n.extend)),Ct(n,new Qt([Ou(n.sel.primary(),i,l,c)],0),a)}function Qh(n,i,l){for(var a=[],c=n.cm&&(n.cm.display.shift||n.extend),p=0;p<n.sel.ranges.length;p++)a[p]=Ou(n.sel.ranges[p],i[p],null,c);var y=gn(n.cm,a,n.sel.primIndex);Ct(n,y,l)}function Pu(n,i,l,a){var c=n.sel.ranges.slice(0);c[i]=l,Ct(n,gn(n.cm,c,n.sel.primIndex),a)}function Kh(n,i,l,a){Ct(n,nr(i,l),a)}function nS(n,i,l){var a={ranges:i.ranges,update:function(c){this.ranges=[];for(var p=0;p<c.length;p++)this.ranges[p]=new qe(Le(n,c[p].anchor),Le(n,c[p].head))},origin:l&&l.origin};return Xe(n,"beforeSelectionChange",n,a),n.cm&&Xe(n.cm,"beforeSelectionChange",n.cm,a),a.ranges!=i.ranges?gn(n.cm,a.ranges,a.ranges.length-1):i}function Jh(n,i,l){var a=n.history.done,c=ge(a);c&&c.ranges?(a[a.length-1]=i,ea(n,i,l)):Ct(n,i,l)}function Ct(n,i,l){ea(n,i,l),XD(n,n.sel,n.cm?n.cm.curOp.id:NaN,l)}function ea(n,i,l){(jt(n,"beforeSelectionChange")||n.cm&&jt(n.cm,"beforeSelectionChange"))&&(i=nS(n,i,l));var a=l&&l.bias||(ue(i.primary().head,n.sel.primary().head)<0?-1:1);Zh(n,eg(n,i,a,!0)),!(l&&l.scroll===!1)&&n.cm&&n.cm.getOption("readOnly")!="nocursor"&&fi(n.cm)}function Zh(n,i){i.equals(n.sel)||(n.sel=i,n.cm&&(n.cm.curOp.updateInput=1,n.cm.curOp.selectionChanged=!0,en(n.cm)),dt(n,"cursorActivity",n))}function Xh(n){Zh(n,eg(n,n.sel,null,!1))}function eg(n,i,l,a){for(var c,p=0;p<i.ranges.length;p++){var y=i.ranges[p],v=i.ranges.length==n.sel.ranges.length&&n.sel.ranges[p],b=ta(n,y.anchor,v&&v.anchor,l,a),A=y.head==y.anchor?b:ta(n,y.head,v&&v.head,l,a);(c||b!=y.anchor||A!=y.head)&&(c||(c=i.ranges.slice(0,p)),c[p]=new qe(b,A))}return c?gn(n.cm,c,i.primIndex):i}function hi(n,i,l,a,c){var p=me(n,i.line);if(p.markedSpans)for(var y=0;y<p.markedSpans.length;++y){var v=p.markedSpans[y],b=v.marker,A="selectLeft"in b?!b.selectLeft:b.inclusiveLeft,B="selectRight"in b?!b.selectRight:b.inclusiveRight;if((v.from==null||(A?v.from<=i.ch:v.from<i.ch))&&(v.to==null||(B?v.to>=i.ch:v.to>i.ch))){if(c&&(Xe(b,"beforeCursorEnter"),b.explicitlyCleared))if(p.markedSpans){--y;continue}else break;if(!b.atomic)continue;if(l){var R=b.find(a<0?1:-1),V=void 0;if((a<0?B:A)&&(R=tg(n,R,-a,R&&R.line==i.line?p:null)),R&&R.line==i.line&&(V=ue(R,l))&&(a<0?V<0:V>0))return hi(n,R,i,a,c)}var _=b.find(a<0?-1:1);return(a<0?A:B)&&(_=tg(n,_,a,_.line==i.line?p:null)),_?hi(n,_,i,a,c):null}}return i}function ta(n,i,l,a,c){var p=a||1,y=hi(n,i,l,p,c)||!c&&hi(n,i,l,p,!0)||hi(n,i,l,-p,c)||!c&&hi(n,i,l,-p,!0);return y||(n.cantEdit=!0,Q(n.first,0))}function tg(n,i,l,a){return l<0&&i.ch==0?i.line>n.first?Le(n,Q(i.line-1)):null:l>0&&i.ch==(a||me(n,i.line)).text.length?i.line<n.first+n.size-1?Q(i.line+1,0):null:new Q(i.line,i.ch+l)}function ng(n){n.setSelection(Q(n.firstLine(),0),Q(n.lastLine()),de)}function rg(n,i,l){var a={canceled:!1,from:i.from,to:i.to,text:i.text,origin:i.origin,cancel:function(){return a.canceled=!0}};return l&&(a.update=function(c,p,y,v){c&&(a.from=Le(n,c)),p&&(a.to=Le(n,p)),y&&(a.text=y),v!==void 0&&(a.origin=v)}),Xe(n,"beforeChange",n,a),n.cm&&Xe(n.cm,"beforeChange",n.cm,a),a.canceled?(n.cm&&(n.cm.curOp.updateInput=2),null):{from:a.from,to:a.to,text:a.text,origin:a.origin}}function gi(n,i,l){if(n.cm){if(!n.cm.curOp)return pt(n.cm,gi)(n,i,l);if(n.cm.state.suppressEdits)return}if(!((jt(n,"beforeChange")||n.cm&&jt(n.cm,"beforeChange"))&&(i=rg(n,i,!0),!i))){var a=Yp&&!l&&XA(n,i.from,i.to);if(a)for(var c=a.length-1;c>=0;--c)ig(n,{from:a[c].from,to:a[c].to,text:c?[""]:i.text,origin:i.origin});else ig(n,i)}}function ig(n,i){if(!(i.text.length==1&&i.text[0]==""&&ue(i.from,i.to)==0)){var l=Mu(n,i);Uh(n,i,l,n.cm?n.cm.curOp.id:NaN),ko(n,i,l,nu(n,i));var a=[];ir(n,function(c,p){!p&&ye(a,c.history)==-1&&(lg(c.history,i),a.push(c.history)),ko(c,i,null,nu(c,i))})}}function na(n,i,l){var a=n.cm&&n.cm.state.suppressEdits;if(!(a&&!l)){for(var c=n.history,p,y=n.sel,v=i=="undo"?c.done:c.undone,b=i=="undo"?c.undone:c.done,A=0;A<v.length&&(p=v[A],!(l?p.ranges&&!p.equals(n.sel):!p.ranges));A++);if(A!=v.length){for(c.lastOrigin=c.lastSelOrigin=null;;)if(p=v.pop(),p.ranges){if(Zs(p,b),l&&!p.equals(n.sel)){Ct(n,p,{clearRedo:!1});return}y=p}else if(a){v.push(p);return}else break;var B=[];Zs(y,b),b.push({changes:B,generation:c.generation}),c.generation=p.generation||++c.maxGeneration;for(var R=jt(n,"beforeChange")||n.cm&&jt(n.cm,"beforeChange"),V=function(ne){var oe=p.changes[ne];if(oe.origin=i,R&&!rg(n,oe,!1))return v.length=0,{};B.push(Nu(n,oe));var ae=ne?Mu(n,oe):ge(v);ko(n,oe,ae,Yh(n,oe)),!ne&&n.cm&&n.cm.scrollIntoView({from:oe.from,to:rr(oe)});var ce=[];ir(n,function(le,he){!he&&ye(ce,le.history)==-1&&(lg(le.history,oe),ce.push(le.history)),ko(le,oe,null,Yh(le,oe))})},_=p.changes.length-1;_>=0;--_){var Z=V(_);if(Z)return Z.v}}}}function og(n,i){if(i!=0&&(n.first+=i,n.sel=new Qt(Ae(n.sel.ranges,function(c){return new qe(Q(c.anchor.line+i,c.anchor.ch),Q(c.head.line+i,c.head.ch))}),n.sel.primIndex),n.cm)){Ft(n.cm,n.first,n.first-i,i);for(var l=n.cm.display,a=l.viewFrom;a<l.viewTo;a++)er(n.cm,a,"gutter")}}function ko(n,i,l,a){if(n.cm&&!n.cm.curOp)return pt(n.cm,ko)(n,i,l,a);if(i.to.line<n.first){og(n,i.text.length-1-(i.to.line-i.from.line));return}if(!(i.from.line>n.lastLine())){if(i.from.line<n.first){var c=i.text.length-1-(n.first-i.from.line);og(n,c),i={from:Q(n.first,0),to:Q(i.to.line+c,i.to.ch),text:[ge(i.text)],origin:i.origin}}var p=n.lastLine();i.to.line>p&&(i={from:i.from,to:Q(p,me(n,p).text.length),text:[i.text[0]],origin:i.origin}),i.removed=On(n,i.from,i.to),l||(l=Mu(n,i)),n.cm?rS(n.cm,i,a):Fu(n,i,a),ea(n,l,de),n.cantEdit&&ta(n,Q(n.firstLine(),0))&&(n.cantEdit=!1)}}function rS(n,i,l){var a=n.doc,c=n.display,p=i.from,y=i.to,v=!1,b=p.line;n.options.lineWrapping||(b=S(pn(me(a,p.line))),a.iter(b,y.line+1,function(_){if(_==c.maxLine)return v=!0,!0})),a.sel.contains(i.from,i.to)>-1&&en(n),Fu(a,i,l,Ah(n)),n.options.lineWrapping||(a.iter(b,p.line+i.text.length,function(_){var Z=Rs(_);Z>c.maxLineLength&&(c.maxLine=_,c.maxLineLength=Z,c.maxLineChanged=!0,v=!1)}),v&&(n.curOp.updateMaxLine=!0)),UA(a,p.line),wo(n,400);var A=i.text.length-(y.line-p.line)-1;i.full?Ft(n):p.line==y.line&&i.text.length==1&&!_h(n.doc,i)?er(n,p.line,"text"):Ft(n,p.line,y.line+1,A);var B=jt(n,"changes"),R=jt(n,"change");if(R||B){var V={from:p,to:y,text:i.text,removed:i.removed,origin:i.origin};R&&dt(n,"change",n,V),B&&(n.curOp.changeObjs||(n.curOp.changeObjs=[])).push(V)}n.display.selForContextMenu=null}function mi(n,i,l,a,c){var p;a||(a=l),ue(a,l)<0&&(p=[a,l],l=p[0],a=p[1]),typeof i=="string"&&(i=n.splitLines(i)),gi(n,{from:l,to:a,text:i,origin:c})}function sg(n,i,l,a){l<n.line?n.line+=a:i<n.line&&(n.line=i,n.ch=0)}function ag(n,i,l,a){for(var c=0;c<n.length;++c){var p=n[c],y=!0;if(p.ranges){p.copied||(p=n[c]=p.deepCopy(),p.copied=!0);for(var v=0;v<p.ranges.length;v++)sg(p.ranges[v].anchor,i,l,a),sg(p.ranges[v].head,i,l,a);continue}for(var b=0;b<p.changes.length;++b){var A=p.changes[b];if(l<A.from.line)A.from=Q(A.from.line+a,A.from.ch),A.to=Q(A.to.line+a,A.to.ch);else if(i<=A.to.line){y=!1;break}}y||(n.splice(0,c+1),c=0)}}function lg(n,i){var l=i.from.line,a=i.to.line,c=i.text.length-(a-l)-1;ag(n.done,l,a,c),ag(n.undone,l,a,c)}function Co(n,i,l,a){var c=i,p=i;return typeof i=="number"?p=me(n,Rp(n,i)):c=S(i),c==null?null:(a(p,c)&&n.cm&&er(n.cm,c,l),p)}function Ao(n){this.lines=n,this.parent=null;for(var i=0,l=0;l<n.length;++l)n[l].parent=this,i+=n[l].height;this.height=i}Ao.prototype={chunkSize:function(){return this.lines.length},removeInner:function(n,i){for(var l=n,a=n+i;l<a;++l){var c=this.lines[l];this.height-=c.height,iD(c),dt(c,"delete")}this.lines.splice(n,i)},collapse:function(n){n.push.apply(n,this.lines)},insertInner:function(n,i,l){this.height+=l,this.lines=this.lines.slice(0,n).concat(i).concat(this.lines.slice(n));for(var a=0;a<i.length;++a)i[a].parent=this},iterN:function(n,i,l){for(var a=n+i;n<a;++n)if(l(this.lines[n]))return!0}};function Do(n){this.children=n;for(var i=0,l=0,a=0;a<n.length;++a){var c=n[a];i+=c.chunkSize(),l+=c.height,c.parent=this}this.size=i,this.height=l,this.parent=null}Do.prototype={chunkSize:function(){return this.size},removeInner:function(n,i){this.size-=i;for(var l=0;l<this.children.length;++l){var a=this.children[l],c=a.chunkSize();if(n<c){var p=Math.min(i,c-n),y=a.height;if(a.removeInner(n,p),this.height-=y-a.height,c==p&&(this.children.splice(l--,1),a.parent=null),(i-=p)==0)break;n=0}else n-=c}if(this.size-i<25&&(this.children.length>1||!(this.children[0]instanceof Ao))){var v=[];this.collapse(v),this.children=[new Ao(v)],this.children[0].parent=this}},collapse:function(n){for(var i=0;i<this.children.length;++i)this.children[i].collapse(n)},insertInner:function(n,i,l){this.size+=i.length,this.height+=l;for(var a=0;a<this.children.length;++a){var c=this.children[a],p=c.chunkSize();if(n<=p){if(c.insertInner(n,i,l),c.lines&&c.lines.length>50){for(var y=c.lines.length%25+25,v=y;v<c.lines.length;){var b=new Ao(c.lines.slice(v,v+=25));c.height-=b.height,this.children.splice(++a,0,b),b.parent=this}c.lines=c.lines.slice(0,y),this.maybeSpill()}break}n-=p}},maybeSpill:function(){if(!(this.children.length<=10)){var n=this;do{var i=n.children.splice(n.children.length-5,5),l=new Do(i);if(n.parent){n.size-=l.size,n.height-=l.height;var c=ye(n.parent.children,n);n.parent.children.splice(c+1,0,l)}else{var a=new Do(n.children);a.parent=n,n.children=[a,l],n=a}l.parent=n.parent}while(n.children.length>10);n.parent.maybeSpill()}},iterN:function(n,i,l){for(var a=0;a<this.children.length;++a){var c=this.children[a],p=c.chunkSize();if(n<p){var y=Math.min(i,p-n);if(c.iterN(n,y,l))return!0;if((i-=y)==0)break;n=0}else n-=p}}};var So=function(n,i,l){if(l)for(var a in l)l.hasOwnProperty(a)&&(this[a]=l[a]);this.doc=n,this.node=i};So.prototype.clear=function(){var n=this.doc.cm,i=this.line.widgets,l=this.line,a=S(l);if(!(a==null||!i)){for(var c=0;c<i.length;++c)i[c]==this&&i.splice(c--,1);i.length||(l.widgets=null);var p=fo(this);Yt(l,Math.max(0,l.height-p)),n&&(Bt(n,function(){ug(n,l,-p),er(n,a,"widget")}),dt(n,"lineWidgetCleared",n,this,a))}},So.prototype.changed=function(){var n=this,i=this.height,l=this.doc.cm,a=this.line;this.height=null;var c=fo(this)-i;c&&(Xn(this.doc,a)||Yt(a,a.height+c),l&&Bt(l,function(){l.curOp.forceUpdate=!0,ug(l,a,c),dt(l,"lineWidgetChanged",l,n,S(a))}))},ln(So);function ug(n,i,l){In(i)<(n.curOp&&n.curOp.scrollTop||n.doc.scrollTop)&&Cu(n,l)}function iS(n,i,l,a){var c=new So(n,l,a),p=n.cm;return p&&c.noHScroll&&(p.display.alignWidgets=!0),Co(n,i,"widget",function(y){var v=y.widgets||(y.widgets=[]);if(c.insertAt==null?v.push(c):v.splice(Math.min(v.length,Math.max(0,c.insertAt)),0,c),c.line=y,p&&!Xn(n,y)){var b=In(y)<n.scrollTop;Yt(y,y.height+fo(c)),b&&Cu(p,c.height),p.curOp.forceUpdate=!0}return!0}),p&&dt(p,"lineWidgetAdded",p,c,typeof i=="number"?i:S(i)),c}var cg=0,or=function(n,i){this.lines=[],this.type=i,this.doc=n,this.id=++cg};or.prototype.clear=function(){if(!this.explicitlyCleared){var n=this.doc.cm,i=n&&!n.curOp;if(i&&Ar(n),jt(this,"clear")){var l=this.find();l&&dt(this,"clear",l.from,l.to)}for(var a=null,c=null,p=0;p<this.lines.length;++p){var y=this.lines[p],v=lo(y.markedSpans,this);n&&!this.collapsed?er(n,S(y),"text"):n&&(v.to!=null&&(c=S(y)),v.from!=null&&(a=S(y))),y.markedSpans=QA(y.markedSpans,v),v.from==null&&this.collapsed&&!Xn(this.doc,y)&&n&&Yt(y,li(n.display))}if(n&&this.collapsed&&!n.options.lineWrapping)for(var b=0;b<this.lines.length;++b){var A=pn(this.lines[b]),B=Rs(A);B>n.display.maxLineLength&&(n.display.maxLine=A,n.display.maxLineLength=B,n.display.maxLineChanged=!0)}a!=null&&n&&this.collapsed&&Ft(n,a,c+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,n&&Xh(n.doc)),n&&dt(n,"markerCleared",n,this,a,c),i&&Dr(n),this.parent&&this.parent.clear()}},or.prototype.find=function(n,i){n==null&&this.type=="bookmark"&&(n=1);for(var l,a,c=0;c<this.lines.length;++c){var p=this.lines[c],y=lo(p.markedSpans,this);if(y.from!=null&&(l=Q(i?p:S(p),y.from),n==-1))return l;if(y.to!=null&&(a=Q(i?p:S(p),y.to),n==1))return a}return l&&{from:l,to:a}},or.prototype.changed=function(){var n=this,i=this.find(-1,!0),l=this,a=this.doc.cm;!i||!a||Bt(a,function(){var c=i.line,p=S(i.line),y=cu(a,p);if(y&&(mh(y),a.curOp.selectionChanged=a.curOp.forceUpdate=!0),a.curOp.updateMaxLine=!0,!Xn(l.doc,c)&&l.height!=null){var v=l.height;l.height=null;var b=fo(l)-v;b&&Yt(c,c.height+b)}dt(a,"markerChanged",a,n)})},or.prototype.attachLine=function(n){if(!this.lines.length&&this.doc.cm){var i=this.doc.cm.curOp;(!i.maybeHiddenMarkers||ye(i.maybeHiddenMarkers,this)==-1)&&(i.maybeUnhiddenMarkers||(i.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(n)},or.prototype.detachLine=function(n){if(this.lines.splice(ye(this.lines,n),1),!this.lines.length&&this.doc.cm){var i=this.doc.cm.curOp;(i.maybeHiddenMarkers||(i.maybeHiddenMarkers=[])).push(this)}},ln(or);function yi(n,i,l,a,c){if(a&&a.shared)return oS(n,i,l,a,c);if(n.cm&&!n.cm.curOp)return pt(n.cm,yi)(n,i,l,a,c);var p=new or(n,c),y=ue(i,l);if(a&&Te(a,p,!1),y>0||y==0&&p.clearWhenEmpty!==!1)return p;if(p.replacedWith&&(p.collapsed=!0,p.widgetNode=Y("span",[p.replacedWith],"CodeMirror-widget"),a.handleMouseEvents||p.widgetNode.setAttribute("cm-ignore-events","true"),a.insertLeft&&(p.widgetNode.insertLeft=!0)),p.collapsed){if(eh(n,i.line,i,l,p)||i.line!=l.line&&eh(n,l.line,i,l,p))throw new Error("Inserting collapsed marker partially overlapping an existing one");YA()}p.addToHistory&&Uh(n,{from:i,to:l,origin:"markText"},n.sel,NaN);var v=i.line,b=n.cm,A;if(n.iter(v,l.line+1,function(R){b&&p.collapsed&&!b.options.lineWrapping&&pn(R)==b.display.maxLine&&(A=!0),p.collapsed&&v!=i.line&&Yt(R,0),KA(R,new Is(p,v==i.line?i.ch:null,v==l.line?l.ch:null),n.cm&&n.cm.curOp),++v}),p.collapsed&&n.iter(i.line,l.line+1,function(R){Xn(n,R)&&Yt(R,0)}),p.clearOnEnter&&be(p,"beforeCursorEnter",function(){return p.clear()}),p.readOnly&&(GA(),(n.history.done.length||n.history.undone.length)&&n.clearHistory()),p.collapsed&&(p.id=++cg,p.atomic=!0),b){if(A&&(b.curOp.updateMaxLine=!0),p.collapsed)Ft(b,i.line,l.line+1);else if(p.className||p.startStyle||p.endStyle||p.css||p.attributes||p.title)for(var B=i.line;B<=l.line;B++)er(b,B,"text");p.atomic&&Xh(b.doc),dt(b,"markerAdded",b,p)}return p}var Eo=function(n,i){this.markers=n,this.primary=i;for(var l=0;l<n.length;++l)n[l].parent=this};Eo.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var n=0;n<this.markers.length;++n)this.markers[n].clear();dt(this,"clear")}},Eo.prototype.find=function(n,i){return this.primary.find(n,i)},ln(Eo);function oS(n,i,l,a,c){a=Te(a),a.shared=!1;var p=[yi(n,i,l,a,c)],y=p[0],v=a.widgetNode;return ir(n,function(b){v&&(a.widgetNode=v.cloneNode(!0)),p.push(yi(b,Le(b,i),Le(b,l),a,c));for(var A=0;A<b.linked.length;++A)if(b.linked[A].isParent)return;y=ge(p)}),new Eo(p,y)}function fg(n){return n.findMarks(Q(n.first,0),n.clipPos(Q(n.lastLine())),function(i){return i.parent})}function sS(n,i){for(var l=0;l<i.length;l++){var a=i[l],c=a.find(),p=n.clipPos(c.from),y=n.clipPos(c.to);if(ue(p,y)){var v=yi(n,p,y,a.primary,a.primary.type);a.markers.push(v),v.parent=a}}}function aS(n){for(var i=function(a){var c=n[a],p=[c.primary.doc];ir(c.primary.doc,function(b){return p.push(b)});for(var y=0;y<c.markers.length;y++){var v=c.markers[y];ye(p,v.doc)==-1&&(v.parent=null,c.markers.splice(y--,1))}},l=0;l<n.length;l++)i(l)}var lS=0,Nt=function(n,i,l,a,c){if(!(this instanceof Nt))return new Nt(n,i,l,a,c);l==null&&(l=0),Do.call(this,[new Ao([new oi("",null)])]),this.first=l,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=l;var p=Q(l,0);this.sel=nr(p),this.history=new Js(null),this.id=++lS,this.modeOption=i,this.lineSep=a,this.direction=c=="rtl"?"rtl":"ltr",this.extend=!1,typeof n=="string"&&(n=this.splitLines(n)),Fu(this,{from:p,to:p,text:n}),Ct(this,nr(p),de)};Nt.prototype=J(Do.prototype,{constructor:Nt,iter:function(n,i,l){l?this.iterN(n-this.first,i-n,l):this.iterN(this.first,this.first+this.size,n)},insert:function(n,i){for(var l=0,a=0;a<i.length;++a)l+=i[a].height;this.insertInner(n-this.first,i,l)},remove:function(n,i){this.removeInner(n-this.first,i)},getValue:function(n){var i=so(this,this.first,this.first+this.size);return n===!1?i:i.join(n||this.lineSeparator())},setValue:ht(function(n){var i=Q(this.first,0),l=this.first+this.size-1;gi(this,{from:i,to:Q(l,me(this,l).text.length),text:this.splitLines(n),origin:"setValue",full:!0},!0),this.cm&&go(this.cm,0,0),Ct(this,nr(i),de)}),replaceRange:function(n,i,l,a){i=Le(this,i),l=l?Le(this,l):i,mi(this,n,i,l,a)},getRange:function(n,i,l){var a=On(this,Le(this,n),Le(this,i));return l===!1?a:l===""?a.join(""):a.join(l||this.lineSeparator())},getLine:function(n){var i=this.getLineHandle(n);return i&&i.text},getLineHandle:function(n){if(ee(this,n))return me(this,n)},getLineNumber:function(n){return S(n)},getLineHandleVisualStart:function(n){return typeof n=="number"&&(n=me(this,n)),pn(n)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(n){return Le(this,n)},getCursor:function(n){var i=this.sel.primary(),l;return n==null||n=="head"?l=i.head:n=="anchor"?l=i.anchor:n=="end"||n=="to"||n===!1?l=i.to():l=i.from(),l},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:ht(function(n,i,l){Kh(this,Le(this,typeof n=="number"?Q(n,i||0):n),null,l)}),setSelection:ht(function(n,i,l){Kh(this,Le(this,n),Le(this,i||n),l)}),extendSelection:ht(function(n,i,l){Xs(this,Le(this,n),i&&Le(this,i),l)}),extendSelections:ht(function(n,i){Qh(this,Hp(this,n),i)}),extendSelectionsBy:ht(function(n,i){var l=Ae(this.sel.ranges,n);Qh(this,Hp(this,l),i)}),setSelections:ht(function(n,i,l){if(n.length){for(var a=[],c=0;c<n.length;c++)a[c]=new qe(Le(this,n[c].anchor),Le(this,n[c].head||n[c].anchor));i==null&&(i=Math.min(n.length-1,this.sel.primIndex)),Ct(this,gn(this.cm,a,i),l)}}),addSelection:ht(function(n,i,l){var a=this.sel.ranges.slice(0);a.push(new qe(Le(this,n),Le(this,i||n))),Ct(this,gn(this.cm,a,a.length-1),l)}),getSelection:function(n){for(var i=this.sel.ranges,l,a=0;a<i.length;a++){var c=On(this,i[a].from(),i[a].to());l=l?l.concat(c):c}return n===!1?l:l.join(n||this.lineSeparator())},getSelections:function(n){for(var i=[],l=this.sel.ranges,a=0;a<l.length;a++){var c=On(this,l[a].from(),l[a].to());n!==!1&&(c=c.join(n||this.lineSeparator())),i[a]=c}return i},replaceSelection:function(n,i,l){for(var a=[],c=0;c<this.sel.ranges.length;c++)a[c]=n;this.replaceSelections(a,i,l||"+input")},replaceSelections:ht(function(n,i,l){for(var a=[],c=this.sel,p=0;p<c.ranges.length;p++){var y=c.ranges[p];a[p]={from:y.from(),to:y.to(),text:this.splitLines(n[p]),origin:l}}for(var v=i&&i!="end"&&QD(this,a,i),b=a.length-1;b>=0;b--)gi(this,a[b]);v?Jh(this,v):this.cm&&fi(this.cm)}),undo:ht(function(){na(this,"undo")}),redo:ht(function(){na(this,"redo")}),undoSelection:ht(function(){na(this,"undo",!0)}),redoSelection:ht(function(){na(this,"redo",!0)}),setExtending:function(n){this.extend=n},getExtending:function(){return this.extend},historySize:function(){for(var n=this.history,i=0,l=0,a=0;a<n.done.length;a++)n.done[a].ranges||++i;for(var c=0;c<n.undone.length;c++)n.undone[c].ranges||++l;return{undo:i,redo:l}},clearHistory:function(){var n=this;this.history=new Js(this.history),ir(this,function(i){return i.history=n.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(n){return n&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(n){return this.history.generation==(n||this.cleanGeneration)},getHistory:function(){return{done:pi(this.history.done),undone:pi(this.history.undone)}},setHistory:function(n){var i=this.history=new Js(this.history);i.done=pi(n.done.slice(0),null,!0),i.undone=pi(n.undone.slice(0),null,!0)},setGutterMarker:ht(function(n,i,l){return Co(this,n,"gutter",function(a){var c=a.gutterMarkers||(a.gutterMarkers={});return c[i]=l,!l&&Ls(c)&&(a.gutterMarkers=null),!0})}),clearGutter:ht(function(n){var i=this;this.iter(function(l){l.gutterMarkers&&l.gutterMarkers[n]&&Co(i,l,"gutter",function(){return l.gutterMarkers[n]=null,Ls(l.gutterMarkers)&&(l.gutterMarkers=null),!0})})}),lineInfo:function(n){var i;if(typeof n=="number"){if(!ee(this,n)||(i=n,n=me(this,n),!n))return null}else if(i=S(n),i==null)return null;return{line:i,handle:n,text:n.text,gutterMarkers:n.gutterMarkers,textClass:n.textClass,bgClass:n.bgClass,wrapClass:n.wrapClass,widgets:n.widgets}},addLineClass:ht(function(n,i,l){return Co(this,n,i=="gutter"?"gutter":"class",function(a){var c=i=="text"?"textClass":i=="background"?"bgClass":i=="gutter"?"gutterClass":"wrapClass";if(!a[c])a[c]=l;else{if(W(l).test(a[c]))return!1;a[c]+=" "+l}return!0})}),removeLineClass:ht(function(n,i,l){return Co(this,n,i=="gutter"?"gutter":"class",function(a){var c=i=="text"?"textClass":i=="background"?"bgClass":i=="gutter"?"gutterClass":"wrapClass",p=a[c];if(p)if(l==null)a[c]=null;else{var y=p.match(W(l));if(!y)return!1;var v=y.index+y[0].length;a[c]=p.slice(0,y.index)+(!y.index||v==p.length?"":" ")+p.slice(v)||null}else return!1;return!0})}),addLineWidget:ht(function(n,i,l){return iS(this,n,i,l)}),removeLineWidget:function(n){n.clear()},markText:function(n,i,l){return yi(this,Le(this,n),Le(this,i),l,l&&l.type||"range")},setBookmark:function(n,i){var l={replacedWith:i&&(i.nodeType==null?i.widget:i),insertLeft:i&&i.insertLeft,clearWhenEmpty:!1,shared:i&&i.shared,handleMouseEvents:i&&i.handleMouseEvents};return n=Le(this,n),yi(this,n,n,l,"bookmark")},findMarksAt:function(n){n=Le(this,n);var i=[],l=me(this,n.line).markedSpans;if(l)for(var a=0;a<l.length;++a){var c=l[a];(c.from==null||c.from<=n.ch)&&(c.to==null||c.to>=n.ch)&&i.push(c.marker.parent||c.marker)}return i},findMarks:function(n,i,l){n=Le(this,n),i=Le(this,i);var a=[],c=n.line;return this.iter(n.line,i.line+1,function(p){var y=p.markedSpans;if(y)for(var v=0;v<y.length;v++){var b=y[v];!(b.to!=null&&c==n.line&&n.ch>=b.to||b.from==null&&c!=n.line||b.from!=null&&c==i.line&&b.from>=i.ch)&&(!l||l(b.marker))&&a.push(b.marker.parent||b.marker)}++c}),a},getAllMarks:function(){var n=[];return this.iter(function(i){var l=i.markedSpans;if(l)for(var a=0;a<l.length;++a)l[a].from!=null&&n.push(l[a].marker)}),n},posFromIndex:function(n){var i,l=this.first,a=this.lineSeparator().length;return this.iter(function(c){var p=c.text.length+a;if(p>n)return i=n,!0;n-=p,++l}),Le(this,Q(l,i))},indexFromPos:function(n){n=Le(this,n);var i=n.ch;if(n.line<this.first||n.ch<0)return 0;var l=this.lineSeparator().length;return this.iter(this.first,n.line,function(a){i+=a.text.length+l}),i},copy:function(n){var i=new Nt(so(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return i.scrollTop=this.scrollTop,i.scrollLeft=this.scrollLeft,i.sel=this.sel,i.extend=!1,n&&(i.history.undoDepth=this.history.undoDepth,i.setHistory(this.getHistory())),i},linkedDoc:function(n){n||(n={});var i=this.first,l=this.first+this.size;n.from!=null&&n.from>i&&(i=n.from),n.to!=null&&n.to<l&&(l=n.to);var a=new Nt(so(this,i,l),n.mode||this.modeOption,i,this.lineSep,this.direction);return n.sharedHist&&(a.history=this.history),(this.linked||(this.linked=[])).push({doc:a,sharedHist:n.sharedHist}),a.linked=[{doc:this,isParent:!0,sharedHist:n.sharedHist}],sS(a,fg(this)),a},unlinkDoc:function(n){if(n instanceof Qe&&(n=n.doc),this.linked)for(var i=0;i<this.linked.length;++i){var l=this.linked[i];if(l.doc==n){this.linked.splice(i,1),n.unlinkDoc(this),aS(fg(this));break}}if(n.history==this.history){var a=[n.id];ir(n,function(c){return a.push(c.id)},!0),n.history=new Js(null),n.history.done=pi(this.history.done,a),n.history.undone=pi(this.history.undone,a)}},iterLinkedDocs:function(n){ir(this,n)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(n){return this.lineSep?n.split(this.lineSep):tn(n)},lineSeparator:function(){return this.lineSep||`
`},setDirection:ht(function(n){n!="rtl"&&(n="ltr"),n!=this.direction&&(this.direction=n,this.iter(function(i){return i.order=null}),this.cm&&KD(this.cm))})}),Nt.prototype.eachLine=Nt.prototype.iter;var dg=0;function uS(n){var i=this;if(pg(i),!(et(i,n)||jn(i.display,n))){kt(n),f&&(dg=+new Date);var l=br(i,n,!0),a=n.dataTransfer.files;if(!(!l||i.isReadOnly()))if(a&&a.length&&window.FileReader&&window.File)for(var c=a.length,p=Array(c),y=0,v=function(){++y==c&&pt(i,function(){l=Le(i.doc,l);var _={from:l,to:l,text:i.doc.splitLines(p.filter(function(Z){return Z!=null}).join(i.doc.lineSeparator())),origin:"paste"};gi(i.doc,_),Jh(i.doc,nr(Le(i.doc,l),Le(i.doc,rr(_))))})()},b=function(_,Z){if(i.options.allowDropFileTypes&&ye(i.options.allowDropFileTypes,_.type)==-1){v();return}var ne=new FileReader;ne.onerror=function(){return v()},ne.onload=function(){var oe=ne.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(oe)){v();return}p[Z]=oe,v()},ne.readAsText(_)},A=0;A<a.length;A++)b(a[A],A);else{if(i.state.draggingText&&i.doc.sel.contains(l)>-1){i.state.draggingText(n),setTimeout(function(){return i.display.input.focus()},20);return}try{var B=n.dataTransfer.getData("Text");if(B){var R;if(i.state.draggingText&&!i.state.draggingText.copy&&(R=i.listSelections()),ea(i.doc,nr(l,l)),R)for(var V=0;V<R.length;++V)mi(i.doc,"",R[V].anchor,R[V].head,"drag");i.replaceSelection(B,"around","paste"),i.display.input.focus()}}catch{}}}}function cS(n,i){if(f&&(!n.state.draggingText||+new Date-dg<100)){Qn(i);return}if(!(et(n,i)||jn(n.display,i))&&(i.dataTransfer.setData("Text",n.getSelection()),i.dataTransfer.effectAllowed="copyMove",i.dataTransfer.setDragImage&&!D)){var l=E("img",null,null,"position: fixed; left: 0; top: 0;");l.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",x&&(l.width=l.height=1,n.display.wrapper.appendChild(l),l._top=l.offsetTop),i.dataTransfer.setDragImage(l,0,0),x&&l.parentNode.removeChild(l)}}function fS(n,i){var l=br(n,i);if(l){var a=document.createDocumentFragment();vu(n,l,a),n.display.dragCursor||(n.display.dragCursor=E("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),n.display.lineSpace.insertBefore(n.display.dragCursor,n.display.cursorDiv)),K(n.display.dragCursor,a)}}function pg(n){n.display.dragCursor&&(n.display.lineSpace.removeChild(n.display.dragCursor),n.display.dragCursor=null)}function hg(n){if(document.getElementsByClassName){for(var i=document.getElementsByClassName("CodeMirror"),l=[],a=0;a<i.length;a++){var c=i[a].CodeMirror;c&&l.push(c)}l.length&&l[0].operation(function(){for(var p=0;p<l.length;p++)n(l[p])})}}var gg=!1;function dS(){gg||(pS(),gg=!0)}function pS(){var n;be(window,"resize",function(){n==null&&(n=setTimeout(function(){n=null,hg(hS)},100))}),be(window,"blur",function(){return hg(ci)})}function hS(n){var i=n.display;i.cachedCharWidth=i.cachedTextHeight=i.cachedPaddingH=null,i.scrollbarsClipped=!1,n.setSize()}for(var sr={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},To=0;To<10;To++)sr[To+48]=sr[To+96]=String(To);for(var ra=65;ra<=90;ra++)sr[ra]=String.fromCharCode(ra);for(var Mo=1;Mo<=12;Mo++)sr[Mo+111]=sr[Mo+63235]="F"+Mo;var zn={};zn.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},zn.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},zn.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},zn.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},zn.default=M?zn.macDefault:zn.pcDefault;function gS(n){var i=n.split(/-(?!$)/);n=i[i.length-1];for(var l,a,c,p,y=0;y<i.length-1;y++){var v=i[y];if(/^(cmd|meta|m)$/i.test(v))p=!0;else if(/^a(lt)?$/i.test(v))l=!0;else if(/^(c|ctrl|control)$/i.test(v))a=!0;else if(/^s(hift)?$/i.test(v))c=!0;else throw new Error("Unrecognized modifier name: "+v)}return l&&(n="Alt-"+n),a&&(n="Ctrl-"+n),p&&(n="Cmd-"+n),c&&(n="Shift-"+n),n}function mS(n){var i={};for(var l in n)if(n.hasOwnProperty(l)){var a=n[l];if(/^(name|fallthrough|(de|at)tach)$/.test(l))continue;if(a=="..."){delete n[l];continue}for(var c=Ae(l.split(" "),gS),p=0;p<c.length;p++){var y=void 0,v=void 0;p==c.length-1?(v=c.join(" "),y=a):(v=c.slice(0,p+1).join(" "),y="...");var b=i[v];if(!b)i[v]=y;else if(b!=y)throw new Error("Inconsistent bindings for "+v)}delete n[l]}for(var A in i)n[A]=i[A];return n}function vi(n,i,l,a){i=ia(i);var c=i.call?i.call(n,a):i[n];if(c===!1)return"nothing";if(c==="...")return"multi";if(c!=null&&l(c))return"handled";if(i.fallthrough){if(Object.prototype.toString.call(i.fallthrough)!="[object Array]")return vi(n,i.fallthrough,l,a);for(var p=0;p<i.fallthrough.length;p++){var y=vi(n,i.fallthrough[p],l,a);if(y)return y}}}function mg(n){var i=typeof n=="string"?n:sr[n.keyCode];return i=="Ctrl"||i=="Alt"||i=="Shift"||i=="Mod"}function yg(n,i,l){var a=n;return i.altKey&&a!="Alt"&&(n="Alt-"+n),(j?i.metaKey:i.ctrlKey)&&a!="Ctrl"&&(n="Ctrl-"+n),(j?i.ctrlKey:i.metaKey)&&a!="Mod"&&(n="Cmd-"+n),!l&&i.shiftKey&&a!="Shift"&&(n="Shift-"+n),n}function vg(n,i){if(x&&n.keyCode==34&&n.char)return!1;var l=sr[n.keyCode];return l==null||n.altGraphKey?!1:(n.keyCode==3&&n.code&&(l=n.code),yg(l,n,i))}function ia(n){return typeof n=="string"?zn[n]:n}function wi(n,i){for(var l=n.doc.sel.ranges,a=[],c=0;c<l.length;c++){for(var p=i(l[c]);a.length&&ue(p.from,ge(a).to)<=0;){var y=a.pop();if(ue(y.from,p.from)<0){p.from=y.from;break}}a.push(p)}Bt(n,function(){for(var v=a.length-1;v>=0;v--)mi(n.doc,"",a[v].from,a[v].to,"+delete");fi(n)})}function Iu(n,i,l){var a=Un(n.text,i+l,l);return a<0||a>n.text.length?null:a}function ju(n,i,l){var a=Iu(n,i.ch,l);return a==null?null:new Q(i.line,a,l<0?"after":"before")}function Bu(n,i,l,a,c){if(n){i.doc.direction=="rtl"&&(c=-c);var p=je(l,i.doc.direction);if(p){var y=c<0?ge(p):p[0],v=c<0==(y.level==1),b=v?"after":"before",A;if(y.level>0||i.doc.direction=="rtl"){var B=ai(i,l);A=c<0?l.text.length-1:0;var R=En(i,B,A).top;A=Cn(function(V){return En(i,B,V).top==R},c<0==(y.level==1)?y.from:y.to-1,A),b=="before"&&(A=Iu(l,A,1))}else A=c<0?y.to:y.from;return new Q(a,A,b)}}return new Q(a,c<0?l.text.length:0,c<0?"before":"after")}function yS(n,i,l,a){var c=je(i,n.doc.direction);if(!c)return ju(i,l,a);l.ch>=i.text.length?(l.ch=i.text.length,l.sticky="before"):l.ch<=0&&(l.ch=0,l.sticky="after");var p=Yn(c,l.ch,l.sticky),y=c[p];if(n.doc.direction=="ltr"&&y.level%2==0&&(a>0?y.to>l.ch:y.from<l.ch))return ju(i,l,a);var v=function(ae,ce){return Iu(i,ae instanceof Q?ae.ch:ae,ce)},b,A=function(ae){return n.options.lineWrapping?(b=b||ai(n,i),Ch(n,i,b,ae)):{begin:0,end:i.text.length}},B=A(l.sticky=="before"?v(l,-1):l.ch);if(n.doc.direction=="rtl"||y.level==1){var R=y.level==1==a<0,V=v(l,R?1:-1);if(V!=null&&(R?V<=y.to&&V<=B.end:V>=y.from&&V>=B.begin)){var _=R?"before":"after";return new Q(l.line,V,_)}}var Z=function(ae,ce,le){for(var he=function($e,gt){return gt?new Q(l.line,v($e,1),"before"):new Q(l.line,$e,"after")};ae>=0&&ae<c.length;ae+=ce){var xe=c[ae],ve=ce>0==(xe.level!=1),Ne=ve?le.begin:v(le.end,-1);if(xe.from<=Ne&&Ne<xe.to||(Ne=ve?xe.from:v(xe.to,-1),le.begin<=Ne&&Ne<le.end))return he(Ne,ve)}},ne=Z(p+a,a,B);if(ne)return ne;var oe=a>0?B.end:v(B.begin,-1);return oe!=null&&!(a>0&&oe==i.text.length)&&(ne=Z(a>0?0:c.length-1,a,A(oe)),ne)?ne:null}var Lo={selectAll:ng,singleSelection:function(n){return n.setSelection(n.getCursor("anchor"),n.getCursor("head"),de)},killLine:function(n){return wi(n,function(i){if(i.empty()){var l=me(n.doc,i.head.line).text.length;return i.head.ch==l&&i.head.line<n.lastLine()?{from:i.head,to:Q(i.head.line+1,0)}:{from:i.head,to:Q(i.head.line,l)}}else return{from:i.from(),to:i.to()}})},deleteLine:function(n){return wi(n,function(i){return{from:Q(i.from().line,0),to:Le(n.doc,Q(i.to().line+1,0))}})},delLineLeft:function(n){return wi(n,function(i){return{from:Q(i.from().line,0),to:i.from()}})},delWrappedLineLeft:function(n){return wi(n,function(i){var l=n.charCoords(i.head,"div").top+5,a=n.coordsChar({left:0,top:l},"div");return{from:a,to:i.from()}})},delWrappedLineRight:function(n){return wi(n,function(i){var l=n.charCoords(i.head,"div").top+5,a=n.coordsChar({left:n.display.lineDiv.offsetWidth+100,top:l},"div");return{from:i.from(),to:a}})},undo:function(n){return n.undo()},redo:function(n){return n.redo()},undoSelection:function(n){return n.undoSelection()},redoSelection:function(n){return n.redoSelection()},goDocStart:function(n){return n.extendSelection(Q(n.firstLine(),0))},goDocEnd:function(n){return n.extendSelection(Q(n.lastLine()))},goLineStart:function(n){return n.extendSelectionsBy(function(i){return wg(n,i.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(n){return n.extendSelectionsBy(function(i){return bg(n,i.head)},{origin:"+move",bias:1})},goLineEnd:function(n){return n.extendSelectionsBy(function(i){return vS(n,i.head.line)},{origin:"+move",bias:-1})},goLineRight:function(n){return n.extendSelectionsBy(function(i){var l=n.cursorCoords(i.head,"div").top+5;return n.coordsChar({left:n.display.lineDiv.offsetWidth+100,top:l},"div")},se)},goLineLeft:function(n){return n.extendSelectionsBy(function(i){var l=n.cursorCoords(i.head,"div").top+5;return n.coordsChar({left:0,top:l},"div")},se)},goLineLeftSmart:function(n){return n.extendSelectionsBy(function(i){var l=n.cursorCoords(i.head,"div").top+5,a=n.coordsChar({left:0,top:l},"div");return a.ch<n.getLine(a.line).search(/\S/)?bg(n,i.head):a},se)},goLineUp:function(n){return n.moveV(-1,"line")},goLineDown:function(n){return n.moveV(1,"line")},goPageUp:function(n){return n.moveV(-1,"page")},goPageDown:function(n){return n.moveV(1,"page")},goCharLeft:function(n){return n.moveH(-1,"char")},goCharRight:function(n){return n.moveH(1,"char")},goColumnLeft:function(n){return n.moveH(-1,"column")},goColumnRight:function(n){return n.moveH(1,"column")},goWordLeft:function(n){return n.moveH(-1,"word")},goGroupRight:function(n){return n.moveH(1,"group")},goGroupLeft:function(n){return n.moveH(-1,"group")},goWordRight:function(n){return n.moveH(1,"word")},delCharBefore:function(n){return n.deleteH(-1,"codepoint")},delCharAfter:function(n){return n.deleteH(1,"char")},delWordBefore:function(n){return n.deleteH(-1,"word")},delWordAfter:function(n){return n.deleteH(1,"word")},delGroupBefore:function(n){return n.deleteH(-1,"group")},delGroupAfter:function(n){return n.deleteH(1,"group")},indentAuto:function(n){return n.indentSelection("smart")},indentMore:function(n){return n.indentSelection("add")},indentLess:function(n){return n.indentSelection("subtract")},insertTab:function(n){return n.replaceSelection("	")},insertSoftTab:function(n){for(var i=[],l=n.listSelections(),a=n.options.tabSize,c=0;c<l.length;c++){var p=l[c].from(),y=Pe(n.getLine(p.line),p.ch,a);i.push(Be(a-y%a))}n.replaceSelections(i)},defaultTab:function(n){n.somethingSelected()?n.indentSelection("add"):n.execCommand("insertTab")},transposeChars:function(n){return Bt(n,function(){for(var i=n.listSelections(),l=[],a=0;a<i.length;a++)if(i[a].empty()){var c=i[a].head,p=me(n.doc,c.line).text;if(p){if(c.ch==p.length&&(c=new Q(c.line,c.ch-1)),c.ch>0)c=new Q(c.line,c.ch+1),n.replaceRange(p.charAt(c.ch-1)+p.charAt(c.ch-2),Q(c.line,c.ch-2),c,"+transpose");else if(c.line>n.doc.first){var y=me(n.doc,c.line-1).text;y&&(c=new Q(c.line,1),n.replaceRange(p.charAt(0)+n.doc.lineSeparator()+y.charAt(y.length-1),Q(c.line-1,y.length-1),c,"+transpose"))}}l.push(new qe(c,c))}n.setSelections(l)})},newlineAndIndent:function(n){return Bt(n,function(){for(var i=n.listSelections(),l=i.length-1;l>=0;l--)n.replaceRange(n.doc.lineSeparator(),i[l].anchor,i[l].head,"+input");i=n.listSelections();for(var a=0;a<i.length;a++)n.indentLine(i[a].from().line,null,!0);fi(n)})},openLine:function(n){return n.replaceSelection(`
`,"start")},toggleOverwrite:function(n){return n.toggleOverwrite()}};function wg(n,i){var l=me(n.doc,i),a=pn(l);return a!=l&&(i=S(a)),Bu(!0,n,a,i,1)}function vS(n,i){var l=me(n.doc,i),a=tD(l);return a!=l&&(i=S(a)),Bu(!0,n,l,i,-1)}function bg(n,i){var l=wg(n,i.line),a=me(n.doc,l.line),c=je(a,n.doc.direction);if(!c||c[0].level==0){var p=Math.max(l.ch,a.text.search(/\S/)),y=i.line==l.line&&i.ch<=p&&i.ch;return Q(l.line,y?0:p,l.sticky)}return l}function oa(n,i,l){if(typeof i=="string"&&(i=Lo[i],!i))return!1;n.display.input.ensurePolled();var a=n.display.shift,c=!1;try{n.isReadOnly()&&(n.state.suppressEdits=!0),l&&(n.display.shift=!1),c=i(n)!=te}finally{n.display.shift=a,n.state.suppressEdits=!1}return c}function wS(n,i,l){for(var a=0;a<n.state.keyMaps.length;a++){var c=vi(i,n.state.keyMaps[a],l,n);if(c)return c}return n.options.extraKeys&&vi(i,n.options.extraKeys,l,n)||vi(i,n.options.keyMap,l,n)}var bS=new Me;function Fo(n,i,l,a){var c=n.state.keySeq;if(c){if(mg(i))return"handled";if(/\'$/.test(i)?n.state.keySeq=null:bS.set(50,function(){n.state.keySeq==c&&(n.state.keySeq=null,n.display.input.reset())}),xg(n,c+" "+i,l,a))return!0}return xg(n,i,l,a)}function xg(n,i,l,a){var c=wS(n,i,a);return c=="multi"&&(n.state.keySeq=i),c=="handled"&&dt(n,"keyHandled",n,i,l),(c=="handled"||c=="multi")&&(kt(l),wu(n)),!!c}function kg(n,i){var l=vg(i,!0);return l?i.shiftKey&&!n.state.keySeq?Fo(n,"Shift-"+l,i,function(a){return oa(n,a,!0)})||Fo(n,l,i,function(a){if(typeof a=="string"?/^go[A-Z]/.test(a):a.motion)return oa(n,a)}):Fo(n,l,i,function(a){return oa(n,a)}):!1}function xS(n,i,l){return Fo(n,"'"+l+"'",i,function(a){return oa(n,a,!0)})}var zu=null;function Cg(n){var i=this;if(!(n.target&&n.target!=i.display.input.getField())&&(i.curOp.focus=ke(vt(i)),!et(i,n))){f&&d<11&&n.keyCode==27&&(n.returnValue=!1);var l=n.keyCode;i.display.shift=l==16||n.shiftKey;var a=kg(i,n);x&&(zu=a?l:null,!a&&l==88&&!Os&&(M?n.metaKey:n.ctrlKey)&&i.replaceSelection("",null,"cut")),r&&!M&&!a&&l==46&&n.shiftKey&&!n.ctrlKey&&document.execCommand&&document.execCommand("cut"),l==18&&!/\bCodeMirror-crosshair\b/.test(i.display.lineDiv.className)&&kS(i)}}function kS(n){var i=n.display.lineDiv;Ie(i,"CodeMirror-crosshair");function l(a){(a.keyCode==18||!a.altKey)&&(X(i,"CodeMirror-crosshair"),xt(document,"keyup",l),xt(document,"mouseover",l))}be(document,"keyup",l),be(document,"mouseover",l)}function Ag(n){n.keyCode==16&&(this.doc.sel.shift=!1),et(this,n)}function Dg(n){var i=this;if(!(n.target&&n.target!=i.display.input.getField())&&!(jn(i.display,n)||et(i,n)||n.ctrlKey&&!n.altKey||M&&n.metaKey)){var l=n.keyCode,a=n.charCode;if(x&&l==zu){zu=null,kt(n);return}if(!(x&&(!n.which||n.which<10)&&kg(i,n))){var c=String.fromCharCode(a??l);c!="\b"&&(xS(i,n,c)||i.display.input.onKeyPress(n))}}}var CS=400,Ru=function(n,i,l){this.time=n,this.pos=i,this.button=l};Ru.prototype.compare=function(n,i,l){return this.time+CS>n&&ue(i,this.pos)==0&&l==this.button};var No,Oo;function AS(n,i){var l=+new Date;return Oo&&Oo.compare(l,n,i)?(No=Oo=null,"triple"):No&&No.compare(l,n,i)?(Oo=new Ru(l,n,i),No=null,"double"):(No=new Ru(l,n,i),Oo=null,"single")}function Sg(n){var i=this,l=i.display;if(!(et(i,n)||l.activeTouch&&l.input.supportsTouch())){if(l.input.ensurePolled(),l.shift=n.shiftKey,jn(l,n)){h||(l.scroller.draggable=!1,setTimeout(function(){return l.scroller.draggable=!0},100));return}if(!Hu(i,n)){var a=br(i,n),c=un(n),p=a?AS(a,c):"single";Ee(i).focus(),c==1&&i.state.selectingText&&i.state.selectingText(n),!(a&&DS(i,c,a,p,n))&&(c==1?a?ES(i,a,p,n):ro(n)==l.scroller&&kt(n):c==2?(a&&Xs(i.doc,a),setTimeout(function(){return l.input.focus()},20)):c==3&&(H?i.display.input.onContextMenu(n):bu(i)))}}}function DS(n,i,l,a,c){var p="Click";return a=="double"?p="Double"+p:a=="triple"&&(p="Triple"+p),p=(i==1?"Left":i==2?"Middle":"Right")+p,Fo(n,yg(p,c),c,function(y){if(typeof y=="string"&&(y=Lo[y]),!y)return!1;var v=!1;try{n.isReadOnly()&&(n.state.suppressEdits=!0),v=y(n,l)!=te}finally{n.state.suppressEdits=!1}return v})}function SS(n,i,l){var a=n.getOption("configureMouse"),c=a?a(n,i,l):{};if(c.unit==null){var p=O?l.shiftKey&&l.metaKey:l.altKey;c.unit=p?"rectangle":i=="single"?"char":i=="double"?"word":"line"}return(c.extend==null||n.doc.extend)&&(c.extend=n.doc.extend||l.shiftKey),c.addNew==null&&(c.addNew=M?l.metaKey:l.ctrlKey),c.moveOnDrag==null&&(c.moveOnDrag=!(M?l.altKey:l.ctrlKey)),c}function ES(n,i,l,a){f?setTimeout(Ce(Eh,n),0):n.curOp.focus=ke(vt(n));var c=SS(n,l,a),p=n.doc.sel,y;n.options.dragDrop&&Zl&&!n.isReadOnly()&&l=="single"&&(y=p.contains(i))>-1&&(ue((y=p.ranges[y]).from(),i)<0||i.xRel>0)&&(ue(y.to(),i)>0||i.xRel<0)?TS(n,a,i,c):MS(n,a,i,c)}function TS(n,i,l,a){var c=n.display,p=!1,y=pt(n,function(A){h&&(c.scroller.draggable=!1),n.state.draggingText=!1,n.state.delayingBlurEvent&&(n.hasFocus()?n.state.delayingBlurEvent=!1:bu(n)),xt(c.wrapper.ownerDocument,"mouseup",y),xt(c.wrapper.ownerDocument,"mousemove",v),xt(c.scroller,"dragstart",b),xt(c.scroller,"drop",y),p||(kt(A),a.addNew||Xs(n.doc,l,null,null,a.extend),h&&!D||f&&d==9?setTimeout(function(){c.wrapper.ownerDocument.body.focus({preventScroll:!0}),c.input.focus()},20):c.input.focus())}),v=function(A){p=p||Math.abs(i.clientX-A.clientX)+Math.abs(i.clientY-A.clientY)>=10},b=function(){return p=!0};h&&(c.scroller.draggable=!0),n.state.draggingText=y,y.copy=!a.moveOnDrag,be(c.wrapper.ownerDocument,"mouseup",y),be(c.wrapper.ownerDocument,"mousemove",v),be(c.scroller,"dragstart",b),be(c.scroller,"drop",y),n.state.delayingBlurEvent=!0,setTimeout(function(){return c.input.focus()},20),c.scroller.dragDrop&&c.scroller.dragDrop()}function Eg(n,i,l){if(l=="char")return new qe(i,i);if(l=="word")return n.findWordAt(i);if(l=="line")return new qe(Q(i.line,0),Le(n.doc,Q(i.line+1,0)));var a=l(n,i);return new qe(a.from,a.to)}function MS(n,i,l,a){f&&bu(n);var c=n.display,p=n.doc;kt(i);var y,v,b=p.sel,A=b.ranges;if(a.addNew&&!a.extend?(v=p.sel.contains(l),v>-1?y=A[v]:y=new qe(l,l)):(y=p.sel.primary(),v=p.sel.primIndex),a.unit=="rectangle")a.addNew||(y=new qe(l,l)),l=br(n,i,!0,!0),v=-1;else{var B=Eg(n,l,a.unit);a.extend?y=Ou(y,B.anchor,B.head,a.extend):y=B}a.addNew?v==-1?(v=A.length,Ct(p,gn(n,A.concat([y]),v),{scroll:!1,origin:"*mouse"})):A.length>1&&A[v].empty()&&a.unit=="char"&&!a.extend?(Ct(p,gn(n,A.slice(0,v).concat(A.slice(v+1)),0),{scroll:!1,origin:"*mouse"}),b=p.sel):Pu(p,v,y,pe):(v=0,Ct(p,new Qt([y],0),pe),b=p.sel);var R=l;function V(le){if(ue(R,le)!=0)if(R=le,a.unit=="rectangle"){for(var he=[],xe=n.options.tabSize,ve=Pe(me(p,l.line).text,l.ch,xe),Ne=Pe(me(p,le.line).text,le.ch,xe),$e=Math.min(ve,Ne),gt=Math.max(ve,Ne),Ke=Math.min(l.line,le.line),zt=Math.min(n.lastLine(),Math.max(l.line,le.line));Ke<=zt;Ke++){var Ot=me(p,Ke).text,at=we(Ot,$e,xe);$e==gt?he.push(new qe(Q(Ke,at),Q(Ke,at))):Ot.length>at&&he.push(new qe(Q(Ke,at),Q(Ke,we(Ot,gt,xe))))}he.length||he.push(new qe(l,l)),Ct(p,gn(n,b.ranges.slice(0,v).concat(he),v),{origin:"*mouse",scroll:!1}),n.scrollIntoView(le)}else{var Pt=y,wt=Eg(n,le,a.unit),ct=Pt.anchor,lt;ue(wt.anchor,ct)>0?(lt=wt.head,ct=ii(Pt.from(),wt.anchor)):(lt=wt.anchor,ct=Lt(Pt.to(),wt.head));var nt=b.ranges.slice(0);nt[v]=LS(n,new qe(Le(p,ct),lt)),Ct(p,gn(n,nt,v),pe)}}var _=c.wrapper.getBoundingClientRect(),Z=0;function ne(le){var he=++Z,xe=br(n,le,!0,a.unit=="rectangle");if(xe)if(ue(xe,R)!=0){n.curOp.focus=ke(vt(n)),V(xe);var ve=Gs(c,p);(xe.line>=ve.to||xe.line<ve.from)&&setTimeout(pt(n,function(){Z==he&&ne(le)}),150)}else{var Ne=le.clientY<_.top?-20:le.clientY>_.bottom?20:0;Ne&&setTimeout(pt(n,function(){Z==he&&(c.scroller.scrollTop+=Ne,ne(le))}),50)}}function oe(le){n.state.selectingText=!1,Z=1/0,le&&(kt(le),c.input.focus()),xt(c.wrapper.ownerDocument,"mousemove",ae),xt(c.wrapper.ownerDocument,"mouseup",ce),p.history.lastSelOrigin=null}var ae=pt(n,function(le){le.buttons===0||!un(le)?oe(le):ne(le)}),ce=pt(n,oe);n.state.selectingText=ce,be(c.wrapper.ownerDocument,"mousemove",ae),be(c.wrapper.ownerDocument,"mouseup",ce)}function LS(n,i){var l=i.anchor,a=i.head,c=me(n.doc,l.line);if(ue(l,a)==0&&l.sticky==a.sticky)return i;var p=je(c);if(!p)return i;var y=Yn(p,l.ch,l.sticky),v=p[y];if(v.from!=l.ch&&v.to!=l.ch)return i;var b=y+(v.from==l.ch==(v.level!=1)?0:1);if(b==0||b==p.length)return i;var A;if(a.line!=l.line)A=(a.line-l.line)*(n.doc.direction=="ltr"?1:-1)>0;else{var B=Yn(p,a.ch,a.sticky),R=B-y||(a.ch-l.ch)*(v.level==1?-1:1);B==b-1||B==b?A=R<0:A=R>0}var V=p[b+(A?-1:0)],_=A==(V.level==1),Z=_?V.from:V.to,ne=_?"after":"before";return l.ch==Z&&l.sticky==ne?i:new qe(new Q(l.line,Z,ne),a)}function Tg(n,i,l,a){var c,p;if(i.touches)c=i.touches[0].clientX,p=i.touches[0].clientY;else try{c=i.clientX,p=i.clientY}catch{return!1}if(c>=Math.floor(n.display.gutters.getBoundingClientRect().right))return!1;a&&kt(i);var y=n.display,v=y.lineDiv.getBoundingClientRect();if(p>v.bottom||!jt(n,l))return Mt(i);p-=v.top-y.viewOffset;for(var b=0;b<n.display.gutterSpecs.length;++b){var A=y.gutters.childNodes[b];if(A&&A.getBoundingClientRect().right>=c){var B=z(n.doc,p),R=n.display.gutterSpecs[b];return Xe(n,l,n,B,R.className,i),Mt(i)}}}function Hu(n,i){return Tg(n,i,"gutterClick",!0)}function Mg(n,i){jn(n.display,i)||FS(n,i)||et(n,i,"contextmenu")||H||n.display.input.onContextMenu(i)}function FS(n,i){return jt(n,"gutterContextMenu")?Tg(n,i,"gutterContextMenu",!1):!1}function Lg(n){n.display.wrapper.className=n.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+n.options.theme.replace(/(^|\s)\s*/g," cm-s-"),po(n)}var bi={toString:function(){return"CodeMirror.Init"}},Fg={},sa={};function NS(n){var i=n.optionHandlers;function l(a,c,p,y){n.defaults[a]=c,p&&(i[a]=y?function(v,b,A){A!=bi&&p(v,b,A)}:p)}n.defineOption=l,n.Init=bi,l("value","",function(a,c){return a.setValue(c)},!0),l("mode",null,function(a,c){a.doc.modeOption=c,Lu(a)},!0),l("indentUnit",2,Lu,!0),l("indentWithTabs",!1),l("smartIndent",!0),l("tabSize",4,function(a){xo(a),po(a),Ft(a)},!0),l("lineSeparator",null,function(a,c){if(a.doc.lineSep=c,!!c){var p=[],y=a.doc.first;a.doc.iter(function(b){for(var A=0;;){var B=b.text.indexOf(c,A);if(B==-1)break;A=B+c.length,p.push(Q(y,B))}y++});for(var v=p.length-1;v>=0;v--)mi(a.doc,c,p[v],Q(p[v].line,p[v].ch+c.length))}}),l("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\u202d\u202e\u2066\u2067\u2069\ufeff\ufff9-\ufffc]/g,function(a,c,p){a.state.specialChars=new RegExp(c.source+(c.test("	")?"":"|	"),"g"),p!=bi&&a.refresh()}),l("specialCharPlaceholder",aD,function(a){return a.refresh()},!0),l("electricChars",!0),l("inputStyle",k?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),l("spellcheck",!1,function(a,c){return a.getInputField().spellcheck=c},!0),l("autocorrect",!1,function(a,c){return a.getInputField().autocorrect=c},!0),l("autocapitalize",!1,function(a,c){return a.getInputField().autocapitalize=c},!0),l("rtlMoveVisually",!F),l("wholeLineUpdateBefore",!0),l("theme","default",function(a){Lg(a),bo(a)},!0),l("keyMap","default",function(a,c,p){var y=ia(c),v=p!=bi&&ia(p);v&&v.detach&&v.detach(a,y),y.attach&&y.attach(a,v||null)}),l("extraKeys",null),l("configureMouse",null),l("lineWrapping",!1,PS,!0),l("gutters",[],function(a,c){a.display.gutterSpecs=Tu(c,a.options.lineNumbers),bo(a)},!0),l("fixedGutter",!0,function(a,c){a.display.gutters.style.left=c?mu(a.display)+"px":"0",a.refresh()},!0),l("coverGutterNextToScrollbar",!1,function(a){return di(a)},!0),l("scrollbarStyle","native",function(a){Oh(a),di(a),a.display.scrollbars.setScrollTop(a.doc.scrollTop),a.display.scrollbars.setScrollLeft(a.doc.scrollLeft)},!0),l("lineNumbers",!1,function(a,c){a.display.gutterSpecs=Tu(a.options.gutters,c),bo(a)},!0),l("firstLineNumber",1,bo,!0),l("lineNumberFormatter",function(a){return a},bo,!0),l("showCursorWhenSelecting",!1,ho,!0),l("resetSelectionOnContextMenu",!0),l("lineWiseCopyCut",!0),l("pasteLinesPerSelection",!0),l("selectionsMayTouch",!1),l("readOnly",!1,function(a,c){c=="nocursor"&&(ci(a),a.display.input.blur()),a.display.input.readOnlyChanged(c)}),l("screenReaderLabel",null,function(a,c){c=c===""?null:c,a.display.input.screenReaderLabelChanged(c)}),l("disableInput",!1,function(a,c){c||a.display.input.reset()},!0),l("dragDrop",!0,OS),l("allowDropFileTypes",null),l("cursorBlinkRate",530),l("cursorScrollMargin",0),l("cursorHeight",1,ho,!0),l("singleCursorHeightPerLine",!0,ho,!0),l("workTime",100),l("workDelay",100),l("flattenSpans",!0,xo,!0),l("addModeClass",!1,xo,!0),l("pollInterval",100),l("undoDepth",200,function(a,c){return a.doc.history.undoDepth=c}),l("historyEventDelay",1250),l("viewportMargin",10,function(a){return a.refresh()},!0),l("maxHighlightLength",1e4,xo,!0),l("moveInputWithCursor",!0,function(a,c){c||a.display.input.resetPosition()}),l("tabindex",null,function(a,c){return a.display.input.getField().tabIndex=c||""}),l("autofocus",null),l("direction","ltr",function(a,c){return a.doc.setDirection(c)},!0),l("phrases",null)}function OS(n,i,l){var a=l&&l!=bi;if(!i!=!a){var c=n.display.dragFunctions,p=i?be:xt;p(n.display.scroller,"dragstart",c.start),p(n.display.scroller,"dragenter",c.enter),p(n.display.scroller,"dragover",c.over),p(n.display.scroller,"dragleave",c.leave),p(n.display.scroller,"drop",c.drop)}}function PS(n){n.options.lineWrapping?(Ie(n.display.wrapper,"CodeMirror-wrap"),n.display.sizer.style.minWidth="",n.display.sizerWidth=null):(X(n.display.wrapper,"CodeMirror-wrap"),su(n)),yu(n),Ft(n),po(n),setTimeout(function(){return di(n)},100)}function Qe(n,i){var l=this;if(!(this instanceof Qe))return new Qe(n,i);this.options=i=i?Te(i):{},Te(Fg,i,!1);var a=i.value;typeof a=="string"?a=new Nt(a,i.mode,null,i.lineSeparator,i.direction):i.mode&&(a.modeOption=i.mode),this.doc=a;var c=new Qe.inputStyles[i.inputStyle](this),p=this.display=new GD(n,a,c,i);p.wrapper.CodeMirror=this,Lg(this),i.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),Oh(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new Me,keySeq:null,specialChars:null},i.autofocus&&!k&&p.input.focus(),f&&d<11&&setTimeout(function(){return l.display.input.reset(!0)},20),IS(this),dS(),Ar(this),this.curOp.forceUpdate=!0,Wh(this,a),i.autofocus&&!k||this.hasFocus()?setTimeout(function(){l.hasFocus()&&!l.state.focused&&xu(l)},20):ci(this);for(var y in sa)sa.hasOwnProperty(y)&&sa[y](this,i[y],bi);jh(this),i.finishInit&&i.finishInit(this);for(var v=0;v<qu.length;++v)qu[v](this);Dr(this),h&&i.lineWrapping&&getComputedStyle(p.lineDiv).textRendering=="optimizelegibility"&&(p.lineDiv.style.textRendering="auto")}Qe.defaults=Fg,Qe.optionHandlers=sa;function IS(n){var i=n.display;be(i.scroller,"mousedown",pt(n,Sg)),f&&d<11?be(i.scroller,"dblclick",pt(n,function(b){if(!et(n,b)){var A=br(n,b);if(!(!A||Hu(n,b)||jn(n.display,b))){kt(b);var B=n.findWordAt(A);Xs(n.doc,B.anchor,B.head)}}})):be(i.scroller,"dblclick",function(b){return et(n,b)||kt(b)}),be(i.scroller,"contextmenu",function(b){return Mg(n,b)}),be(i.input.getField(),"contextmenu",function(b){i.scroller.contains(b.target)||Mg(n,b)});var l,a={end:0};function c(){i.activeTouch&&(l=setTimeout(function(){return i.activeTouch=null},1e3),a=i.activeTouch,a.end=+new Date)}function p(b){if(b.touches.length!=1)return!1;var A=b.touches[0];return A.radiusX<=1&&A.radiusY<=1}function y(b,A){if(A.left==null)return!0;var B=A.left-b.left,R=A.top-b.top;return B*B+R*R>20*20}be(i.scroller,"touchstart",function(b){if(!et(n,b)&&!p(b)&&!Hu(n,b)){i.input.ensurePolled(),clearTimeout(l);var A=+new Date;i.activeTouch={start:A,moved:!1,prev:A-a.end<=300?a:null},b.touches.length==1&&(i.activeTouch.left=b.touches[0].pageX,i.activeTouch.top=b.touches[0].pageY)}}),be(i.scroller,"touchmove",function(){i.activeTouch&&(i.activeTouch.moved=!0)}),be(i.scroller,"touchend",function(b){var A=i.activeTouch;if(A&&!jn(i,b)&&A.left!=null&&!A.moved&&new Date-A.start<300){var B=n.coordsChar(i.activeTouch,"page"),R;!A.prev||y(A,A.prev)?R=new qe(B,B):!A.prev.prev||y(A,A.prev.prev)?R=n.findWordAt(B):R=new qe(Q(B.line,0),Le(n.doc,Q(B.line+1,0))),n.setSelection(R.anchor,R.head),n.focus(),kt(b)}c()}),be(i.scroller,"touchcancel",c),be(i.scroller,"scroll",function(){i.scroller.clientHeight&&(mo(n,i.scroller.scrollTop),kr(n,i.scroller.scrollLeft,!0),Xe(n,"scroll",n))}),be(i.scroller,"mousewheel",function(b){return Rh(n,b)}),be(i.scroller,"DOMMouseScroll",function(b){return Rh(n,b)}),be(i.wrapper,"scroll",function(){return i.wrapper.scrollTop=i.wrapper.scrollLeft=0}),i.dragFunctions={enter:function(b){et(n,b)||Qn(b)},over:function(b){et(n,b)||(fS(n,b),Qn(b))},start:function(b){return cS(n,b)},drop:pt(n,uS),leave:function(b){et(n,b)||pg(n)}};var v=i.input.getField();be(v,"keyup",function(b){return Ag.call(n,b)}),be(v,"keydown",pt(n,Cg)),be(v,"keypress",pt(n,Dg)),be(v,"focus",function(b){return xu(n,b)}),be(v,"blur",function(b){return ci(n,b)})}var qu=[];Qe.defineInitHook=function(n){return qu.push(n)};function Po(n,i,l,a){var c=n.doc,p;l==null&&(l="add"),l=="smart"&&(c.mode.indent?p=ao(n,i).state:l="prev");var y=n.options.tabSize,v=me(c,i),b=Pe(v.text,null,y);v.stateAfter&&(v.stateAfter=null);var A=v.text.match(/^\s*/)[0],B;if(!a&&!/\S/.test(v.text))B=0,l="not";else if(l=="smart"&&(B=c.mode.indent(p,v.text.slice(A.length),v.text),B==te||B>150)){if(!a)return;l="prev"}l=="prev"?i>c.first?B=Pe(me(c,i-1).text,null,y):B=0:l=="add"?B=b+n.options.indentUnit:l=="subtract"?B=b-n.options.indentUnit:typeof l=="number"&&(B=b+l),B=Math.max(0,B);var R="",V=0;if(n.options.indentWithTabs)for(var _=Math.floor(B/y);_;--_)V+=y,R+="	";if(V<B&&(R+=Be(B-V)),R!=A)return mi(c,R,Q(i,0),Q(i,A.length),"+input"),v.stateAfter=null,!0;for(var Z=0;Z<c.sel.ranges.length;Z++){var ne=c.sel.ranges[Z];if(ne.head.line==i&&ne.head.ch<A.length){var oe=Q(i,A.length);Pu(c,Z,new qe(oe,oe));break}}}var mn=null;function aa(n){mn=n}function _u(n,i,l,a,c){var p=n.doc;n.display.shift=!1,a||(a=p.sel);var y=+new Date-200,v=c=="paste"||n.state.pasteIncoming>y,b=tn(i),A=null;if(v&&a.ranges.length>1)if(mn&&mn.text.join(`
`)==i){if(a.ranges.length%mn.text.length==0){A=[];for(var B=0;B<mn.text.length;B++)A.push(p.splitLines(mn.text[B]))}}else b.length==a.ranges.length&&n.options.pasteLinesPerSelection&&(A=Ae(b,function(ae){return[ae]}));for(var R=n.curOp.updateInput,V=a.ranges.length-1;V>=0;V--){var _=a.ranges[V],Z=_.from(),ne=_.to();_.empty()&&(l&&l>0?Z=Q(Z.line,Z.ch-l):n.state.overwrite&&!v?ne=Q(ne.line,Math.min(me(p,ne.line).text.length,ne.ch+ge(b).length)):v&&mn&&mn.lineWise&&mn.text.join(`
`)==b.join(`
`)&&(Z=ne=Q(Z.line,0)));var oe={from:Z,to:ne,text:A?A[V%A.length]:b,origin:c||(v?"paste":n.state.cutIncoming>y?"cut":"+input")};gi(n.doc,oe),dt(n,"inputRead",n,oe)}i&&!v&&Og(n,i),fi(n),n.curOp.updateInput<2&&(n.curOp.updateInput=R),n.curOp.typing=!0,n.state.pasteIncoming=n.state.cutIncoming=-1}function Ng(n,i){var l=n.clipboardData&&n.clipboardData.getData("Text");if(l)return n.preventDefault(),!i.isReadOnly()&&!i.options.disableInput&&i.hasFocus()&&Bt(i,function(){return _u(i,l,0,null,"paste")}),!0}function Og(n,i){if(!(!n.options.electricChars||!n.options.smartIndent))for(var l=n.doc.sel,a=l.ranges.length-1;a>=0;a--){var c=l.ranges[a];if(!(c.head.ch>100||a&&l.ranges[a-1].head.line==c.head.line)){var p=n.getModeAt(c.head),y=!1;if(p.electricChars){for(var v=0;v<p.electricChars.length;v++)if(i.indexOf(p.electricChars.charAt(v))>-1){y=Po(n,c.head.line,"smart");break}}else p.electricInput&&p.electricInput.test(me(n.doc,c.head.line).text.slice(0,c.head.ch))&&(y=Po(n,c.head.line,"smart"));y&&dt(n,"electricInput",n,c.head.line)}}}function Pg(n){for(var i=[],l=[],a=0;a<n.doc.sel.ranges.length;a++){var c=n.doc.sel.ranges[a].head.line,p={anchor:Q(c,0),head:Q(c+1,0)};l.push(p),i.push(n.getRange(p.anchor,p.head))}return{text:i,ranges:l}}function Wu(n,i,l,a){n.setAttribute("autocorrect",l?"on":"off"),n.setAttribute("autocapitalize",a?"on":"off"),n.setAttribute("spellcheck",!!i)}function Ig(){var n=E("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),i=E("div",[n],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return h?n.style.width="1000px":n.setAttribute("wrap","off"),T&&(n.style.border="1px solid black"),i}function jS(n){var i=n.optionHandlers,l=n.helpers={};n.prototype={constructor:n,focus:function(){Ee(this).focus(),this.display.input.focus()},setOption:function(a,c){var p=this.options,y=p[a];p[a]==c&&a!="mode"||(p[a]=c,i.hasOwnProperty(a)&&pt(this,i[a])(this,c,y),Xe(this,"optionChange",this,a))},getOption:function(a){return this.options[a]},getDoc:function(){return this.doc},addKeyMap:function(a,c){this.state.keyMaps[c?"push":"unshift"](ia(a))},removeKeyMap:function(a){for(var c=this.state.keyMaps,p=0;p<c.length;++p)if(c[p]==a||c[p].name==a)return c.splice(p,1),!0},addOverlay:Dt(function(a,c){var p=a.token?a:n.getMode(this.options,a);if(p.startState)throw new Error("Overlays may not be stateful.");U(this.state.overlays,{mode:p,modeSpec:a,opaque:c&&c.opaque,priority:c&&c.priority||0},function(y){return y.priority}),this.state.modeGen++,Ft(this)}),removeOverlay:Dt(function(a){for(var c=this.state.overlays,p=0;p<c.length;++p){var y=c[p].modeSpec;if(y==a||typeof a=="string"&&y.name==a){c.splice(p,1),this.state.modeGen++,Ft(this);return}}}),indentLine:Dt(function(a,c,p){typeof c!="string"&&typeof c!="number"&&(c==null?c=this.options.smartIndent?"smart":"prev":c=c?"add":"subtract"),ee(this.doc,a)&&Po(this,a,c,p)}),indentSelection:Dt(function(a){for(var c=this.doc.sel.ranges,p=-1,y=0;y<c.length;y++){var v=c[y];if(v.empty())v.head.line>p&&(Po(this,v.head.line,a,!0),p=v.head.line,y==this.doc.sel.primIndex&&fi(this));else{var b=v.from(),A=v.to(),B=Math.max(p,b.line);p=Math.min(this.lastLine(),A.line-(A.ch?0:1))+1;for(var R=B;R<p;++R)Po(this,R,a);var V=this.doc.sel.ranges;b.ch==0&&c.length==V.length&&V[y].from().ch>0&&Pu(this.doc,y,new qe(b,V[y].to()),de)}}}),getTokenAt:function(a,c){return Vp(this,a,c)},getLineTokens:function(a,c){return Vp(this,Q(a),c,!0)},getTokenTypeAt:function(a){a=Le(this.doc,a);var c=_p(this,me(this.doc,a.line)),p=0,y=(c.length-1)/2,v=a.ch,b;if(v==0)b=c[2];else for(;;){var A=p+y>>1;if((A?c[A*2-1]:0)>=v)y=A;else if(c[A*2+1]<v)p=A+1;else{b=c[A*2+2];break}}var B=b?b.indexOf("overlay "):-1;return B<0?b:B==0?null:b.slice(0,B-1)},getModeAt:function(a){var c=this.doc.mode;return c.innerMode?n.innerMode(c,this.getTokenAt(a).state).mode:c},getHelper:function(a,c){return this.getHelpers(a,c)[0]},getHelpers:function(a,c){var p=[];if(!l.hasOwnProperty(c))return p;var y=l[c],v=this.getModeAt(a);if(typeof v[c]=="string")y[v[c]]&&p.push(y[v[c]]);else if(v[c])for(var b=0;b<v[c].length;b++){var A=y[v[c][b]];A&&p.push(A)}else v.helperType&&y[v.helperType]?p.push(y[v.helperType]):y[v.name]&&p.push(y[v.name]);for(var B=0;B<y._global.length;B++){var R=y._global[B];R.pred(v,this)&&ye(p,R.val)==-1&&p.push(R.val)}return p},getStateAfter:function(a,c){var p=this.doc;return a=Rp(p,a??p.first+p.size-1),ao(this,a+1,c).state},cursorCoords:function(a,c){var p,y=this.doc.sel.primary();return a==null?p=y.head:typeof a=="object"?p=Le(this.doc,a):p=a?y.from():y.to(),hn(this,p,c||"page")},charCoords:function(a,c){return Ws(this,Le(this.doc,a),c||"page")},coordsChar:function(a,c){return a=bh(this,a,c||"page"),pu(this,a.left,a.top)},lineAtHeight:function(a,c){return a=bh(this,{top:a,left:0},c||"page").top,z(this.doc,a+this.display.viewOffset)},heightAtLine:function(a,c,p){var y=!1,v;if(typeof a=="number"){var b=this.doc.first+this.doc.size-1;a<this.doc.first?a=this.doc.first:a>b&&(a=b,y=!0),v=me(this.doc,a)}else v=a;return _s(this,v,{top:0,left:0},c||"page",p||y).top+(y?this.doc.height-In(v):0)},defaultTextHeight:function(){return li(this.display)},defaultCharWidth:function(){return ui(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(a,c,p,y,v){var b=this.display;a=hn(this,Le(this.doc,a));var A=a.bottom,B=a.left;if(c.style.position="absolute",c.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(c),b.sizer.appendChild(c),y=="over")A=a.top;else if(y=="above"||y=="near"){var R=Math.max(b.wrapper.clientHeight,this.doc.height),V=Math.max(b.sizer.clientWidth,b.lineSpace.clientWidth);(y=="above"||a.bottom+c.offsetHeight>R)&&a.top>c.offsetHeight?A=a.top-c.offsetHeight:a.bottom+c.offsetHeight<=R&&(A=a.bottom),B+c.offsetWidth>V&&(B=V-c.offsetWidth)}c.style.top=A+"px",c.style.left=c.style.right="",v=="right"?(B=b.sizer.clientWidth-c.offsetWidth,c.style.right="0px"):(v=="left"?B=0:v=="middle"&&(B=(b.sizer.clientWidth-c.offsetWidth)/2),c.style.left=B+"px"),p&&OD(this,{left:B,top:A,right:B+c.offsetWidth,bottom:A+c.offsetHeight})},triggerOnKeyDown:Dt(Cg),triggerOnKeyPress:Dt(Dg),triggerOnKeyUp:Ag,triggerOnMouseDown:Dt(Sg),execCommand:function(a){if(Lo.hasOwnProperty(a))return Lo[a].call(null,this)},triggerElectric:Dt(function(a){Og(this,a)}),findPosH:function(a,c,p,y){var v=1;c<0&&(v=-1,c=-c);for(var b=Le(this.doc,a),A=0;A<c&&(b=$u(this.doc,b,v,p,y),!b.hitSide);++A);return b},moveH:Dt(function(a,c){var p=this;this.extendSelectionsBy(function(y){return p.display.shift||p.doc.extend||y.empty()?$u(p.doc,y.head,a,c,p.options.rtlMoveVisually):a<0?y.from():y.to()},se)}),deleteH:Dt(function(a,c){var p=this.doc.sel,y=this.doc;p.somethingSelected()?y.replaceSelection("",null,"+delete"):wi(this,function(v){var b=$u(y,v.head,a,c,!1);return a<0?{from:b,to:v.head}:{from:v.head,to:b}})}),findPosV:function(a,c,p,y){var v=1,b=y;c<0&&(v=-1,c=-c);for(var A=Le(this.doc,a),B=0;B<c;++B){var R=hn(this,A,"div");if(b==null?b=R.left:R.left=b,A=jg(this,R,v,p),A.hitSide)break}return A},moveV:Dt(function(a,c){var p=this,y=this.doc,v=[],b=!this.display.shift&&!y.extend&&y.sel.somethingSelected();if(y.extendSelectionsBy(function(B){if(b)return a<0?B.from():B.to();var R=hn(p,B.head,"div");B.goalColumn!=null&&(R.left=B.goalColumn),v.push(R.left);var V=jg(p,R,a,c);return c=="page"&&B==y.sel.primary()&&Cu(p,Ws(p,V,"div").top-R.top),V},se),v.length)for(var A=0;A<y.sel.ranges.length;A++)y.sel.ranges[A].goalColumn=v[A]}),findWordAt:function(a){var c=this.doc,p=me(c,a.line).text,y=a.ch,v=a.ch;if(p){var b=this.getHelper(a,"wordChars");(a.sticky=="before"||v==p.length)&&y?--y:++v;for(var A=p.charAt(y),B=Ln(A,b)?function(R){return Ln(R,b)}:/\s/.test(A)?function(R){return/\s/.test(R)}:function(R){return!/\s/.test(R)&&!Ln(R)};y>0&&B(p.charAt(y-1));)--y;for(;v<p.length&&B(p.charAt(v));)++v}return new qe(Q(a.line,y),Q(a.line,v))},toggleOverwrite:function(a){a!=null&&a==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?Ie(this.display.cursorDiv,"CodeMirror-overwrite"):X(this.display.cursorDiv,"CodeMirror-overwrite"),Xe(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==ke(vt(this))},isReadOnly:function(){return!!(this.options.readOnly||this.doc.cantEdit)},scrollTo:Dt(function(a,c){go(this,a,c)}),getScrollInfo:function(){var a=this.display.scroller;return{left:a.scrollLeft,top:a.scrollTop,height:a.scrollHeight-Sn(this)-this.display.barHeight,width:a.scrollWidth-Sn(this)-this.display.barWidth,clientHeight:uu(this),clientWidth:vr(this)}},scrollIntoView:Dt(function(a,c){a==null?(a={from:this.doc.sel.primary().head,to:null},c==null&&(c=this.options.cursorScrollMargin)):typeof a=="number"?a={from:Q(a,0),to:null}:a.from==null&&(a={from:a,to:null}),a.to||(a.to=a.from),a.margin=c||0,a.from.line!=null?PD(this,a):Mh(this,a.from,a.to,a.margin)}),setSize:Dt(function(a,c){var p=this,y=function(b){return typeof b=="number"||/^\d+$/.test(String(b))?b+"px":b};a!=null&&(this.display.wrapper.style.width=y(a)),c!=null&&(this.display.wrapper.style.height=y(c)),this.options.lineWrapping&&yh(this);var v=this.display.viewFrom;this.doc.iter(v,this.display.viewTo,function(b){if(b.widgets){for(var A=0;A<b.widgets.length;A++)if(b.widgets[A].noHScroll){er(p,v,"widget");break}}++v}),this.curOp.forceUpdate=!0,Xe(this,"refresh",this)}),operation:function(a){return Bt(this,a)},startOperation:function(){return Ar(this)},endOperation:function(){return Dr(this)},refresh:Dt(function(){var a=this.display.cachedTextHeight;Ft(this),this.curOp.forceUpdate=!0,po(this),go(this,this.doc.scrollLeft,this.doc.scrollTop),Su(this.display),(a==null||Math.abs(a-li(this.display))>.5||this.options.lineWrapping)&&yu(this),Xe(this,"refresh",this)}),swapDoc:Dt(function(a){var c=this.doc;return c.cm=null,this.state.selectingText&&this.state.selectingText(),Wh(this,a),po(this),this.display.input.reset(),go(this,a.scrollLeft,a.scrollTop),this.curOp.forceScroll=!0,dt(this,"swapDoc",this,c),c}),phrase:function(a){var c=this.options.phrases;return c&&Object.prototype.hasOwnProperty.call(c,a)?c[a]:a},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},ln(n),n.registerHelper=function(a,c,p){l.hasOwnProperty(a)||(l[a]=n[a]={_global:[]}),l[a][c]=p},n.registerGlobalHelper=function(a,c,p,y){n.registerHelper(a,c,y),l[a]._global.push({pred:p,val:y})}}function $u(n,i,l,a,c){var p=i,y=l,v=me(n,i.line),b=c&&n.direction=="rtl"?-l:l;function A(){var ce=i.line+b;return ce<n.first||ce>=n.first+n.size?!1:(i=new Q(ce,i.ch,i.sticky),v=me(n,ce))}function B(ce){var le;if(a=="codepoint"){var he=v.text.charCodeAt(i.ch+(l>0?0:-1));if(isNaN(he))le=null;else{var xe=l>0?he>=55296&&he<56320:he>=56320&&he<57343;le=new Q(i.line,Math.max(0,Math.min(v.text.length,i.ch+l*(xe?2:1))),-l)}}else c?le=yS(n.cm,v,i,l):le=ju(v,i,l);if(le==null)if(!ce&&A())i=Bu(c,n.cm,v,i.line,b);else return!1;else i=le;return!0}if(a=="char"||a=="codepoint")B();else if(a=="column")B(!0);else if(a=="word"||a=="group")for(var R=null,V=a=="group",_=n.cm&&n.cm.getHelper(i,"wordChars"),Z=!0;!(l<0&&!B(!Z));Z=!1){var ne=v.text.charAt(i.ch)||`
`,oe=Ln(ne,_)?"w":V&&ne==`
`?"n":!V||/\s/.test(ne)?null:"p";if(V&&!Z&&!oe&&(oe="s"),R&&R!=oe){l<0&&(l=1,B(),i.sticky="after");break}if(oe&&(R=oe),l>0&&!B(!Z))break}var ae=ta(n,i,p,y,!0);return He(p,ae)&&(ae.hitSide=!0),ae}function jg(n,i,l,a){var c=n.doc,p=i.left,y;if(a=="page"){var v=Math.min(n.display.wrapper.clientHeight,Ee(n).innerHeight||c(n).documentElement.clientHeight),b=Math.max(v-.5*li(n.display),3);y=(l>0?i.bottom:i.top)+l*b}else a=="line"&&(y=l>0?i.bottom+3:i.top-3);for(var A;A=pu(n,p,y),!!A.outside;){if(l<0?y<=0:y>=c.height){A.hitSide=!0;break}y+=l*5}return A}var _e=function(n){this.cm=n,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new Me,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};_e.prototype.init=function(n){var i=this,l=this,a=l.cm,c=l.div=n.lineDiv;c.contentEditable=!0,Wu(c,a.options.spellcheck,a.options.autocorrect,a.options.autocapitalize);function p(v){for(var b=v.target;b;b=b.parentNode){if(b==c)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(b.className))break}return!1}be(c,"paste",function(v){!p(v)||et(a,v)||Ng(v,a)||d<=11&&setTimeout(pt(a,function(){return i.updateFromDOM()}),20)}),be(c,"compositionstart",function(v){i.composing={data:v.data,done:!1}}),be(c,"compositionupdate",function(v){i.composing||(i.composing={data:v.data,done:!1})}),be(c,"compositionend",function(v){i.composing&&(v.data!=i.composing.data&&i.readFromDOMSoon(),i.composing.done=!0)}),be(c,"touchstart",function(){return l.forceCompositionEnd()}),be(c,"input",function(){i.composing||i.readFromDOMSoon()});function y(v){if(!(!p(v)||et(a,v))){if(a.somethingSelected())aa({lineWise:!1,text:a.getSelections()}),v.type=="cut"&&a.replaceSelection("",null,"cut");else if(a.options.lineWiseCopyCut){var b=Pg(a);aa({lineWise:!0,text:b.text}),v.type=="cut"&&a.operation(function(){a.setSelections(b.ranges,0,de),a.replaceSelection("",null,"cut")})}else return;if(v.clipboardData){v.clipboardData.clearData();var A=mn.text.join(`
`);if(v.clipboardData.setData("Text",A),v.clipboardData.getData("Text")==A){v.preventDefault();return}}var B=Ig(),R=B.firstChild;Wu(R),a.display.lineSpace.insertBefore(B,a.display.lineSpace.firstChild),R.value=mn.text.join(`
`);var V=ke(Re(c));Je(R),setTimeout(function(){a.display.lineSpace.removeChild(B),V.focus(),V==c&&l.showPrimarySelection()},50)}}be(c,"copy",y),be(c,"cut",y)},_e.prototype.screenReaderLabelChanged=function(n){n?this.div.setAttribute("aria-label",n):this.div.removeAttribute("aria-label")},_e.prototype.prepareSelection=function(){var n=Sh(this.cm,!1);return n.focus=ke(Re(this.div))==this.div,n},_e.prototype.showSelection=function(n,i){!n||!this.cm.display.view.length||((n.focus||i)&&this.showPrimarySelection(),this.showMultipleSelections(n))},_e.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},_e.prototype.showPrimarySelection=function(){var n=this.getSelection(),i=this.cm,l=i.doc.sel.primary(),a=l.from(),c=l.to();if(i.display.viewTo==i.display.viewFrom||a.line>=i.display.viewTo||c.line<i.display.viewFrom){n.removeAllRanges();return}var p=la(i,n.anchorNode,n.anchorOffset),y=la(i,n.focusNode,n.focusOffset);if(!(p&&!p.bad&&y&&!y.bad&&ue(ii(p,y),a)==0&&ue(Lt(p,y),c)==0)){var v=i.display.view,b=a.line>=i.display.viewFrom&&Bg(i,a)||{node:v[0].measure.map[2],offset:0},A=c.line<i.display.viewTo&&Bg(i,c);if(!A){var B=v[v.length-1].measure,R=B.maps?B.maps[B.maps.length-1]:B.map;A={node:R[R.length-1],offset:R[R.length-2]-R[R.length-3]}}if(!b||!A){n.removeAllRanges();return}var V=n.rangeCount&&n.getRangeAt(0),_;try{_=G(b.node,b.offset,A.offset,A.node)}catch{}_&&(!r&&i.state.focused?(n.collapse(b.node,b.offset),_.collapsed||(n.removeAllRanges(),n.addRange(_))):(n.removeAllRanges(),n.addRange(_)),V&&n.anchorNode==null?n.addRange(V):r&&this.startGracePeriod()),this.rememberSelection()}},_e.prototype.startGracePeriod=function(){var n=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){n.gracePeriod=!1,n.selectionChanged()&&n.cm.operation(function(){return n.cm.curOp.selectionChanged=!0})},20)},_e.prototype.showMultipleSelections=function(n){K(this.cm.display.cursorDiv,n.cursors),K(this.cm.display.selectionDiv,n.selection)},_e.prototype.rememberSelection=function(){var n=this.getSelection();this.lastAnchorNode=n.anchorNode,this.lastAnchorOffset=n.anchorOffset,this.lastFocusNode=n.focusNode,this.lastFocusOffset=n.focusOffset},_e.prototype.selectionInEditor=function(){var n=this.getSelection();if(!n.rangeCount)return!1;var i=n.getRangeAt(0).commonAncestorContainer;return fe(this.div,i)},_e.prototype.focus=function(){this.cm.options.readOnly!="nocursor"&&((!this.selectionInEditor()||ke(Re(this.div))!=this.div)&&this.showSelection(this.prepareSelection(),!0),this.div.focus())},_e.prototype.blur=function(){this.div.blur()},_e.prototype.getField=function(){return this.div},_e.prototype.supportsTouch=function(){return!0},_e.prototype.receivedFocus=function(){var n=this,i=this;this.selectionInEditor()?setTimeout(function(){return n.pollSelection()},20):Bt(this.cm,function(){return i.cm.curOp.selectionChanged=!0});function l(){i.cm.state.focused&&(i.pollSelection(),i.polling.set(i.cm.options.pollInterval,l))}this.polling.set(this.cm.options.pollInterval,l)},_e.prototype.selectionChanged=function(){var n=this.getSelection();return n.anchorNode!=this.lastAnchorNode||n.anchorOffset!=this.lastAnchorOffset||n.focusNode!=this.lastFocusNode||n.focusOffset!=this.lastFocusOffset},_e.prototype.pollSelection=function(){if(!(this.readDOMTimeout!=null||this.gracePeriod||!this.selectionChanged())){var n=this.getSelection(),i=this.cm;if(C&&m&&this.cm.display.gutterSpecs.length&&BS(n.anchorNode)){this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus();return}if(!this.composing){this.rememberSelection();var l=la(i,n.anchorNode,n.anchorOffset),a=la(i,n.focusNode,n.focusOffset);l&&a&&Bt(i,function(){Ct(i.doc,nr(l,a),de),(l.bad||a.bad)&&(i.curOp.selectionChanged=!0)})}}},_e.prototype.pollContent=function(){this.readDOMTimeout!=null&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var n=this.cm,i=n.display,l=n.doc.sel.primary(),a=l.from(),c=l.to();if(a.ch==0&&a.line>n.firstLine()&&(a=Q(a.line-1,me(n.doc,a.line-1).length)),c.ch==me(n.doc,c.line).text.length&&c.line<n.lastLine()&&(c=Q(c.line+1,0)),a.line<i.viewFrom||c.line>i.viewTo-1)return!1;var p,y,v;a.line==i.viewFrom||(p=xr(n,a.line))==0?(y=S(i.view[0].line),v=i.view[0].node):(y=S(i.view[p].line),v=i.view[p-1].node.nextSibling);var b=xr(n,c.line),A,B;if(b==i.view.length-1?(A=i.viewTo-1,B=i.lineDiv.lastChild):(A=S(i.view[b+1].line)-1,B=i.view[b+1].node.previousSibling),!v)return!1;for(var R=n.doc.splitLines(zS(n,v,B,y,A)),V=On(n.doc,Q(y,0),Q(A,me(n.doc,A).text.length));R.length>1&&V.length>1;)if(ge(R)==ge(V))R.pop(),V.pop(),A--;else if(R[0]==V[0])R.shift(),V.shift(),y++;else break;for(var _=0,Z=0,ne=R[0],oe=V[0],ae=Math.min(ne.length,oe.length);_<ae&&ne.charCodeAt(_)==oe.charCodeAt(_);)++_;for(var ce=ge(R),le=ge(V),he=Math.min(ce.length-(R.length==1?_:0),le.length-(V.length==1?_:0));Z<he&&ce.charCodeAt(ce.length-Z-1)==le.charCodeAt(le.length-Z-1);)++Z;if(R.length==1&&V.length==1&&y==a.line)for(;_&&_>a.ch&&ce.charCodeAt(ce.length-Z-1)==le.charCodeAt(le.length-Z-1);)_--,Z++;R[R.length-1]=ce.slice(0,ce.length-Z).replace(/^\u200b+/,""),R[0]=R[0].slice(_).replace(/\u200b+$/,"");var xe=Q(y,_),ve=Q(A,V.length?ge(V).length-Z:0);if(R.length>1||R[0]||ue(xe,ve))return mi(n.doc,R,xe,ve,"+input"),!0},_e.prototype.ensurePolled=function(){this.forceCompositionEnd()},_e.prototype.reset=function(){this.forceCompositionEnd()},_e.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},_e.prototype.readFromDOMSoon=function(){var n=this;this.readDOMTimeout==null&&(this.readDOMTimeout=setTimeout(function(){if(n.readDOMTimeout=null,n.composing)if(n.composing.done)n.composing=null;else return;n.updateFromDOM()},80))},_e.prototype.updateFromDOM=function(){var n=this;(this.cm.isReadOnly()||!this.pollContent())&&Bt(this.cm,function(){return Ft(n.cm)})},_e.prototype.setUneditable=function(n){n.contentEditable="false"},_e.prototype.onKeyPress=function(n){n.charCode==0||this.composing||(n.preventDefault(),this.cm.isReadOnly()||pt(this.cm,_u)(this.cm,String.fromCharCode(n.charCode==null?n.keyCode:n.charCode),0))},_e.prototype.readOnlyChanged=function(n){this.div.contentEditable=String(n!="nocursor")},_e.prototype.onContextMenu=function(){},_e.prototype.resetPosition=function(){},_e.prototype.needsContentAttribute=!0;function Bg(n,i){var l=cu(n,i.line);if(!l||l.hidden)return null;var a=me(n.doc,i.line),c=dh(l,a,i.line),p=je(a,n.doc.direction),y="left";if(p){var v=Yn(p,i.ch);y=v%2?"right":"left"}var b=gh(c.map,i.ch,y);return b.offset=b.collapse=="right"?b.end:b.start,b}function BS(n){for(var i=n;i;i=i.parentNode)if(/CodeMirror-gutter-wrapper/.test(i.className))return!0;return!1}function xi(n,i){return i&&(n.bad=!0),n}function zS(n,i,l,a,c){var p="",y=!1,v=n.doc.lineSeparator(),b=!1;function A(_){return function(Z){return Z.id==_}}function B(){y&&(p+=v,b&&(p+=v),y=b=!1)}function R(_){_&&(B(),p+=_)}function V(_){if(_.nodeType==1){var Z=_.getAttribute("cm-text");if(Z){R(Z);return}var ne=_.getAttribute("cm-marker"),oe;if(ne){var ae=n.findMarks(Q(a,0),Q(c+1,0),A(+ne));ae.length&&(oe=ae[0].find(0))&&R(On(n.doc,oe.from,oe.to).join(v));return}if(_.getAttribute("contenteditable")=="false")return;var ce=/^(pre|div|p|li|table|br)$/i.test(_.nodeName);if(!/^br$/i.test(_.nodeName)&&_.textContent.length==0)return;ce&&B();for(var le=0;le<_.childNodes.length;le++)V(_.childNodes[le]);/^(pre|p)$/i.test(_.nodeName)&&(b=!0),ce&&(y=!0)}else _.nodeType==3&&R(_.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;V(i),i!=l;)i=i.nextSibling,b=!1;return p}function la(n,i,l){var a;if(i==n.display.lineDiv){if(a=n.display.lineDiv.childNodes[l],!a)return xi(n.clipPos(Q(n.display.viewTo-1)),!0);i=null,l=0}else for(a=i;;a=a.parentNode){if(!a||a==n.display.lineDiv)return null;if(a.parentNode&&a.parentNode==n.display.lineDiv)break}for(var c=0;c<n.display.view.length;c++){var p=n.display.view[c];if(p.node==a)return RS(p,i,l)}}function RS(n,i,l){var a=n.text.firstChild,c=!1;if(!i||!fe(a,i))return xi(Q(S(n.line),0),!0);if(i==a&&(c=!0,i=a.childNodes[l],l=0,!i)){var p=n.rest?ge(n.rest):n.line;return xi(Q(S(p),p.text.length),c)}var y=i.nodeType==3?i:null,v=i;for(!y&&i.childNodes.length==1&&i.firstChild.nodeType==3&&(y=i.firstChild,l&&(l=y.nodeValue.length));v.parentNode!=a;)v=v.parentNode;var b=n.measure,A=b.maps;function B(oe,ae,ce){for(var le=-1;le<(A?A.length:0);le++)for(var he=le<0?b.map:A[le],xe=0;xe<he.length;xe+=3){var ve=he[xe+2];if(ve==oe||ve==ae){var Ne=S(le<0?n.line:n.rest[le]),$e=he[xe]+ce;return(ce<0||ve!=oe)&&($e=he[xe+(ce?1:0)]),Q(Ne,$e)}}}var R=B(y,v,l);if(R)return xi(R,c);for(var V=v.nextSibling,_=y?y.nodeValue.length-l:0;V;V=V.nextSibling){if(R=B(V,V.firstChild,0),R)return xi(Q(R.line,R.ch-_),c);_+=V.textContent.length}for(var Z=v.previousSibling,ne=l;Z;Z=Z.previousSibling){if(R=B(Z,Z.firstChild,-1),R)return xi(Q(R.line,R.ch+ne),c);ne+=Z.textContent.length}}var rt=function(n){this.cm=n,this.prevInput="",this.pollingFast=!1,this.polling=new Me,this.hasSelection=!1,this.composing=null,this.resetting=!1};rt.prototype.init=function(n){var i=this,l=this,a=this.cm;this.createField(n);var c=this.textarea;n.wrapper.insertBefore(this.wrapper,n.wrapper.firstChild),T&&(c.style.width="0px"),be(c,"input",function(){f&&d>=9&&i.hasSelection&&(i.hasSelection=null),l.poll()}),be(c,"paste",function(y){et(a,y)||Ng(y,a)||(a.state.pasteIncoming=+new Date,l.fastPoll())});function p(y){if(!et(a,y)){if(a.somethingSelected())aa({lineWise:!1,text:a.getSelections()});else if(a.options.lineWiseCopyCut){var v=Pg(a);aa({lineWise:!0,text:v.text}),y.type=="cut"?a.setSelections(v.ranges,null,de):(l.prevInput="",c.value=v.text.join(`
`),Je(c))}else return;y.type=="cut"&&(a.state.cutIncoming=+new Date)}}be(c,"cut",p),be(c,"copy",p),be(n.scroller,"paste",function(y){if(!(jn(n,y)||et(a,y))){if(!c.dispatchEvent){a.state.pasteIncoming=+new Date,l.focus();return}var v=new Event("paste");v.clipboardData=y.clipboardData,c.dispatchEvent(v)}}),be(n.lineSpace,"selectstart",function(y){jn(n,y)||kt(y)}),be(c,"compositionstart",function(){var y=a.getCursor("from");l.composing&&l.composing.range.clear(),l.composing={start:y,range:a.markText(y,a.getCursor("to"),{className:"CodeMirror-composing"})}}),be(c,"compositionend",function(){l.composing&&(l.poll(),l.composing.range.clear(),l.composing=null)})},rt.prototype.createField=function(n){this.wrapper=Ig(),this.textarea=this.wrapper.firstChild;var i=this.cm.options;Wu(this.textarea,i.spellcheck,i.autocorrect,i.autocapitalize)},rt.prototype.screenReaderLabelChanged=function(n){n?this.textarea.setAttribute("aria-label",n):this.textarea.removeAttribute("aria-label")},rt.prototype.prepareSelection=function(){var n=this.cm,i=n.display,l=n.doc,a=Sh(n);if(n.options.moveInputWithCursor){var c=hn(n,l.sel.primary().head,"div"),p=i.wrapper.getBoundingClientRect(),y=i.lineDiv.getBoundingClientRect();a.teTop=Math.max(0,Math.min(i.wrapper.clientHeight-10,c.top+y.top-p.top)),a.teLeft=Math.max(0,Math.min(i.wrapper.clientWidth-10,c.left+y.left-p.left))}return a},rt.prototype.showSelection=function(n){var i=this.cm,l=i.display;K(l.cursorDiv,n.cursors),K(l.selectionDiv,n.selection),n.teTop!=null&&(this.wrapper.style.top=n.teTop+"px",this.wrapper.style.left=n.teLeft+"px")},rt.prototype.reset=function(n){if(!(this.contextMenuPending||this.composing&&n)){var i=this.cm;if(this.resetting=!0,i.somethingSelected()){this.prevInput="";var l=i.getSelection();this.textarea.value=l,i.state.focused&&Je(this.textarea),f&&d>=9&&(this.hasSelection=l)}else n||(this.prevInput=this.textarea.value="",f&&d>=9&&(this.hasSelection=null));this.resetting=!1}},rt.prototype.getField=function(){return this.textarea},rt.prototype.supportsTouch=function(){return!1},rt.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"&&(!k||ke(Re(this.textarea))!=this.textarea))try{this.textarea.focus()}catch{}},rt.prototype.blur=function(){this.textarea.blur()},rt.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},rt.prototype.receivedFocus=function(){this.slowPoll()},rt.prototype.slowPoll=function(){var n=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){n.poll(),n.cm.state.focused&&n.slowPoll()})},rt.prototype.fastPoll=function(){var n=!1,i=this;i.pollingFast=!0;function l(){var a=i.poll();!a&&!n?(n=!0,i.polling.set(60,l)):(i.pollingFast=!1,i.slowPoll())}i.polling.set(20,l)},rt.prototype.poll=function(){var n=this,i=this.cm,l=this.textarea,a=this.prevInput;if(this.contextMenuPending||this.resetting||!i.state.focused||Jn(l)&&!a&&!this.composing||i.isReadOnly()||i.options.disableInput||i.state.keySeq)return!1;var c=l.value;if(c==a&&!i.somethingSelected())return!1;if(f&&d>=9&&this.hasSelection===c||M&&/[\uf700-\uf7ff]/.test(c))return i.display.input.reset(),!1;if(i.doc.sel==i.display.selForContextMenu){var p=c.charCodeAt(0);if(p==8203&&!a&&(a="\u200B"),p==8666)return this.reset(),this.cm.execCommand("undo")}for(var y=0,v=Math.min(a.length,c.length);y<v&&a.charCodeAt(y)==c.charCodeAt(y);)++y;return Bt(i,function(){_u(i,c.slice(y),a.length-y,null,n.composing?"*compose":null),c.length>1e3||c.indexOf(`
`)>-1?l.value=n.prevInput="":n.prevInput=c,n.composing&&(n.composing.range.clear(),n.composing.range=i.markText(n.composing.start,i.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},rt.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},rt.prototype.onKeyPress=function(){f&&d>=9&&(this.hasSelection=null),this.fastPoll()},rt.prototype.onContextMenu=function(n){var i=this,l=i.cm,a=l.display,c=i.textarea;i.contextMenuPending&&i.contextMenuPending();var p=br(l,n),y=a.scroller.scrollTop;if(!p||x)return;var v=l.options.resetSelectionOnContextMenu;v&&l.doc.sel.contains(p)==-1&&pt(l,Ct)(l.doc,nr(p),de);var b=c.style.cssText,A=i.wrapper.style.cssText,B=i.wrapper.offsetParent.getBoundingClientRect();i.wrapper.style.cssText="position: static",c.style.cssText=`position: absolute; width: 30px; height: 30px;
      top: `+(n.clientY-B.top-5)+"px; left: "+(n.clientX-B.left-5)+`px;
      z-index: 1000; background: `+(f?"rgba(255, 255, 255, .05)":"transparent")+`;
      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);`;var R;h&&(R=c.ownerDocument.defaultView.scrollY),a.input.focus(),h&&c.ownerDocument.defaultView.scrollTo(null,R),a.input.reset(),l.somethingSelected()||(c.value=i.prevInput=" "),i.contextMenuPending=_,a.selForContextMenu=l.doc.sel,clearTimeout(a.detectingSelectAll);function V(){if(c.selectionStart!=null){var ne=l.somethingSelected(),oe="\u200B"+(ne?c.value:"");c.value="\u21DA",c.value=oe,i.prevInput=ne?"":"\u200B",c.selectionStart=1,c.selectionEnd=oe.length,a.selForContextMenu=l.doc.sel}}function _(){if(i.contextMenuPending==_&&(i.contextMenuPending=!1,i.wrapper.style.cssText=A,c.style.cssText=b,f&&d<9&&a.scrollbars.setScrollTop(a.scroller.scrollTop=y),c.selectionStart!=null)){(!f||f&&d<9)&&V();var ne=0,oe=function(){a.selForContextMenu==l.doc.sel&&c.selectionStart==0&&c.selectionEnd>0&&i.prevInput=="\u200B"?pt(l,ng)(l):ne++<10?a.detectingSelectAll=setTimeout(oe,500):(a.selForContextMenu=null,a.input.reset())};a.detectingSelectAll=setTimeout(oe,200)}}if(f&&d>=9&&V(),H){Qn(n);var Z=function(){xt(window,"mouseup",Z),setTimeout(_,20)};be(window,"mouseup",Z)}else setTimeout(_,50)},rt.prototype.readOnlyChanged=function(n){n||this.reset(),this.textarea.disabled=n=="nocursor",this.textarea.readOnly=!!n},rt.prototype.setUneditable=function(){},rt.prototype.needsContentAttribute=!1;function HS(n,i){if(i=i?Te(i):{},i.value=n.value,!i.tabindex&&n.tabIndex&&(i.tabindex=n.tabIndex),!i.placeholder&&n.placeholder&&(i.placeholder=n.placeholder),i.autofocus==null){var l=ke(Re(n));i.autofocus=l==n||n.getAttribute("autofocus")!=null&&l==document.body}function a(){n.value=v.getValue()}var c;if(n.form&&(be(n.form,"submit",a),!i.leaveSubmitMethodAlone)){var p=n.form;c=p.submit;try{var y=p.submit=function(){a(),p.submit=c,p.submit(),p.submit=y}}catch{}}i.finishInit=function(b){b.save=a,b.getTextArea=function(){return n},b.toTextArea=function(){b.toTextArea=isNaN,a(),n.parentNode.removeChild(b.getWrapperElement()),n.style.display="",n.form&&(xt(n.form,"submit",a),!i.leaveSubmitMethodAlone&&typeof n.form.submit=="function"&&(n.form.submit=c))}},n.style.display="none";var v=Qe(function(b){return n.parentNode.insertBefore(b,n.nextSibling)},i);return v}function qS(n){n.off=xt,n.on=be,n.wheelEventPixels=YD,n.Doc=Nt,n.splitLines=tn,n.countColumn=Pe,n.findColumn=we,n.isWordChar=ot,n.Pass=te,n.signal=Xe,n.Line=oi,n.changeEnd=rr,n.scrollbarModel=Nh,n.Pos=Q,n.cmpPos=ue,n.modes=Xr,n.mimeModes=fn,n.resolveMode=ei,n.getMode=ti,n.modeExtensions=Zn,n.extendMode=ni,n.copyState=An,n.startState=ri,n.innerMode=oo,n.commands=Lo,n.keyMap=zn,n.keyName=vg,n.isModifierKey=mg,n.lookupKey=vi,n.normalizeKeyMap=mS,n.StringStream=tt,n.SharedTextMarker=Eo,n.TextMarker=or,n.LineWidget=So,n.e_preventDefault=kt,n.e_stopPropagation=Jr,n.e_stop=Qn,n.addClass=Ie,n.contains=fe,n.rmClass=X,n.keyNames=sr}NS(Qe),jS(Qe);var _S="iter insert remove copy getEditor constructor".split(" ");for(var ua in Nt.prototype)Nt.prototype.hasOwnProperty(ua)&&ye(_S,ua)<0&&(Qe.prototype[ua]=function(n){return function(){return n.apply(this.doc,arguments)}}(Nt.prototype[ua]));return ln(Nt),Qe.inputStyles={textarea:rt,contenteditable:_e},Qe.defineMode=function(n){!Qe.defaults.mode&&n!="null"&&(Qe.defaults.mode=n),dn.apply(this,arguments)},Qe.defineMIME=yr,Qe.defineMode("null",function(){return{token:function(n){return n.skipToEnd()}}}),Qe.defineMIME("text/plain","null"),Qe.defineExtension=function(n,i){Qe.prototype[n]=i},Qe.defineDocExtension=function(n,i){Nt.prototype[n]=i},Qe.fromTextArea=HS,qS(Qe),Qe.version="5.65.19",Qe})});function Dd(t){let e=new Set(["has","in","no","not","and","or","is","asc","ascN","ascA","ascAN","ascNA","desc","descN","descA","descAN","descNA"]),r=Ad.default.getMode(t,{name:"javascript",json:!0});return{...r,indent(o,s){return o.indented+t.indentUnit*(o.lastType==="{"&&s.trim()[0]!=="}"||o.lastType==="("&&s.trim()[0]!==")"||o.lastType==="["&&s.trim()[0]!=="]")},token(o,s){let u=o.peek();if(u==="#"||u==="@")return r.token(new Ad.default.StringStream("$",4,o.lineOracle),s),o.pos++,"variable";let f=r.token(o,s),d=o.string.slice(o.start,o.pos);if(o.string[o.start-1]!=="."){if(s.isAssertionContext){if((f==="variable"||f==="atom")&&s.isAssertionParen===0&&d!=="not")return"type";d==="("?s.isAssertionParen++:d===")"&&(s.isAssertionParen>0&&s.isAssertionParen--,s.isAssertionParen===0&&(s.isAssertionContext=!1))}if(e.has(d))return d==="is"&&(s.isAssertionContext=!0,s.isAssertionParen=0),"keyword"}if(s.isAssertionContext){if(f==="variable"||f==="atom"||f==="def"||d==="function")return"type";s.isAssertionParen===0&&(f||/\S/.test(d))&&(s.isAssertionContext=!1)}return f}}}var Ad,dx=I(()=>{Ad=nn(bn(),1)});function hx(t,e){let r=typeof e.isDiscoveryViewDefined=="function"?e.isDiscoveryViewDefined:()=>{},o=px.default.getMode(t,{name:"javascript",json:!0});return{...o,indent(s,u){return s.indented+t.indentUnit*(s.lastType==="{"&&u.trim()[0]!=="}"||s.lastType==="("&&u.trim()[0]!==")"||s.lastType==="["&&u.trim()[0]!=="]")},token:function(s,u){if(u.suspendTokens){let{pos:h,token:g}=u.suspendTokens.shift();return s.pos=h,u.suspendTokens.length===0&&(u.suspendTokens=null),g}let f=s.pos,d=o.token(s,u);if(d==="string"){let h=s.pos,[,g]=s.string.slice(f+1,h-1).match(/^(.+?)([:{]|$)/)||[];r(g)&&(s.pos=f+1,u.suspendTokens=[{pos:f+1+g.length,token:"string discovery-view-name"},{pos:h,token:d}])}return d}}}var px,gx=I(()=>{px=nn(bn(),1)});var Sd=bt((mx,yx)=>{(function(t){typeof mx=="object"&&typeof yx=="object"?t(bn()):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],t):t(CodeMirror)})(function(t){"use strict";t.defineMode("javascript",function(e,r){var o=e.indentUnit,s=r.statementIndent,u=r.jsonld,f=r.json||u,d=r.trackScope!==!1,h=r.typescript,g=r.wordCharacters||/[\w$\xa1-\uffff]/,m=function(){function S(ft){return{type:ft,style:"keyword"}}var z=S("keyword a"),ee=S("keyword b"),ie=S("keyword c"),Q=S("keyword d"),ue=S("operator"),He={type:"atom",style:"atom"};return{if:S("if"),while:z,with:z,else:ee,do:ee,try:ee,finally:ee,return:Q,break:Q,continue:Q,new:S("new"),delete:ie,void:ie,throw:ie,debugger:S("debugger"),var:S("var"),const:S("var"),let:S("var"),function:S("function"),catch:S("catch"),for:S("for"),switch:S("switch"),case:S("case"),default:S("default"),in:ue,typeof:ue,instanceof:ue,true:He,false:He,null:He,undefined:He,NaN:He,Infinity:He,this:S("this"),class:S("class"),super:S("atom"),yield:ie,export:S("export"),import:S("import"),extends:ie,await:ie}}(),w=/[+\-*&%=<>!?|~^@]/,x=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function D(S){for(var z=!1,ee,ie=!1;(ee=S.next())!=null;){if(!z){if(ee=="/"&&!ie)return;ee=="["?ie=!0:ie&&ee=="]"&&(ie=!1)}z=!z&&ee=="\\"}}var L,N;function T(S,z,ee){return L=S,N=ee,z}function C(S,z){var ee=S.next();if(ee=='"'||ee=="'")return z.tokenize=k(ee),z.tokenize(S,z);if(ee=="."&&S.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return T("number","number");if(ee=="."&&S.match(".."))return T("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(ee))return T(ee);if(ee=="="&&S.eat(">"))return T("=>","operator");if(ee=="0"&&S.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return T("number","number");if(/\d/.test(ee))return S.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),T("number","number");if(ee=="/")return S.eat("*")?(z.tokenize=M,M(S,z)):S.eat("/")?(S.skipToEnd(),T("comment","comment")):Yt(S,z,1)?(D(S),S.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),T("regexp","string-2")):(S.eat("="),T("operator","operator",S.current()));if(ee=="`")return z.tokenize=O,O(S,z);if(ee=="#"&&S.peek()=="!")return S.skipToEnd(),T("meta","meta");if(ee=="#"&&S.eatWhile(g))return T("variable","property");if(ee=="<"&&S.match("!--")||ee=="-"&&S.match("->")&&!/\S/.test(S.string.slice(0,S.start)))return S.skipToEnd(),T("comment","comment");if(w.test(ee))return(ee!=">"||!z.lexical||z.lexical.type!=">")&&(S.eat("=")?(ee=="!"||ee=="=")&&S.eat("="):/[<>*+\-|&?]/.test(ee)&&(S.eat(ee),ee==">"&&S.eat(ee))),ee=="?"&&S.eat(".")?T("."):T("operator","operator",S.current());if(g.test(ee)){S.eatWhile(g);var ie=S.current();if(z.lastType!="."){if(m.propertyIsEnumerable(ie)){var Q=m[ie];return T(Q.type,Q.style,ie)}if(ie=="async"&&S.match(/^(\s|\/\*([^*]|\*(?!\/))*?\*\/)*[\[\(\w]/,!1))return T("async","keyword",ie)}return T("variable","variable",ie)}}function k(S){return function(z,ee){var ie=!1,Q;if(u&&z.peek()=="@"&&z.match(x))return ee.tokenize=C,T("jsonld-keyword","meta");for(;(Q=z.next())!=null&&!(Q==S&&!ie);)ie=!ie&&Q=="\\";return ie||(ee.tokenize=C),T("string","string")}}function M(S,z){for(var ee=!1,ie;ie=S.next();){if(ie=="/"&&ee){z.tokenize=C;break}ee=ie=="*"}return T("comment","comment")}function O(S,z){for(var ee=!1,ie;(ie=S.next())!=null;){if(!ee&&(ie=="`"||ie=="$"&&S.eat("{"))){z.tokenize=C;break}ee=!ee&&ie=="\\"}return T("quasi","string-2",S.current())}var F="([{}])";function P(S,z){z.fatArrowAt&&(z.fatArrowAt=null);var ee=S.string.indexOf("=>",S.start);if(!(ee<0)){if(h){var ie=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(S.string.slice(S.start,ee));ie&&(ee=ie.index)}for(var Q=0,ue=!1,He=ee-1;He>=0;--He){var ft=S.string.charAt(He),Lt=F.indexOf(ft);if(Lt>=0&&Lt<3){if(!Q){++He;break}if(--Q==0){ft=="("&&(ue=!0);break}}else if(Lt>=3&&Lt<6)++Q;else if(g.test(ft))ue=!0;else if(/["'\/`]/.test(ft))for(;;--He){if(He==0)return;var ii=S.string.charAt(He-1);if(ii==ft&&S.string.charAt(He-2)!="\\"){He--;break}}else if(ue&&!Q){++He;break}}ue&&!Q&&(z.fatArrowAt=He)}}var j={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,import:!0,"jsonld-keyword":!0};function H(S,z,ee,ie,Q,ue){this.indented=S,this.column=z,this.type=ee,this.prev=Q,this.info=ue,ie!=null&&(this.align=ie)}function W(S,z){if(!d)return!1;for(var ee=S.localVars;ee;ee=ee.next)if(ee.name==z)return!0;for(var ie=S.context;ie;ie=ie.prev)for(var ee=ie.vars;ee;ee=ee.next)if(ee.name==z)return!0}function X(S,z,ee,ie,Q){var ue=S.cc;for(q.state=S,q.stream=Q,q.marked=null,q.cc=ue,q.style=z,S.lexical.hasOwnProperty("align")||(S.lexical.align=!0);;){var He=ue.length?ue.pop():f?ye:Pe;if(He(ee,ie)){for(;ue.length&&ue[ue.length-1].lex;)ue.pop()();return q.marked?q.marked:ee=="variable"&&W(S,ie)?"variable-2":z}}}var q={state:null,column:null,marked:null,cc:null};function K(){for(var S=arguments.length-1;S>=0;S--)q.cc.push(arguments[S])}function E(){return K.apply(null,arguments),!0}function Y(S,z){for(var ee=z;ee;ee=ee.next)if(ee.name==S)return!0;return!1}function G(S){var z=q.state;if(q.marked="def",!!d){if(z.context){if(z.lexical.info=="var"&&z.context&&z.context.block){var ee=fe(S,z.context);if(ee!=null){z.context=ee;return}}else if(!Y(S,z.localVars)){z.localVars=new Ye(S,z.localVars);return}}r.globalVars&&!Y(S,z.globalVars)&&(z.globalVars=new Ye(S,z.globalVars))}}function fe(S,z){if(z)if(z.block){var ee=fe(S,z.prev);return ee?ee==z.prev?z:new Ie(ee,z.vars,!0):null}else return Y(S,z.vars)?z:new Ie(z.prev,new Ye(S,z.vars),!1);else return null}function ke(S){return S=="public"||S=="private"||S=="protected"||S=="abstract"||S=="readonly"}function Ie(S,z,ee){this.prev=S,this.vars=z,this.block=ee}function Ye(S,z){this.name=S,this.next=z}var Je=new Ye("this",new Ye("arguments",null));function Ze(){q.state.context=new Ie(q.state.context,q.state.localVars,!1),q.state.localVars=Je}function vt(){q.state.context=new Ie(q.state.context,q.state.localVars,!0),q.state.localVars=null}Ze.lex=vt.lex=!0;function Re(){q.state.localVars=q.state.context.vars,q.state.context=q.state.context.prev}Re.lex=!0;function Ee(S,z){var ee=function(){var ie=q.state,Q=ie.indented;if(ie.lexical.type=="stat")Q=ie.lexical.indented;else for(var ue=ie.lexical;ue&&ue.type==")"&&ue.align;ue=ue.prev)Q=ue.indented;ie.lexical=new H(Q,q.stream.column(),S,null,ie.lexical,z)};return ee.lex=!0,ee}function Ce(){var S=q.state;S.lexical.prev&&(S.lexical.type==")"&&(S.indented=S.lexical.indented),S.lexical=S.lexical.prev)}Ce.lex=!0;function Te(S){function z(ee){return ee==S?E():S==";"||ee=="}"||ee==")"||ee=="]"?K():E(z)}return z}function Pe(S,z){return S=="var"?E(Ee("vardef",z),Jr,Te(";"),Ce):S=="keyword a"?E(Ee("form"),te,Pe,Ce):S=="keyword b"?E(Ee("form"),Pe,Ce):S=="keyword d"?q.stream.match(/^\s*$/,!1)?E():E(Ee("stat"),pe,Te(";"),Ce):S=="debugger"?E(Te(";")):S=="{"?E(Ee("}"),vt,Cn,Ce,Re):S==";"?E():S=="if"?(q.state.lexical.info=="else"&&q.state.cc[q.state.cc.length-1]==Ce&&q.state.cc.pop()(),E(Ee("form"),te,Pe,Ce,Zr)):S=="function"?E(tn):S=="for"?E(Ee("form"),vt,Ns,Pe,Re,Ce):S=="class"||h&&z=="interface"?(q.marked="keyword",E(Ee("form",S=="class"?S:z),Xr,Ce)):S=="variable"?h&&z=="declare"?(q.marked="keyword",E(Pe)):h&&(z=="module"||z=="enum"||z=="type")&&q.stream.match(/^\s*\w/,!1)?(q.marked="keyword",z=="enum"?E(me):z=="type"?E(Os,Te("operator"),je,Te(";")):E(Ee("form"),Mt,Te("{"),Ee("}"),Cn,Ce,Ce)):h&&z=="namespace"?(q.marked="keyword",E(Ee("form"),ye,Pe,Ce)):h&&z=="abstract"?(q.marked="keyword",E(Pe)):E(Ee("stat"),Oe):S=="switch"?E(Ee("form"),te,Te("{"),Ee("}","switch"),vt,Cn,Ce,Ce,Re):S=="case"?E(ye,Te(":")):S=="default"?E(Te(":")):S=="catch"?E(Ee("form"),Ze,Me,Pe,Ce,Re):S=="export"?E(Ee("stat"),ei,Ce):S=="import"?E(Ee("stat"),Zn,Ce):S=="async"?E(Pe):z=="@"?E(ye,Pe):K(Ee("stat"),ye,Te(";"),Ce)}function Me(S){if(S=="(")return E(cn,Te(")"))}function ye(S,z){return de(S,z,!1)}function ut(S,z){return de(S,z,!0)}function te(S){return S!="("?K():E(Ee(")"),pe,Te(")"),Ce)}function de(S,z,ee){if(q.state.fatArrowAt==q.stream.start){var ie=ee?Ae:ge;if(S=="(")return E(Ze,Ee(")"),st(cn,")"),Ce,Te("=>"),ie,Re);if(S=="variable")return K(Ze,Mt,Te("=>"),ie,Re)}var Q=ee?we:se;return j.hasOwnProperty(S)?E(Q):S=="function"?E(tn,Q):S=="class"||h&&z=="interface"?(q.marked="keyword",E(Ee("form"),Xl,Ce)):S=="keyword c"||S=="async"?E(ee?ut:ye):S=="("?E(Ee(")"),pe,Te(")"),Ce,Q):S=="operator"||S=="spread"?E(ee?ut:ye):S=="["?E(Ee("]"),tt,Ce,Q):S=="{"?Un(Ln,"}",null,Q):S=="quasi"?K(Fe,Q):S=="new"?E(U(ee)):E()}function pe(S){return S.match(/[;\}\)\],]/)?K():K(ye)}function se(S,z){return S==","?E(pe):we(S,z,!1)}function we(S,z,ee){var ie=ee==!1?se:we,Q=ee==!1?ye:ut;if(S=="=>")return E(Ze,ee?Ae:ge,Re);if(S=="operator")return/\+\+|--/.test(z)||h&&z=="!"?E(ie):h&&z=="<"&&q.stream.match(/^([^<>]|<[^<>]*>)*>\s*\(/,!1)?E(Ee(">"),st(je,">"),Ce,ie):z=="?"?E(ye,Te(":"),Q):E(Q);if(S=="quasi")return K(Fe,ie);if(S!=";"){if(S=="(")return Un(ut,")","call",ie);if(S==".")return E(ot,ie);if(S=="[")return E(Ee("]"),pe,Te("]"),Ce,ie);if(h&&z=="as")return q.marked="keyword",E(je,ie);if(S=="regexp")return q.state.lastType=q.marked="operator",q.stream.backUp(q.stream.pos-q.stream.start-1),E(Q)}}function Fe(S,z){return S!="quasi"?K():z.slice(z.length-2)!="${"?E(Fe):E(pe,Be)}function Be(S){if(S=="}")return q.marked="string-2",q.state.tokenize=O,E(Fe)}function ge(S){return P(q.stream,q.state),K(S=="{"?Pe:ye)}function Ae(S){return P(q.stream,q.state),K(S=="{"?Pe:ut)}function U(S){return function(z){return z=="."?E(S?J:re):z=="variable"&&h?E(jt,S?we:se):K(S?ut:ye)}}function re(S,z){if(z=="target")return q.marked="keyword",E(se)}function J(S,z){if(z=="target")return q.marked="keyword",E(we)}function Oe(S){return S==":"?E(Ce,Pe):K(se,Te(";"),Ce)}function ot(S){if(S=="variable")return q.marked="property",E()}function Ln(S,z){if(S=="async")return q.marked="property",E(Ln);if(S=="variable"||q.style=="keyword"){if(q.marked="property",z=="get"||z=="set")return E(Ls);var ee;return h&&q.state.fatArrowAt==q.stream.start&&(ee=q.stream.match(/^\s*:\s*/,!1))&&(q.state.fatArrowAt=q.stream.pos+ee[0].length),E(Fn)}else{if(S=="number"||S=="string")return q.marked=u?"property":q.style+" property",E(Fn);if(S=="jsonld-keyword")return E(Fn);if(h&&ke(z))return q.marked="keyword",E(Ln);if(S=="[")return E(ye,Gn,Te("]"),Fn);if(S=="spread")return E(ut,Fn);if(z=="*")return q.marked="keyword",E(Ln);if(S==":")return K(Fn)}}function Ls(S){return S!="variable"?K(Fn):(q.marked="property",E(tn))}function Fn(S){if(S==":")return E(ut);if(S=="(")return K(tn)}function st(S,z,ee){function ie(Q,ue){if(ee?ee.indexOf(Q)>-1:Q==","){var He=q.state.lexical;return He.info=="call"&&(He.pos=(He.pos||0)+1),E(function(ft,Lt){return ft==z||Lt==z?K():K(S)},ie)}return Q==z||ue==z?E():ee&&ee.indexOf(";")>-1?K(S):E(Te(z))}return function(Q,ue){return Q==z||ue==z?E():K(S,ie)}}function Un(S,z,ee){for(var ie=3;ie<arguments.length;ie++)q.cc.push(arguments[ie]);return E(Ee(z,ee),st(S,z),Ce)}function Cn(S){return S=="}"?E():K(Pe,Cn)}function Gn(S,z){if(h){if(S==":")return E(je);if(z=="?")return E(Gn)}}function mr(S,z){if(h&&(S==":"||z=="in"))return E(je)}function Yn(S){if(h&&S==":")return q.stream.match(/^\s*\w+\s+is\b/,!1)?E(ye,Jl,je):E(je)}function Jl(S,z){if(z=="is")return q.marked="keyword",E()}function je(S,z){if(z=="keyof"||z=="typeof"||z=="infer"||z=="readonly")return q.marked="keyword",E(z=="typeof"?ut:je);if(S=="variable"||z=="void")return q.marked="type",E(en);if(z=="|"||z=="&")return E(je);if(S=="string"||S=="number"||S=="atom")return E(en);if(S=="[")return E(Ee("]"),st(je,"]",","),Ce,en);if(S=="{")return E(Ee("}"),be,Ce,en);if(S=="(")return E(st(et,")"),Fs,en);if(S=="<")return E(st(je,">"),je);if(S=="quasi")return K(xt,en)}function Fs(S){if(S=="=>")return E(je)}function be(S){return S.match(/[\}\)\]]/)?E():S==","||S==";"?E(be):K(Nn,be)}function Nn(S,z){if(S=="variable"||q.style=="keyword")return q.marked="property",E(Nn);if(z=="?"||S=="number"||S=="string")return E(Nn);if(S==":")return E(je);if(S=="[")return E(Te("variable"),mr,Te("]"),Nn);if(S=="(")return K(Jn,Nn);if(!S.match(/[;\}\)\],]/))return E()}function xt(S,z){return S!="quasi"?K():z.slice(z.length-2)!="${"?E(xt):E(je,Xe)}function Xe(S){if(S=="}")return q.marked="string-2",q.state.tokenize=O,E(xt)}function et(S,z){return S=="variable"&&q.stream.match(/^\s*[?:]/,!1)||z=="?"?E(et):S==":"?E(je):S=="spread"?E(et):K(je)}function en(S,z){if(z=="<")return E(Ee(">"),st(je,">"),Ce,en);if(z=="|"||S=="."||z=="&")return E(je);if(S=="[")return E(je,Te("]"),en);if(z=="extends"||z=="implements")return q.marked="keyword",E(je);if(z=="?")return E(je,Te(":"),je)}function jt(S,z){if(z=="<")return E(Ee(">"),st(je,">"),Ce,en)}function ln(){return K(je,kt)}function kt(S,z){if(z=="=")return E(je)}function Jr(S,z){return z=="enum"?(q.marked="keyword",E(me)):K(Mt,Gn,un,Zl)}function Mt(S,z){if(h&&ke(z))return q.marked="keyword",E(Mt);if(S=="variable")return G(z),E();if(S=="spread")return E(Mt);if(S=="[")return Un(ro,"]");if(S=="{")return Un(Qn,"}")}function Qn(S,z){return S=="variable"&&!q.stream.match(/^\s*:/,!1)?(G(z),E(un)):(S=="variable"&&(q.marked="property"),S=="spread"?E(Mt):S=="}"?K():S=="["?E(ye,Te("]"),Te(":"),Qn):E(Te(":"),Mt,un))}function ro(){return K(Mt,un)}function un(S,z){if(z=="=")return E(ut)}function Zl(S){if(S==",")return E(Jr)}function Zr(S,z){if(S=="keyword b"&&z=="else")return E(Ee("form","else"),Pe,Ce)}function Ns(S,z){if(z=="await")return E(Ns);if(S=="(")return E(Ee(")"),io,Ce)}function io(S){return S=="var"?E(Jr,Kn):S=="variable"?E(Kn):K(Kn)}function Kn(S,z){return S==")"?E():S==";"?E(Kn):z=="in"||z=="of"?(q.marked="keyword",E(ye,Kn)):K(ye,Kn)}function tn(S,z){if(z=="*")return q.marked="keyword",E(tn);if(S=="variable")return G(z),E(tn);if(S=="(")return E(Ze,Ee(")"),st(cn,")"),Ce,Yn,Pe,Re);if(h&&z=="<")return E(Ee(">"),st(ln,">"),Ce,tn)}function Jn(S,z){if(z=="*")return q.marked="keyword",E(Jn);if(S=="variable")return G(z),E(Jn);if(S=="(")return E(Ze,Ee(")"),st(cn,")"),Ce,Yn,Re);if(h&&z=="<")return E(Ee(">"),st(ln,">"),Ce,Jn)}function Os(S,z){if(S=="keyword"||S=="variable")return q.marked="type",E(Os);if(z=="<")return E(Ee(">"),st(ln,">"),Ce)}function cn(S,z){return z=="@"&&E(ye,cn),S=="spread"?E(cn):h&&ke(z)?(q.marked="keyword",E(cn)):h&&S=="this"?E(Gn,un):K(Mt,Gn,un)}function Xl(S,z){return S=="variable"?Xr(S,z):fn(S,z)}function Xr(S,z){if(S=="variable")return G(z),E(fn)}function fn(S,z){if(z=="<")return E(Ee(">"),st(ln,">"),Ce,fn);if(z=="extends"||z=="implements"||h&&S==",")return z=="implements"&&(q.marked="keyword"),E(h?je:ye,fn);if(S=="{")return E(Ee("}"),dn,Ce)}function dn(S,z){if(S=="async"||S=="variable"&&(z=="static"||z=="get"||z=="set"||h&&ke(z))&&q.stream.match(/^\s+#?[\w$\xa1-\uffff]/,!1))return q.marked="keyword",E(dn);if(S=="variable"||q.style=="keyword")return q.marked="property",E(yr,dn);if(S=="number"||S=="string")return E(yr,dn);if(S=="[")return E(ye,Gn,Te("]"),yr,dn);if(z=="*")return q.marked="keyword",E(dn);if(h&&S=="(")return K(Jn,dn);if(S==";"||S==",")return E(dn);if(S=="}")return E();if(z=="@")return E(ye,dn)}function yr(S,z){if(z=="!"||z=="?")return E(yr);if(S==":")return E(je,un);if(z=="=")return E(ut);var ee=q.state.lexical.prev,ie=ee&&ee.info=="interface";return K(ie?Jn:tn)}function ei(S,z){return z=="*"?(q.marked="keyword",E(ri,Te(";"))):z=="default"?(q.marked="keyword",E(ye,Te(";"))):S=="{"?E(st(ti,"}"),ri,Te(";")):K(Pe)}function ti(S,z){if(z=="as")return q.marked="keyword",E(Te("variable"));if(S=="variable")return K(ut,ti)}function Zn(S){return S=="string"?E():S=="("?K(ye):S=="."?K(se):K(ni,An,ri)}function ni(S,z){return S=="{"?Un(ni,"}"):(S=="variable"&&G(z),z=="*"&&(q.marked="keyword"),E(oo))}function An(S){if(S==",")return E(ni,An)}function oo(S,z){if(z=="as")return q.marked="keyword",E(ni)}function ri(S,z){if(z=="from")return q.marked="keyword",E(ye)}function tt(S){return S=="]"?E():K(st(ut,"]"))}function me(){return K(Ee("form"),Mt,Te("{"),Ee("}"),st(On,"}"),Ce,Ce)}function On(){return K(Mt,un)}function so(S,z){return S.lastType=="operator"||S.lastType==","||w.test(z.charAt(0))||/[,.]/.test(z.charAt(0))}function Yt(S,z,ee){return z.tokenize==C&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(z.lastType)||z.lastType=="quasi"&&/\{\s*$/.test(S.string.slice(0,S.pos-(ee||0)))}return{startState:function(S){var z={tokenize:C,lastType:"sof",cc:[],lexical:new H((S||0)-o,0,"block",!1),localVars:r.localVars,context:r.localVars&&new Ie(null,null,!1),indented:S||0};return r.globalVars&&typeof r.globalVars=="object"&&(z.globalVars=r.globalVars),z},token:function(S,z){if(S.sol()&&(z.lexical.hasOwnProperty("align")||(z.lexical.align=!1),z.indented=S.indentation(),P(S,z)),z.tokenize!=M&&S.eatSpace())return null;var ee=z.tokenize(S,z);return L=="comment"?ee:(z.lastType=L=="operator"&&(N=="++"||N=="--")?"incdec":L,X(z,ee,L,N,S))},indent:function(S,z){if(S.tokenize==M||S.tokenize==O)return t.Pass;if(S.tokenize!=C)return 0;var ee=z&&z.charAt(0),ie=S.lexical,Q;if(!/^\s*else\b/.test(z))for(var ue=S.cc.length-1;ue>=0;--ue){var He=S.cc[ue];if(He==Ce)ie=ie.prev;else if(He!=Zr&&He!=Re)break}for(;(ie.type=="stat"||ie.type=="form")&&(ee=="}"||(Q=S.cc[S.cc.length-1])&&(Q==se||Q==we)&&!/^[,\.=+\-*:?[\(]/.test(z));)ie=ie.prev;s&&ie.type==")"&&ie.prev.type=="stat"&&(ie=ie.prev);var ft=ie.type,Lt=ee==ft;return ft=="vardef"?ie.indented+(S.lastType=="operator"||S.lastType==","?ie.info.length+1:0):ft=="form"&&ee=="{"?ie.indented:ft=="form"?ie.indented+o:ft=="stat"?ie.indented+(so(S,z)?s||o:0):ie.info=="switch"&&!Lt&&r.doubleIndentSwitch!=!1?ie.indented+(/^(?:case|default)\b/.test(z)?o:2*o):ie.align?ie.column+(Lt?0:1):ie.indented+(Lt?0:o)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:f?null:"/*",blockCommentEnd:f?null:"*/",blockCommentContinue:f?null:" * ",lineComment:f?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:f?"json":"javascript",jsonldMode:u,jsonMode:f,expressionAllowed:Yt,skipExpression:function(S){X(S,"atom","atom","true",new t.StringStream("",2,null))}}}),t.registerHelper("wordChars","javascript",/[\w$]/),t.defineMIME("text/javascript","javascript"),t.defineMIME("text/ecmascript","javascript"),t.defineMIME("application/javascript","javascript"),t.defineMIME("application/x-javascript","javascript"),t.defineMIME("application/ecmascript","javascript"),t.defineMIME("application/json",{name:"javascript",json:!0}),t.defineMIME("application/x-json",{name:"javascript",json:!0}),t.defineMIME("application/manifest+json",{name:"javascript",json:!0}),t.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),t.defineMIME("text/typescript",{name:"javascript",typescript:!0}),t.defineMIME("application/typescript",{name:"javascript",typescript:!0})})});function vx(t){return typeof t=="string"?t:t.text}function mO(t,e){for(;e&&e.parentNode!==t;)e=e.parentNode;return e}var Vt,dO,pO,Ed,hO,gO,Td,Md,wx=I(()=>{Vt=nn(bn(),1);qr();ze();dO="discovery-view-editor-hints-popup",pO="discovery-view-editor-hint",Ed="active",hO=window.requestAnimationFrame||(t=>setTimeout(t,1e3/60)),gO=window.cancelAnimationFrame||clearTimeout;Vt.default.commands.autocomplete=Vt.default.showHint;Vt.default.defineOption("showHintOptions",null);Vt.default.defineExtension("showHint",function(t){t={closeOnUnfocus:!0,container:null,...this.options.showHintOptions,...t},this.state.completionActive&&this.state.completionActive.close(),!(this.listSelections().length>1)&&(this.somethingSelected()||typeof t.hint=="function"&&(this.state.completionActive=new Td(this,t),this.state.completionActive.update(!0),Vt.default.signal(this,"startCompletion",this)))});Td=class{constructor(e,r){if(this.cm=e,this.options=r,this.widget=null,this.debounce=0,this.tick=0,this.startPos=this.cm.getCursor("start"),this.startLen=this.cm.getLine(this.startPos.line).length-this.cm.getSelection().length,e.on("cursorActivity",this.activityFunc=()=>this.cursorActivity()),r.closeOnUnfocus){let o;this.onFocus=()=>clearTimeout(o),this.onBlur=()=>o=setTimeout(()=>this.close(),100),e.on("focus",this.onFocus),e.on("blur",this.onBlur)}}close(){this.active()&&(this.cm.state.completionActive=null,this.tick=null,this.cm.off("cursorActivity",this.activityFunc),this.options.closeOnUnfocus&&(this.cm.off("blur",this.onBlur),this.cm.off("focus",this.onFocus)),this.widget&&(this.data&&Vt.default.signal(this.data,"close"),this.widget.close()),Vt.default.signal(this.cm,"endCompletion",this.cm))}active(){return this.cm.state.completionActive===this}pick(e,r){let o=e.list[r];this.cm.state.completionEnabled=!1,o.hint?o.hint(this.cm,e,o):this.cm.replaceRange(vx(o),o.from||e.from,o.to||e.to,"complete"),Vt.default.signal(e,"pick",o),this.close()}cursorActivity(){this.debounce&&(gO(this.debounce),this.debounce=0);let e=this.cm.getCursor(),r=this.cm.getLine(e.line);e.line!=this.startPos.line||r.length-e.ch!=this.startLen-this.startPos.ch||e.ch<this.startPos.ch||this.cm.somethingSelected()?this.close():(this.debounce=hO(()=>this.update()),this.widget&&this.widget.disable())}update(e){if(this.tick===null)return;let r=++this.tick;Promise.resolve(this.options.hint(this.cm,this.options)).then(o=>{this.tick==r&&this.finishUpdate(o,e)})}finishUpdate(e){this.data&&Vt.default.signal(this.data,"update");let r=this.widget&&this.widget.picked;this.widget&&this.widget.close(),this.data=e,e&&e.list.length&&(r&&e.list.length==1?this.pick(e,0):(this.widget=new Md(this,e),Vt.default.signal(e,"shown")))}};Md=class{constructor(e,r){let o=e.cm,s=this.hintsEl=document.createElement("ul"),u=[dO,e.cm.options.theme].filter(Boolean),f=e.options.container||document.body;this.rootEls=new Set([f.getRootNode()]),this.completion=e,this.data=r,this.picked=!1,this.selectedHint=r.selectedHint||0,s.style.visibility="hidden",s.classList.add(...u),f.appendChild(s),this.items=r.list.map((d,h)=>{let g=s.appendChild(document.createElement("li"));return g.className=pO,h===this.selectedHint&&g.classList.add(Ed),d.render?d.render(g,r,d):g.appendChild(document.createTextNode(d.displayText||vx(d))),g}),o.addKeyMap(this.keyMap={Up:()=>this.changeActive(this.selectedHint-1),Down:()=>this.changeActive(this.selectedHint+1),Enter:()=>this.pick(),Tab:()=>this.pick(),Esc:()=>{o.state.completionEnabled=!1,e.close()}}),this.updatePosSize(),this.onScroll=()=>this.updatePosSize();for(let d of this.rootEls)d.addEventListener("scroll",this.onScroll,Rt);Vt.default.on(s,"mousedown",d=>{let h=mO(s,d.target),g=this.items.indexOf(h);g!==-1&&(this.close(),this.selectedHint=g,this.pick(),setTimeout(()=>o.focus(),1))}),Vt.default.signal(r,"select",r.list[this.selectedHint],this.items[this.selectedHint])}close(){if(this.completion.widget===this){this.completion.widget=null,this.completion.cm.removeKeyMap(this.keyMap),this.hintsEl.remove();for(let e of this.rootEls)e.removeEventListener("scroll",this.onScroll,Rt)}}disable(){this.completion.cm.removeKeyMap(this.keyMap),this.keyMap={Enter:()=>this.picked=!0},this.completion.cm.addKeyMap(this.keyMap)}pick(){this.completion.pick(this.data,this.selectedHint)}changeActive(e,r){e>=this.items.length?e=r?this.items.length-1:0:e<0&&(e=r?0:this.items.length-1);let o=this.items[this.selectedHint],s=this.items[this.selectedHint=e];s!==o&&(o&&o.classList.remove(Ed),s.classList.add(Ed),s.offsetTop<this.hintsEl.scrollTop?this.hintsEl.scrollTop=s.offsetTop-3:s.offsetTop+s.offsetHeight>this.hintsEl.scrollTop+this.hintsEl.clientHeight&&(this.hintsEl.scrollTop=s.offsetTop+s.offsetHeight-this.hintsEl.clientHeight+3),Vt.default.signal(this.data,"select",this.data.list[this.selectedHint],s))}getCursorCoords(){let{completion:e,hintsEl:r}=this,o=e.cm,s=fs(r),u=o.cursorCoords(null,"local"),f=Wt(o.display.wrapper,s);return{top:f.top+u.top+5,left:f.left+u.left+9,bottom:f.top+u.bottom+5,right:f.left+u.right+9}}updatePosSize(){let{hintsEl:o}=this,s=this.getCursorCoords(),{clientWidth:u,clientHeight:f}=ds(o);o.style.left="0px",o.style.top="0px";let{width:d,height:h}=o.getBoundingClientRect(),g=f-s.bottom,m=s.top;if(g<h&&m>g){let D=Math.min(h,m-6-1);o.style.top=`${s.top-1-D-6}px`,o.style.maxHeight=`${D}px`}else o.style.top=`${s.bottom+1}px`,o.style.maxHeight=`${g-1-6}px`;let w=u-s.right,x=s.left;w<d&&x>w?(o.style.left=`${s.left+1-Math.min(d,x-6)}px`,o.style.maxWidth=`${x-6}px`):(o.style.left=`${s.right}px`,o.style.maxWidth=`${w-6}px`),o.style.visibility="visible"}}});function bx(t){Object.assign(t.view,{QueryEditor:class extends Ld{get container(){return t.dom.container}},ViewEditor:class extends Fd{isViewDefined(e){return t.view.isDefined(e)||t.textView.isDefined(e)}}})}var Wr,B3,yO,kl,Ld,Fd,xx=I(()=>{ze();$t();pl();Ya();Wr=nn(bn(),1);dx();gx();B3=nn(Sd(),1);wx();Object.defineProperty(Wr.default.prototype,"display",{configurable:!0,set(t){return t.scroller.addEventListener=function(e,r,o){EventTarget.prototype.addEventListener.call(this,e,r,typeof o!="boolean"?o:{capture:o,passive:["touchstart","touchmove","wheel","mousewheel"].includes(e)})},Object.defineProperty(this,"display",{configurable:!0,enumerable:!0,value:t}),t}});yO=(t,e,{entry:{type:r,text:o,value:s}})=>{let u=o[0],f=o[o.length-1],d=u==='"'||u==="'"?1:0,h=f==='"'||f==="'"?1:0,g=o.toLowerCase().substring(d,o.length-h),m=g?s.toLowerCase().indexOf(g,s[0]==='"'||s[0]==="'"?1:0):-1;m!==-1&&(s=Ve(s.substring(0,m))+'<span class="match">'+Ve(s.slice(m,m+g.length))+"</span>"+Ve(s.slice(m+g.length))),t.classList.add("type-"+r),t.appendChild($("span","name",s))},kl=class extends dr{static CodeMirror=Wr.default;el;cm;get container(){return null}constructor({hint:e,mode:r,placeholder:o}){super(),this.el=document.createElement("div"),this.el.className="discovery-view-editor empty-value";let s=this,u=(0,Wr.default)(this.el,{extraKeys:{"Alt-Space":"autocomplete"},mode:r||"javascript",theme:"neo",indentUnit:0,showHintOptions:{hint:e,get container(){return s.container}}});o&&(u.display.lineDiv.parentNode.dataset.placeholder=o),u.on("change",(d,h)=>{let g=u.getValue();this.el.classList.toggle("empty-value",g===""),this.emit("change",g,h)}),typeof e=="function"&&(u.on("cursorActivity",d=>{d.state.completionEnabled&&d.state.focused&&d.showHint()}),u.on("focus",d=>{d.getValue()===""&&(d.state.completionEnabled=!0),d.state.completionEnabled&&!d.state.completionActive&&d.showHint()}),u.on("change",(d,h)=>{h.origin!=="complete"&&(u.state.completionEnabled=!0)})),this.cm=u;let f=new zr;f.subscribe(()=>u.refresh()),f.observe(u.display.wrapper)}getValue(){return this.cm.getValue()}setValue(e){return requestAnimationFrame(()=>this.cm.refresh()),typeof e=="string"&&this.getValue()!==e?(this.cm.setValue(e||""),!0):!1}focus(){this.cm.focus()}},Ld=class extends kl{queryData;queryContext;inputPanelEl;outputPanelEl;constructor(e){super({mode:"discovery-query",placeholder:"Enter a jora query",hint:r=>{let o=r.getCursor(),s=e(r.getValue(),r.doc.indexFromPos(o),this.queryData,this.queryContext);return s?{list:s.slice(0,50).map(u=>({entry:u,text:u.value,render:yO,from:r.posFromIndex(u.from),to:r.posFromIndex(u.to)}))}:null}}),this.inputPanelEl=$("div","discovery-view-editor__input-panel"),this.outputPanelEl=$("div","discovery-view-editor__output-panel"),this.el.append(this.inputPanelEl,this.outputPanelEl)}setValue(e,r,o){let s=this.queryData!==r||this.queryContext!==o;return this.queryData=r,this.queryContext=o,super.setValue(e)?!0:(s&&this.cm.state.completionEnabled&&this.cm.state.focused&&this.cm.showHint(),!1)}},Fd=class extends kl{constructor(){super({mode:{name:"discovery-view",isDiscoveryViewDefined:e=>this.isViewDefined(e)}})}isViewDefined(){return!1}};Wr.default.defineMode("jora",Dd);Wr.default.defineMode("discovery-query",Dd);Wr.default.defineMode("discovery-view",hx)});var kx,Cx=I(()=>{kx={beforeDemo:['md:"A block has no its own look. It\'s using for wrapping some content with a `className` (btw `className` is a common property for any view when appropriate)"'],demo:{view:"block",className:"foo",content:['text:"Content inside block"']}}});function Ax(t){t.view.define("block",function(e,r,o,s){let{content:u=[],onInit:f,onChange:d}=r,h=typeof f!="function"&&typeof d!="function"?u:this.composeConfig(u,{onInit:f,onChange:d});return t.view.render(e,h,o,s)},{usage:kx})}var Dx=I(()=>{Cx()});var Cl,Nd=I(()=>{Cl={demo:{view:"columns",data:["one","two","three","four"],column:"text"}}});function Sx(t){t.view.define("column",function(e,r,o,s){let{content:u=[]}=r;return t.view.render(e,u,o,s)},{usage:Cl})}var Ex=I(()=>{Nd()});function Tx(t){t.view.define("columns",function(r,o,s,u){let{column:f,columnConfig:d,emptyText:h,limit:g}=o;if(h!==!1&&h!==""&&r.setAttribute("emptyText",h||"Empty"),!Array.isArray(s)&&s&&(s=[s]),Array.isArray(s))return t.view.renderList(r,this.composeConfig({view:"column",content:f},d),s,u,0,t.view.listLimit(g,25))},{usage:Cl})}var Mx=I(()=>{Nd()});var Lx,Fx=I(()=>{Lx={demo:{view:"expand",header:'text:"Expand me!"',content:'text:"Content"'}}});function Nx(t){t.view.define("expand",function(e,r,o,s){async function u(){e.classList.toggle("expanded",f),f?(x=$("div","content"),await t.view.render(x,h,o,s).then(()=>e.appendChild(x))):x!==null&&(x.remove(),x=null)}let{expanded:f,header:d,content:h,onToggle:g}=r,m=e.appendChild($("div","header")),w=m.appendChild($("div","header-content")),x=null;return m.appendChild($("div","trigger")),m.addEventListener("click",()=>{f=!f;let D=u();typeof g=="function"&&g(f,{el:e,finish:D,data:o,context:s})}),Promise.all([t.view.render(w,d||'text:"\xA0"',o,s),u()])},{usage:Lx,props:vO})}var vO,Ox=I(()=>{ze();Fx();vO=`is not array? | {
    header: undefined,
    content: undefined,
    expanded: false,
    onToggle: undefined
} | overrideProps() | {
    ...,
    expanded.bool()
}`});var Px,Ix=I(()=>{Px={demo:{view:"hstack",content:['button:{text:"First button"}','button-primary:{text:"Second button"}']}}});function jx(t){t.view.define("hstack",function(e,r,o,s){let{content:u=[]}=r;return t.view.render(e,u,o,s)},{usage:Px})}var Bx=I(()=>{Ix()});function zx(t){t.view.define("list-item",function(e,r,o,s){let{content:u="text"}=r;return t.view.render(e,u,o,s)},{tag:"li"})}var Rx=I(()=>{});var qi,Hx=I(()=>{qi=(t,e)=>({demo:{view:t,data:["one","two","three","four"]},examples:[{title:"Variations",demo:{view:"context",data:["foo","bar","baz"],content:e.map(r=>[`header{ content: 'md:${JSON.stringify('`view: \\"'+r+'\\"`')}' }`,r])}},{title:"Configure item's content",demo:[{view:t,data:["one","two","three","four"],item:['text:"<item> "',{view:"link",data:'{ href: "#" + $ }'}]}]},{title:"Configure item's config",demo:{view:t,data:["one","two","three","four"],itemConfig:{className:"special"},item:{view:"text",data:'"prefix-" + $'}}}]})});function qx(t){function e(r,o,s,u){let{item:f,itemConfig:d,limit:h,emptyText:g}=o;if(g!==!1&&g!==""&&r.setAttribute("emptyText",g||"Empty list"),!Array.isArray(s)&&s&&(s=[s]),Array.isArray(s))return t.view.renderList(r,this.composeConfig({view:"list-item",content:f},d),s,u,0,t.view.listLimit(h,25))}t.view.define("list",e,{usage:qi}),t.view.define("inline-list",e,{usage:qi}),t.view.define("comma-list",e,{usage:qi}),t.view.define("ol",e,{tag:"ol",usage:qi}),t.view.define("ul",e,{tag:"ul",usage:qi})}var _x=I(()=>{Hx()});var Wx,$x=I(()=>{Wx=t=>({beforeDemo:['md:"A special view to be used as the first view in the body of the page. This view stays in place as the page scrolls (although it may move slightly to the top of the page at the start of the scroll), so that the most relevant information and important action elements can remain accessible despite page scrolling."'],demoFixed:100,demo:`${t}:"That's a \\"${t}\\""`,examples:[{title:"Prelude",demoFixed:150,highlightProps:["prelude"],demo:{view:t,prelude:['badge:{ text: "demo" }','badge:{ text: "demo", prefix: "prelude", postfix: "postfix" }'],content:'h1:"Header"'}}]})});function Vx(t){t.view.define("page-header",function(r,o,s,u){let{prelude:f,content:d,onInit:h,onChange:g}=o,m=r.appendChild($("div","view-page-header__prelude")),w=r.appendChild($("div","view-page-header__content")),x=D=>typeof h!="function"&&typeof g!="function"?D:this.composeConfig(D,{onInit:h,onChange:g});return Promise.all([t.view.render(m,x(f||[]),s,u),t.view.render(w,x(d||"text"),s,u)])},{usage:Wx})}var Ux=I(()=>{ze();$x()});function Gx(t){return t?t.getRootNode({composed:!0})===document:!0}function Yx(t,e){return typeof t=="function"&&(t=t(e)),typeof t=="number"?Od(t):typeof t=="boolean"&&t?bO:0}function Qx(t,e){t.lastChild!==e&&t.appendChild(e)}function Od(t,e=0){return Number.isFinite(t)?t:e}function xO(t){return wO.includes(t)}function Kx(t){let e=[],r=new Set,o=[],s=new Set,u=null,f=C=>{u===null&&(u=setTimeout(()=>m(C),0))},d=()=>{u!==null&&(clearTimeout(u),u=null)},h=null,g=()=>{h===null&&(h=[t.addHostElEventListener("mouseenter",({target:C})=>{for(let k of o){let M=D(k,C),O=M?M.el:C.closest(k.hoverTriggers);O&&(k.hideTimer!==null&&(clearTimeout(k.hideTimer),k.hideTimer=null),O!==k.lastHoverTriggerEl&&((!M||!M.hoverPinned)&&(k.lastHoverTriggerEl=O),M||(k.hoverPinned=!1,k.el.classList.remove("pinned"),k.show(O))))}},Rt),t.addHostElEventListener("mouseleave",({target:C})=>{for(let k of o)k.lastHoverTriggerEl===C&&(L(k),k.lastHoverTriggerEl=null,k.hideTimer=setTimeout(k.hide,100))},Rt),t.addGlobalEventListener("scroll",f,Rt),t.addHostElEventListener("scroll",C=>{d(),m(C)},Rt),t.addGlobalEventListener("click",f,!0),t.addHostElEventListener("click",C=>{d(),m(C),setTimeout(w,50);for(let k of o)k.hoverPin==="trigger-click"&&k.lastHoverTriggerEl&&k.lastTriggerEl?.contains(C.target)&&(k.lastHoverTriggerEl=null,k.hoverPinned=!0,k.el.classList.add("pinned"),C.stopPropagation())},!0)])};pr.subscribe(()=>{for(let C of e)C.position==="pointer"&&!C.hoverPinned&&!C.frozen&&!s.has(C)&&C.updatePosition();for(let C of r){let{showDelayArgs:k}=C;N(C,k?.[0],k?.[1])}}),t.inspectMode.subscribe(C=>C?e.forEach(k=>s.add(k)):s.clear());function m(C){e.slice().forEach(k=>k.hideIfEventOutside(C))}function w(){e.slice().forEach(C=>C.hideOnTriggerHasLeftDocument())}function x(){e.slice().forEach(C=>C.hideOnResize())}function D(C,k){return C.el.contains(k)?C:C.relatedPopups.find(M=>D(M,k))||null}function L(C){C.showDelayTimer!==null&&clearTimeout(C.showDelayTimer),C.showDelayTimer=null,C.showDelayArgs=null,r.delete(C)}function N(C,k,M){C.showDelayTimer!==null&&clearTimeout(C.showDelayTimer),C.showDelayTimer=setTimeout(()=>C.show(k,M,!0),Yx(C.showDelay,k)),C.showDelayArgs=[k,M],r.add(C)}class T{el;showDelayTimer;showDelayArgs;showDelay;#e;lastHoverTriggerEl;render;position;positionMode;pointerOffsetX;pointerOffsetY;hideOnTriggerClick;hoverTriggers;hoverPin;hideIfEventOutsideDisabled;hideOnResizeDisabled;hideTimer;hoverPinned;frozen;lastRenderMarker;constructor(k){let{render:M,showDelay:O=!1,position:F="trigger",positionMode:P="safe",pointerOffsetX:j,pointerOffsetY:H,hoverTriggers:W,hoverPin:X,hideIfEventOutside:q=!0,hideOnResize:K=!0,hideOnTriggerClick:E=!1,className:Y}=k||{};this.el=document.createElement("div"),this.el.classList.add("discovery-view-popup"),this.showDelayTimer=null,this.showDelayArgs=null,this.showDelay=O,this.hideTimer=null,this.hide=this.hide.bind(this),this.#e=null,this.lastHoverTriggerEl=null,this.hoverPinned=!1,this.frozen=!1,this.render=M,this.lastRenderMarker=null,this.position=F,this.positionMode=P,this.pointerOffsetX=Od(j,3),this.pointerOffsetY=Od(H,3),this.hoverTriggers=W||null,this.hoverPin=xO(X)?X:!1,this.hideIfEventOutsideDisabled=!q,this.hideOnResizeDisabled=!K,this.hideOnTriggerClick=!!E,Y&&this.el.classList.add(Y),this.hoverTriggers&&(this.el.classList.add("show-on-hover"),this.el.dataset.pinMode=this.hoverPin||"none",o.push(this),g())}get relatedPopups(){return e.filter(k=>this.el.contains(k.lastTriggerEl))}get visible(){return e.includes(this)}get lastTriggerEl(){return this.#e}set lastTriggerEl(k){this.#e!==null&&this.#e.classList.remove("discovery-view-popup-active"),this.#e=k&&k instanceof Element?k:null,this.#e!==null&&this.#e.classList.add("discovery-view-popup-active")}toggle(...k){this.visible?this.hide():this.show(...k)}async show(k,M=this.render,O=!1){if(!this.visible&&!O&&Yx(this.showDelay,k)>0){N(this,k,M);return}let F=t.dom.container;if(s.delete(this),k&&!F.contains(k)){this.hide();return}if(L(this),this.relatedPopups.forEach(P=>P.hide()),this.hideTimer!==null&&(clearTimeout(this.hideTimer),this.hideTimer=null),this.lastTriggerEl=k||null,this.el.classList.toggle("inspect",t.inspectMode.value),t.view.setViewRoot(this.el,"popup",{config:M}),this.visible||(e.push(this),e.length===1&&window.addEventListener("resize",x)),typeof M=="function"){this.el.innerHTML="";let P=Symbol();if(this.lastRenderMarker=P,requestAnimationFrame(()=>{this.lastRenderMarker===P&&(Qx(F,this.el),this.updatePosition())}),await M(this.el,k,this.hide),this.lastRenderMarker!==P)return;this.lastRenderMarker=null}Qx(F,this.el),this.updatePosition()}updatePosition(){if(!this.visible)return;let k=this.position==="pointer",M=k?null:this.lastTriggerEl;if(k?this.frozen:!M)return;let O=t.dom.container,F=fs(O.firstChild),P=pd(window,F),{x:j,y:H}=pr.value,{pointerOffsetX:W,pointerOffsetY:X}=this,q=M?Wt(M,O):{left:Math.round(j)-W,right:Math.round(j)+W,top:Math.round(H)-X,bottom:Math.round(H)+X},K=k?q.left:q.right,E=k?q.right:q.left,Y=q.top-P.top-3,G=P.bottom-q.bottom-3,fe=K-P.left-3,ke=P.right-E-3,Ie=ke>=fe,Ye=G>=Y;if(Ye||(this.el.style.maxHeight=Y+"px",this.el.style.top="auto",this.el.style.bottom=P.bottom-q.top+"px",this.el.dataset.vTo="top"),Ie||(this.el.style.left="auto",this.el.style.right=P.right-K+"px",this.el.style.maxWidth=fe+"px",this.el.dataset.hTo="left"),this.positionMode==="natural"&&(!Ie||!Ye)){let{height:Je,width:Ze}=Wt(this.el);Ye=Je<=G,Ie=Ze<=ke}Ye&&(this.el.style.maxHeight=G+"px",this.el.style.top=q.bottom-P.top+"px",this.el.style.bottom="auto",this.el.dataset.vTo="bottom"),Ie&&(this.el.style.left=E-P.left+"px",this.el.style.right="auto",this.el.style.maxWidth=ke+"px",this.el.dataset.hTo="right"),this.relatedPopups.forEach(Je=>Je.updatePosition())}freeze(){this.frozen=!0,this.el.classList.add("frozen")}unfreeze(){this.frozen=!1,this.el.classList.remove("frozen"),this.updatePosition()}hide(){this.lastRenderMarker=null,this.hideTimer!==null&&(clearTimeout(this.hideTimer),this.hideTimer=null),L(this),this.visible&&!s.has(this)&&(this.relatedPopups.forEach(k=>k.hide()),e.splice(e.indexOf(this),1),this.lastTriggerEl=null,this.el.remove(),this.unfreeze(),e.length===0&&window.removeEventListener("resize",x))}hideIfEventOutside({target:k,type:M}){this.hideIfEventOutsideDisabled||s.has(this)||this.lastTriggerEl&&this.lastTriggerEl.contains(k)&&(!this.hideOnTriggerClick||M!=="click")||D(this,k)||this.hide()}hideOnTriggerHasLeftDocument(){(!Gx(this.lastHoverTriggerEl)||!Gx(this.lastTriggerEl))&&this.hide()}hideOnResize(){this.hideOnResizeDisabled||s.has(this)||this.hide()}destroy(){s.delete(this),L(this);let k=o.indexOf(this);k!==-1&&o.splice(k,1),this.hide(),this.el=null,this.lastTriggerEl=null,this.lastHoverTriggerEl=null}}t.view.Popup=T}var wO,bO,Jx=I(()=>{qr();ze();vl();wO=[!1,"popup-hover","trigger-click"],bO=300});var Zx,Xx=I(()=>{Zx={demo:{view:"section",header:'text:"I am section"',content:['text:"content"']}}});function e0(t){t.view.define("section",function(e,r,o,s){let{header:u,content:f=[],onInit:d,onChange:h}=r,g=m=>typeof d!="function"&&typeof h!="function"?m:this.composeConfig(m,{onInit:d,onChange:h});return t.view.render(e,[{view:"header",content:g(u)},g(f)],o,s)},{usage:Zx})}var t0=I(()=>{Xx()});function n0(t){t.view.define("toc-section",function(e,r,o,s){let{header:u,content:f}=r;return t.view.render(e,[{view:"block",className:"header",content:u},{view:"block",className:"content",content:f}],o,s)},{tag:"section"})}var r0=I(()=>{});var _i,i0=I(()=>{_i=(t,e)=>({demo:{view:t,data:'"Alert"'},examples:[{title:"Variations",demo:e.map(r=>`${r}:"${r}"`)},{title:"Complex content",demo:{view:t,content:['h3:"Some header"','text:"Hello world!"']}}]})});function o0(t){function e(r,o,s,u){let{content:f="text"}=o;return r.classList.add("view-alert"),t.view.render(r,f,s,u)}t.view.define("alert",e,{usage:_i}),t.view.define("alert-primary",e,{usage:_i}),t.view.define("alert-success",e,{usage:_i}),t.view.define("alert-danger",e,{usage:_i}),t.view.define("alert-warning",e,{usage:_i})}var s0=I(()=>{i0()});function kO(t,e,r=0){let o=r!==0?t.slice(r).search(e):t.search(e);return o!==-1?{offset:r+o,length:RegExp.lastMatch.length}:null}function CO(t,e,r){let o=t.indexOf(e,r);return o!==-1?{offset:o,length:e.length}:null}function hr(t,e,r,o,s=!1){if(!rs(e)&&typeof e!="string"){r(t,!0);return}let u=String(t);s&&(typeof e=="string"?(u=u.toLowerCase(),e=e.toLowerCase()):e.ignoreCase||(e=new RegExp(e,e.flags+"i")));let f=0,d=!1;do{let h=d?null:typeof e=="string"?CO(u,e,f):kO(u,e,f);if(h===null||h.length===0&&h.offset===f){r(f>0?t.slice(f):t,!0);break}h.length!==0&&(h.offset!==f&&r(t.slice(f,h.offset),!1),d=o(t.substr(h.offset,h.length),a0)===a0),f=h.offset+h.length}while(f!==t.length)}var a0,gs=I(()=>{wn();a0=Symbol("stop-match")});var l0=I(()=>{il();Hi();ps();da();$t();as();wn();Bi();Mi();Xf();it();gs();wd()});function AO(t){let e=$("div",{style:["position: fixed","overflow: hidden","font-size: 1px","width: 1px","height: 1px","top: 0","left: 0","white-space: pre"].join(";")});document.body.append(e);try{let r=window.getSelection(),o=document.createRange();e.append(t),o.selectNodeContents(e),r?.removeAllRanges(),r?.addRange(o),document.execCommand("copy")}finally{e.remove()}}async function Ut(t){try{if(navigator.clipboard)try{let e=await navigator.permissions.query({name:"clipboard-write"});if(e.state==="granted"||e.state==="prompt")return navigator.clipboard.writeText(t)}catch(e){if(e instanceof TypeError)return navigator.clipboard.writeText(t)}}catch{}AO(t)}var ms=I(()=>{ze()});function Pd(t,e){let r=globalThis.location,o=[],s=({newURL:u,oldURL:f})=>{let d=new URL(u).hash||"#",h=new URL(f).hash||"#";d!==o.shift()&&(e?.debug("locationSync onChange:",h,"->",d),o.length=0,t(d,h))};return addEventListener("hashchange",s),{set(u,f){let d=u||"#";(r.hash||"#")!==d&&(e?.debug("locationSync set:",d,f),o.push(u),f?r.replace(u):r.hash=u)},dispose(){removeEventListener("hashchange",s)}}}var Id=I(()=>{});var Al=I(()=>{l0();Xu();ms();ze();va();qr();Id();Ku();vl();Na();pl()});var u0,c0=I(()=>{u0={demo:{view:"app-header",name:"My app",version:"1.2.3",description:"The best of the best app"},examples:[{title:"Variations",demo:["app-header",'app-header{ name: "Only name" }','app-header{ name: "Name and version", version: "1.2.3" }','app-header{ name: "Name and description", description: "Some description" }','app-header{ name: "Everything set", version: "1.2.3", description: "Very useful description" }']}]}});function f0(t){t.view.define("app-header",function(e,r){let{name:o,icon:s,version:u,description:f}=r,d=$("h1",null,u?[o,$("span","version",u)]:[o]);s&&e.style.setProperty("--icon",/^(?:\.|\/|data:|https?:)/.test(s)?`url(${JSON.stringify(s)})`:s),e.append($("div","icon"),$("div","content",f?[d,$("div","description",f)]:[d]))},{props:SO,usage:u0})}var SO,d0=I(()=>{Al();c0();SO=`is not array? | {
    name: name or "Untitled app",
    icon,
    version,
    description
} | overrideProps() | {
    ...,
    icon is string and $ ~= /\\S/?,
    version is string and $ ~= /\\S/?,
    description is string and $ ~= /\\S/?
}`});function p0(t){t.view.define("auto-link",function(e,r,o,s){let{content:u,fallback:f,href:d}=r;if(!o)return;let h=t.resolveValueLinks(o),m=h?(typeof d=="function"?d:w=>w)(h[0].href,o,s):null;return m?t.view.render(e,{view:"link",content:u},{...h[0],href:m},s):t.view.render(e,f||u||"text",o,s)},{tag:!1})}var h0=I(()=>{});var jd,g0=I(()=>{jd=(t,e)=>({demo:{view:t,text:"hello world"},examples:[{title:"Variations",demo:e.map(r=>`${r}:"${r}"`)},{title:"Displaying content",beforeDemo:{view:"md",source:["There are several ways to specify the main content of a badge:","- `content` option \u2013 allows to specify any renderable content and has the highest precedence","- `text` option \u2013 used when `content` is omitted or falsy; it renders as plain text","- When both `content` and `text` options are omitted, the `data` is used for content:","  - If `data` is a string, a number, or a boolean value, it is used as the `text` value","  - If `data` is an object, the value of `text` property of `data` coerced to a string is used","  - Otherwise, render an undefined"].join(`
`)},demo:[{view:t,data:'"data"',text:"text",content:'text:"RENDER"'},{view:t,data:'"data"',text:"RENDER",content:"=undefined"},{view:t,data:'"data"',content:"=undefined"},{view:t,data:'"data"',text:"RENDER"},{view:t,data:'"data"',text:"=undefined"},{view:t,data:'"RENDER"'},{view:t,data:'{ text: "RENDER" }'},{view:t,data:"{}"},{view:t,data:[1,2,3]}]},{title:"Using data as source of options",beforeDemo:{view:"md",source:["The following properties are taken from the data when the appropriate options are not specified for a legacy reasons (is subject to remove in the future):","- `color`","- `textColor`","- `darkColor`","- `darkTextColor`","- `text`","- `href`","- `external`","- `prefix`","- `postfix`"].join(`
`)},highlightProps:["data"],demo:{view:t,data:{text:"demo",href:"#example"}}},{title:"Custom colors",beforeDemo:{view:"md",source:["Data properties to setup a custom colors:","* `color` \u2013 default background color","* `textColor` \u2013 default text color","* `darkColor` \u2013 background color in dark mode","* `darkTextColor` \u2013 text color in dark mode"].join(`
`)},demo:{view:t,text:"Colored badge",color:"rgba(237, 177, 9, 0.35)",textColor:"orange",darkColor:"#ffff00",darkTextColor:"black"}},{title:"As a link",highlightProps:["href","external"],demo:{view:t,text:"Link to something",href:"#",external:!0}},{title:"Using onClick handler",highlightProps:["onClick"],demo:{view:t,text:'Show "Hello world"',onClick:Function('return () => alert("Hello world!")')()}},{title:"Prefix and postfix",highlightProps:["prefix","postfix"],demo:{view:t,prefix:"prefix",text:"link",postfix:"postfix"}},{title:"Complex content",highlightProps:["content"],demo:{view:t,content:['text:"text "','link{ href: "#example" }']}}]})});function y0(t,e,r){if(!r)return;let o=t.appendChild(document.createElement("span"));o.className=e,o.textContent=r}function v0(t){function e(r,o,s,u){let{color:f,textColor:d,darkColor:h,darkTextColor:g,text:m,content:w,href:x,external:D,onClick:L,prefix:N,postfix:T}=o,C;return f&&r.style.setProperty("--discovery-view-badge-color",f),h&&r.style.setProperty("--discovery-view-badge-dark-color",h),d&&r.style.setProperty("--discovery-view-badge-text-color",d),g&&r.style.setProperty("--discovery-view-badge-dark-text-color",g),x&&(r.href=x),D&&r.setAttribute("target","_blank"),typeof L=="function"&&(r.classList.add("onclick"),r.addEventListener("click",k=>{k.preventDefault(),L(r,s,u)})),y0(r,"prefix",N),w?C=this.render(r,w,s,u):r.append(document.createTextNode(m)),y0(r,"postfix",T),C}t.view.define("badge",e,{tag:"a",props:m0,usage:jd}),t.view.define("pill-badge",e,{tag:"a",props:m0,usage:jd})}var m0,w0=I(()=>{g0();m0=`is not array? | {
    color,
    textColor,
    darkColor,
    darkTextColor,
    text: #.props has no 'content' ? is (string or number or boolean) ?: text,
    content: undefined,
    href,
    external,
    onClick: undefined,
    prefix,
    postfix
} | overrideProps()`});function b0(t){function e(r,o,s,u){let{content:f="text",kind:d}=o;return typeof d=="string"&&/\S/.test(d)&&(r.dataset.kind=d.trim()),t.view.render(r,f,s,u)}t.view.define("blockquote",{tag:"blockquote",render:e,usage:Za})}var x0=I(()=>{Of()});var k0,C0=I(()=>{k0=/[\0-\x1F!-,\.\/:-@\[-\^`\{-\xA9\xAB-\xB4\xB6-\xB9\xBB-\xBF\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u02FF\u0375\u0378\u0379\u037E\u0380-\u0385\u0387\u038B\u038D\u03A2\u03F6\u0482\u0530\u0557\u0558\u055A-\u055F\u0589-\u0590\u05BE\u05C0\u05C3\u05C6\u05C8-\u05CF\u05EB-\u05EE\u05F3-\u060F\u061B-\u061F\u066A-\u066D\u06D4\u06DD\u06DE\u06E9\u06FD\u06FE\u0700-\u070F\u074B\u074C\u07B2-\u07BF\u07F6-\u07F9\u07FB\u07FC\u07FE\u07FF\u082E-\u083F\u085C-\u085F\u086B-\u089F\u08B5\u08C8-\u08D2\u08E2\u0964\u0965\u0970\u0984\u098D\u098E\u0991\u0992\u09A9\u09B1\u09B3-\u09B5\u09BA\u09BB\u09C5\u09C6\u09C9\u09CA\u09CF-\u09D6\u09D8-\u09DB\u09DE\u09E4\u09E5\u09F2-\u09FB\u09FD\u09FF\u0A00\u0A04\u0A0B-\u0A0E\u0A11\u0A12\u0A29\u0A31\u0A34\u0A37\u0A3A\u0A3B\u0A3D\u0A43-\u0A46\u0A49\u0A4A\u0A4E-\u0A50\u0A52-\u0A58\u0A5D\u0A5F-\u0A65\u0A76-\u0A80\u0A84\u0A8E\u0A92\u0AA9\u0AB1\u0AB4\u0ABA\u0ABB\u0AC6\u0ACA\u0ACE\u0ACF\u0AD1-\u0ADF\u0AE4\u0AE5\u0AF0-\u0AF8\u0B00\u0B04\u0B0D\u0B0E\u0B11\u0B12\u0B29\u0B31\u0B34\u0B3A\u0B3B\u0B45\u0B46\u0B49\u0B4A\u0B4E-\u0B54\u0B58-\u0B5B\u0B5E\u0B64\u0B65\u0B70\u0B72-\u0B81\u0B84\u0B8B-\u0B8D\u0B91\u0B96-\u0B98\u0B9B\u0B9D\u0BA0-\u0BA2\u0BA5-\u0BA7\u0BAB-\u0BAD\u0BBA-\u0BBD\u0BC3-\u0BC5\u0BC9\u0BCE\u0BCF\u0BD1-\u0BD6\u0BD8-\u0BE5\u0BF0-\u0BFF\u0C0D\u0C11\u0C29\u0C3A-\u0C3C\u0C45\u0C49\u0C4E-\u0C54\u0C57\u0C5B-\u0C5F\u0C64\u0C65\u0C70-\u0C7F\u0C84\u0C8D\u0C91\u0CA9\u0CB4\u0CBA\u0CBB\u0CC5\u0CC9\u0CCE-\u0CD4\u0CD7-\u0CDD\u0CDF\u0CE4\u0CE5\u0CF0\u0CF3-\u0CFF\u0D0D\u0D11\u0D45\u0D49\u0D4F-\u0D53\u0D58-\u0D5E\u0D64\u0D65\u0D70-\u0D79\u0D80\u0D84\u0D97-\u0D99\u0DB2\u0DBC\u0DBE\u0DBF\u0DC7-\u0DC9\u0DCB-\u0DCE\u0DD5\u0DD7\u0DE0-\u0DE5\u0DF0\u0DF1\u0DF4-\u0E00\u0E3B-\u0E3F\u0E4F\u0E5A-\u0E80\u0E83\u0E85\u0E8B\u0EA4\u0EA6\u0EBE\u0EBF\u0EC5\u0EC7\u0ECE\u0ECF\u0EDA\u0EDB\u0EE0-\u0EFF\u0F01-\u0F17\u0F1A-\u0F1F\u0F2A-\u0F34\u0F36\u0F38\u0F3A-\u0F3D\u0F48\u0F6D-\u0F70\u0F85\u0F98\u0FBD-\u0FC5\u0FC7-\u0FFF\u104A-\u104F\u109E\u109F\u10C6\u10C8-\u10CC\u10CE\u10CF\u10FB\u1249\u124E\u124F\u1257\u1259\u125E\u125F\u1289\u128E\u128F\u12B1\u12B6\u12B7\u12BF\u12C1\u12C6\u12C7\u12D7\u1311\u1316\u1317\u135B\u135C\u1360-\u137F\u1390-\u139F\u13F6\u13F7\u13FE-\u1400\u166D\u166E\u1680\u169B-\u169F\u16EB-\u16ED\u16F9-\u16FF\u170D\u1715-\u171F\u1735-\u173F\u1754-\u175F\u176D\u1771\u1774-\u177F\u17D4-\u17D6\u17D8-\u17DB\u17DE\u17DF\u17EA-\u180A\u180E\u180F\u181A-\u181F\u1879-\u187F\u18AB-\u18AF\u18F6-\u18FF\u191F\u192C-\u192F\u193C-\u1945\u196E\u196F\u1975-\u197F\u19AC-\u19AF\u19CA-\u19CF\u19DA-\u19FF\u1A1C-\u1A1F\u1A5F\u1A7D\u1A7E\u1A8A-\u1A8F\u1A9A-\u1AA6\u1AA8-\u1AAF\u1AC1-\u1AFF\u1B4C-\u1B4F\u1B5A-\u1B6A\u1B74-\u1B7F\u1BF4-\u1BFF\u1C38-\u1C3F\u1C4A-\u1C4C\u1C7E\u1C7F\u1C89-\u1C8F\u1CBB\u1CBC\u1CC0-\u1CCF\u1CD3\u1CFB-\u1CFF\u1DFA\u1F16\u1F17\u1F1E\u1F1F\u1F46\u1F47\u1F4E\u1F4F\u1F58\u1F5A\u1F5C\u1F5E\u1F7E\u1F7F\u1FB5\u1FBD\u1FBF-\u1FC1\u1FC5\u1FCD-\u1FCF\u1FD4\u1FD5\u1FDC-\u1FDF\u1FED-\u1FF1\u1FF5\u1FFD-\u203E\u2041-\u2053\u2055-\u2070\u2072-\u207E\u2080-\u208F\u209D-\u20CF\u20F1-\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F-\u215F\u2189-\u24B5\u24EA-\u2BFF\u2C2F\u2C5F\u2CE5-\u2CEA\u2CF4-\u2CFF\u2D26\u2D28-\u2D2C\u2D2E\u2D2F\u2D68-\u2D6E\u2D70-\u2D7E\u2D97-\u2D9F\u2DA7\u2DAF\u2DB7\u2DBF\u2DC7\u2DCF\u2DD7\u2DDF\u2E00-\u2E2E\u2E30-\u3004\u3008-\u3020\u3030\u3036\u3037\u303D-\u3040\u3097\u3098\u309B\u309C\u30A0\u30FB\u3100-\u3104\u3130\u318F-\u319F\u31C0-\u31EF\u3200-\u33FF\u4DC0-\u4DFF\u9FFD-\u9FFF\uA48D-\uA4CF\uA4FE\uA4FF\uA60D-\uA60F\uA62C-\uA63F\uA673\uA67E\uA6F2-\uA716\uA720\uA721\uA789\uA78A\uA7C0\uA7C1\uA7CB-\uA7F4\uA828-\uA82B\uA82D-\uA83F\uA874-\uA87F\uA8C6-\uA8CF\uA8DA-\uA8DF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA954-\uA95F\uA97D-\uA97F\uA9C1-\uA9CE\uA9DA-\uA9DF\uA9FF\uAA37-\uAA3F\uAA4E\uAA4F\uAA5A-\uAA5F\uAA77-\uAA79\uAAC3-\uAADA\uAADE\uAADF\uAAF0\uAAF1\uAAF7-\uAB00\uAB07\uAB08\uAB0F\uAB10\uAB17-\uAB1F\uAB27\uAB2F\uAB5B\uAB6A-\uAB6F\uABEB\uABEE\uABEF\uABFA-\uABFF\uD7A4-\uD7AF\uD7C7-\uD7CA\uD7FC-\uD7FF\uE000-\uF8FF\uFA6E\uFA6F\uFADA-\uFAFF\uFB07-\uFB12\uFB18-\uFB1C\uFB29\uFB37\uFB3D\uFB3F\uFB42\uFB45\uFBB2-\uFBD2\uFD3E-\uFD4F\uFD90\uFD91\uFDC8-\uFDEF\uFDFC-\uFDFF\uFE10-\uFE1F\uFE30-\uFE32\uFE35-\uFE4C\uFE50-\uFE6F\uFE75\uFEFD-\uFF0F\uFF1A-\uFF20\uFF3B-\uFF3E\uFF40\uFF5B-\uFF65\uFFBF-\uFFC1\uFFC8\uFFC9\uFFD0\uFFD1\uFFD8\uFFD9\uFFDD-\uFFFF]|\uD800[\uDC0C\uDC27\uDC3B\uDC3E\uDC4E\uDC4F\uDC5E-\uDC7F\uDCFB-\uDD3F\uDD75-\uDDFC\uDDFE-\uDE7F\uDE9D-\uDE9F\uDED1-\uDEDF\uDEE1-\uDEFF\uDF20-\uDF2C\uDF4B-\uDF4F\uDF7B-\uDF7F\uDF9E\uDF9F\uDFC4-\uDFC7\uDFD0\uDFD6-\uDFFF]|\uD801[\uDC9E\uDC9F\uDCAA-\uDCAF\uDCD4-\uDCD7\uDCFC-\uDCFF\uDD28-\uDD2F\uDD64-\uDDFF\uDF37-\uDF3F\uDF56-\uDF5F\uDF68-\uDFFF]|\uD802[\uDC06\uDC07\uDC09\uDC36\uDC39-\uDC3B\uDC3D\uDC3E\uDC56-\uDC5F\uDC77-\uDC7F\uDC9F-\uDCDF\uDCF3\uDCF6-\uDCFF\uDD16-\uDD1F\uDD3A-\uDD7F\uDDB8-\uDDBD\uDDC0-\uDDFF\uDE04\uDE07-\uDE0B\uDE14\uDE18\uDE36\uDE37\uDE3B-\uDE3E\uDE40-\uDE5F\uDE7D-\uDE7F\uDE9D-\uDEBF\uDEC8\uDEE7-\uDEFF\uDF36-\uDF3F\uDF56-\uDF5F\uDF73-\uDF7F\uDF92-\uDFFF]|\uD803[\uDC49-\uDC7F\uDCB3-\uDCBF\uDCF3-\uDCFF\uDD28-\uDD2F\uDD3A-\uDE7F\uDEAA\uDEAD-\uDEAF\uDEB2-\uDEFF\uDF1D-\uDF26\uDF28-\uDF2F\uDF51-\uDFAF\uDFC5-\uDFDF\uDFF7-\uDFFF]|\uD804[\uDC47-\uDC65\uDC70-\uDC7E\uDCBB-\uDCCF\uDCE9-\uDCEF\uDCFA-\uDCFF\uDD35\uDD40-\uDD43\uDD48-\uDD4F\uDD74\uDD75\uDD77-\uDD7F\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDFF\uDE12\uDE38-\uDE3D\uDE3F-\uDE7F\uDE87\uDE89\uDE8E\uDE9E\uDEA9-\uDEAF\uDEEB-\uDEEF\uDEFA-\uDEFF\uDF04\uDF0D\uDF0E\uDF11\uDF12\uDF29\uDF31\uDF34\uDF3A\uDF45\uDF46\uDF49\uDF4A\uDF4E\uDF4F\uDF51-\uDF56\uDF58-\uDF5C\uDF64\uDF65\uDF6D-\uDF6F\uDF75-\uDFFF]|\uD805[\uDC4B-\uDC4F\uDC5A-\uDC5D\uDC62-\uDC7F\uDCC6\uDCC8-\uDCCF\uDCDA-\uDD7F\uDDB6\uDDB7\uDDC1-\uDDD7\uDDDE-\uDDFF\uDE41-\uDE43\uDE45-\uDE4F\uDE5A-\uDE7F\uDEB9-\uDEBF\uDECA-\uDEFF\uDF1B\uDF1C\uDF2C-\uDF2F\uDF3A-\uDFFF]|\uD806[\uDC3B-\uDC9F\uDCEA-\uDCFE\uDD07\uDD08\uDD0A\uDD0B\uDD14\uDD17\uDD36\uDD39\uDD3A\uDD44-\uDD4F\uDD5A-\uDD9F\uDDA8\uDDA9\uDDD8\uDDD9\uDDE2\uDDE5-\uDDFF\uDE3F-\uDE46\uDE48-\uDE4F\uDE9A-\uDE9C\uDE9E-\uDEBF\uDEF9-\uDFFF]|\uD807[\uDC09\uDC37\uDC41-\uDC4F\uDC5A-\uDC71\uDC90\uDC91\uDCA8\uDCB7-\uDCFF\uDD07\uDD0A\uDD37-\uDD39\uDD3B\uDD3E\uDD48-\uDD4F\uDD5A-\uDD5F\uDD66\uDD69\uDD8F\uDD92\uDD99-\uDD9F\uDDAA-\uDEDF\uDEF7-\uDFAF\uDFB1-\uDFFF]|\uD808[\uDF9A-\uDFFF]|\uD809[\uDC6F-\uDC7F\uDD44-\uDFFF]|[\uD80A\uD80B\uD80E-\uD810\uD812-\uD819\uD824-\uD82B\uD82D\uD82E\uD830-\uD833\uD837\uD839\uD83D\uD83F\uD87B-\uD87D\uD87F\uD885-\uDB3F\uDB41-\uDBFF][\uDC00-\uDFFF]|\uD80D[\uDC2F-\uDFFF]|\uD811[\uDE47-\uDFFF]|\uD81A[\uDE39-\uDE3F\uDE5F\uDE6A-\uDECF\uDEEE\uDEEF\uDEF5-\uDEFF\uDF37-\uDF3F\uDF44-\uDF4F\uDF5A-\uDF62\uDF78-\uDF7C\uDF90-\uDFFF]|\uD81B[\uDC00-\uDE3F\uDE80-\uDEFF\uDF4B-\uDF4E\uDF88-\uDF8E\uDFA0-\uDFDF\uDFE2\uDFE5-\uDFEF\uDFF2-\uDFFF]|\uD821[\uDFF8-\uDFFF]|\uD823[\uDCD6-\uDCFF\uDD09-\uDFFF]|\uD82C[\uDD1F-\uDD4F\uDD53-\uDD63\uDD68-\uDD6F\uDEFC-\uDFFF]|\uD82F[\uDC6B-\uDC6F\uDC7D-\uDC7F\uDC89-\uDC8F\uDC9A-\uDC9C\uDC9F-\uDFFF]|\uD834[\uDC00-\uDD64\uDD6A-\uDD6C\uDD73-\uDD7A\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDE41\uDE45-\uDFFF]|\uD835[\uDC55\uDC9D\uDCA0\uDCA1\uDCA3\uDCA4\uDCA7\uDCA8\uDCAD\uDCBA\uDCBC\uDCC4\uDD06\uDD0B\uDD0C\uDD15\uDD1D\uDD3A\uDD3F\uDD45\uDD47-\uDD49\uDD51\uDEA6\uDEA7\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3\uDFCC\uDFCD]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85-\uDE9A\uDEA0\uDEB0-\uDFFF]|\uD838[\uDC07\uDC19\uDC1A\uDC22\uDC25\uDC2B-\uDCFF\uDD2D-\uDD2F\uDD3E\uDD3F\uDD4A-\uDD4D\uDD4F-\uDEBF\uDEFA-\uDFFF]|\uD83A[\uDCC5-\uDCCF\uDCD7-\uDCFF\uDD4C-\uDD4F\uDD5A-\uDFFF]|\uD83B[\uDC00-\uDDFF\uDE04\uDE20\uDE23\uDE25\uDE26\uDE28\uDE33\uDE38\uDE3A\uDE3C-\uDE41\uDE43-\uDE46\uDE48\uDE4A\uDE4C\uDE50\uDE53\uDE55\uDE56\uDE58\uDE5A\uDE5C\uDE5E\uDE60\uDE63\uDE65\uDE66\uDE6B\uDE73\uDE78\uDE7D\uDE7F\uDE8A\uDE9C-\uDEA0\uDEA4\uDEAA\uDEBC-\uDFFF]|\uD83C[\uDC00-\uDD2F\uDD4A-\uDD4F\uDD6A-\uDD6F\uDD8A-\uDFFF]|\uD83E[\uDC00-\uDFEF\uDFFA-\uDFFF]|\uD869[\uDEDE-\uDEFF]|\uD86D[\uDF35-\uDF3F]|\uD86E[\uDC1E\uDC1F]|\uD873[\uDEA2-\uDEAF]|\uD87A[\uDFE1-\uDFFF]|\uD87E[\uDE1E-\uDFFF]|\uD884[\uDF4B-\uDFFF]|\uDB40[\uDC00-\uDCFF\uDDF0-\uDFFF]/g});function Dl(t,e){return typeof t!="string"?"":(e||(t=t.toLowerCase()),t.replace(k0,"").replace(/ /g,"-"))}var pH,Bd=I(()=>{C0();pH=Object.hasOwnProperty});var $r,A0=I(()=>{$r=(t,e)=>({demo:`${t}:"Header \\"${t}\\""`,examples:[{title:"Variations",view:e.map(r=>`${r}:"Header \\"${r}\\""`)},{title:"Complex content",demo:{view:t,content:['text:"Text "','link:{ text: "Link" }']}},{title:"Using anchor",demo:[{view:t,anchor:"foo",content:'text:"Explicit value for an anchor"'},{view:t,anchor:!0,content:'text:"Auto generated anchor based on text content of header"'}]}]})});function D0(t){async function e(r,o,s,u){let{content:f,anchor:d=!1}=o;if(r.classList.add("view-header"),await t.view.render(r,f||"text",s,u),d){let h=Dl(d===!0?r.textContent:String(d)),g=t.encodePageHash(t.pageId,t.pageRef,t.pageParams,h);r.prepend($("a",{class:"view-header__anchor",id:`!anchor:${h}`,href:g}))}}t.view.define("header",e,{tag:"h4",usage:$r}),t.view.define("h1",e,{tag:"h1",usage:$r}),t.view.define("h2",e,{tag:"h2",usage:$r}),t.view.define("h3",e,{tag:"h3",usage:$r}),t.view.define("h4",e,{tag:"h4",usage:$r}),t.view.define("h5",e,{tag:"h5",usage:$r})}var S0=I(()=>{Bd();ze();A0()});var E0,T0=I(()=>{E0={demo:{view:"html",data:'"<h1>I am inner HTML</h1>"'}}});function M0(t){let e=document.createElement("div");t.view.define("html",function(r,o,s){e.innerHTML=s,r.append(...e.childNodes)},{tag:null,usage:E0})}var L0=I(()=>{T0()});var zd,F0,Rd=I(()=>{zd="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMjggMTI4Ij4KICAgIDxyZWN0IHg9IjY1LjYiIHk9IjI0LjYiIHRyYW5zZm9ybT0ibWF0cml4KDAuOTM5NyAtMC4zNDIgMC4zNDIgMC45Mzk3IC05Ljk0MjYgMzEuODI4KSIgZmlsbD0iI0ZGRkZGRiIgd2lkdGg9IjM5LjMiIGhlaWdodD0iMzkiPjwvcmVjdD4KICAgIDxyZWN0IHg9IjcwLjYiIHk9IjUyLjciIHRyYW5zZm9ybT0ibWF0cml4KC0wLjkzOTcgMC4zNDIgLTAuMzQyIC0wLjkzOTcgMTk0Ljc4NTIgODEuMTIwNCkiIGZpbGw9IiNDN0Q3RTIiIHdpZHRoPSIzOS4zIiBoZWlnaHQ9IjEwIj48L3JlY3Q+CiAgICA8cGF0aCBmaWxsPSIjOThCRUQ4IiBkPSJNMTExLjUsNTQuNmwtMS4xLDEuMUw5Ny4xLDE5LjFsMS41LDAuMmM4LDAuOSwxNC43LDYuMiwxNy40LDEzLjdsMCwwQzExOC44LDQwLjQsMTE3LDQ4LjgsMTExLjUsNTQuNnoiPjwvcGF0aD4KICAgIDxwYXRoIGZpbGw9IiM0NTRCNTQiIGQ9Ik03My41LDcyLjJjLTEuMiwwLTIuNC0wLjgtMi44LTJMNTcuMywzMy41Yy0wLjMtMC43LTAuMi0xLjYsMC4xLTIuM2MwLjMtMC43LDAuOS0xLjMsMS43LTEuNmwzNi45LTEzLjRjMS42LTAuNiwzLjMsMC4yLDMuOCwxLjhsMTMuMywzNi42YzAuMywwLjcsMC4yLDEuNi0wLjEsMi4zYy0wLjMsMC43LTAuOSwxLjMtMS43LDEuNkw3NC41LDcyQzc0LjIsNzIuMSw3My44LDcyLjIsNzMuNSw3Mi4yek02NCwzNC4zbDExLjMsMzFsMzEuMy0xMS40bC0xMS4zLTMxTDY0LDM0LjN6Ij48L3BhdGg+CiAgICA8cmVjdCB4PSIzNSIgeT0iNDYuNyIgdHJhbnNmb3JtPSJtYXRyaXgoMC45Mzk3IC0wLjM0MiAwLjM0MiAwLjkzOTcgLTE2LjIwMTEgMjAuOTg4KSIgZmlsbD0iI0ZGRkZGRiIgd2lkdGg9IjMyLjgiIGhlaWdodD0iMTkuNSI+PC9yZWN0PgogICAgPHJlY3QgeD0iMzcuMyIgeT0iNTkuOCIgdHJhbnNmb3JtPSJtYXRyaXgoLTAuOTM5NyAwLjM0MiAtMC4zNDIgLTAuOTM5NyAxMjUuNjc2MyAxMDMuMzk0NikiIGZpbGw9IiNDN0Q3RTIiIHdpZHRoPSIzMi44IiBoZWlnaHQ9IjYiPjwvcmVjdD4KICAgIDxwYXRoIGZpbGw9IiM0NTRCNTQiIGQ9Ik0zOS40LDc0LjJjLTAuNCwwLTAuOS0wLjEtMS4zLTAuM2MtMC43LTAuMy0xLjMtMC45LTEuNi0xLjdsLTYuNy0xOC4zYy0wLjMtMC43LTAuMi0xLjYsMC4xLTIuM2MwLjMtMC43LDAuOS0xLjMsMS43LTEuNmwzMC44LTExLjJjMC43LTAuMywxLjYtMC4yLDIuMywwLjFjMC43LDAuMywxLjMsMC45LDEuNiwxLjdMNzMsNTljMC42LDEuNi0wLjIsMy4zLTEuOCwzLjhMNDAuNCw3NEM0MCw3NC4xLDM5LjcsNzQuMiwzOS40LDc0LjJ6IE0zNi41LDU0LjdsNC42LDEyLjdsMjUuMi05LjJsLTQuNi0xMi43TDM2LjUsNTQuN3oiPjwvcGF0aD4KICAgIDxwYXRoIGZpbGw9IiM0NTRCNTQiIGQ9Ik03MCwxMTguOWMtMS4yLDAtMi40LTAuNy0yLjgtMS45bC0xNC0zNy4ybC04LjQsMy4xbC0xNy4yLDM0LjRjLTAuNywxLjUtMi41LDIuMS00LDEuM2MtMS41LTAuNy0yLjEtMi41LTEuMy00TDQwLDc5YzAuMy0wLjcsMC45LTEuMiwxLjctMS41TDU0LDczLjFjMS41LTAuNiwzLjMsMC4yLDMuOCwxLjhsMTUsNDBjMC42LDEuNi0wLjIsMy4zLTEuOCwzLjlDNzAuNywxMTguOCw3MC40LDExOC45LDcwLDExOC45eiI+PC9wYXRoPgogICAgPHBhdGggZmlsbD0iIzQ1NEI1NCIgZD0iTTEzLjYsODAuMWMtMS4yLDAtMi40LTAuOC0yLjgtMkw2LjMsNjUuOWMtMC42LTEuNiwwLjItMy4zLDEuOC0zLjhjMS42LTAuNiwzLjMsMC4yLDMuOCwxLjhsNC40LDEyLjJjMC42LDEuNi0wLjIsMy4zLTEuOCwzLjhDMTQuMyw4MC4xLDE0LDgwLjEsMTMuNiw4MC4xeiI+PC9wYXRoPgogICAgPHBhdGggZmlsbD0iIzQ1NEI1NCIgZD0iTTEzLjIsNzMuM2MtMS4yLDAtMi40LTAuOC0yLjgtMmMtMC42LTEuNiwwLjItMy4zLDEuOC0zLjhMMzUsNTkuMmMxLjYtMC42LDMuMywwLjIsMy44LDEuOGMwLjYsMS42LTAuMiwzLjMtMS44LDMuOGwtMjIuOCw4LjNDMTMuOSw3My4zLDEzLjYsNzMuMywxMy4yLDczLjN6Ij48L3BhdGg+Cjwvc3ZnPgo=",F0={demo:{view:"image",src:zd,height:100},examples:[{title:"Src is not defined",demo:"image"},{title:"Bad url",demo:'image{ src: "<bad url>" }'}]}});function N0(t){t.view.define("image",function(e,r){for(let[o,s]of Object.entries(r))s!==void 0&&(e[o]=s);e.onerror=()=>e.classList.add("error"),e.onload=()=>e.classList.add("loaded")},{tag:"img",props:EO,usage:F0})}var EO,O0=I(()=>{Rd();EO=`{
    ...#.props,
    src: #.props has no 'src' ? imagesrc()
} | overrideProps()`});var P0,I0=I(()=>{Rd();P0={beforeDemo:['md:"Similar to the `image` view but displays as a block with the image centered. The block has a checkered background to highlight image transparency."'],demo:{view:"image-preview",src:zd,height:100},examples:[{title:"Src is not defined",demo:"image-preview"},{title:"Bad url",demo:'image-preview{ src: "<bad url>" }'}]}});function j0(t){t.view.define("image-preview",function(e,r,o,s){this.render(e,{view:"image",...r},o,s)},{usage:P0})}var B0=I(()=>{I0()});var z0,R0=I(()=>{z0={demo:{view:"indicator",data:{label:"Label",value:"1234"}},examples:[{title:"Indicator as link",demo:{view:"indicator",data:{label:"Label",value:"4321",href:"#"}}}]}});function H0(t){t.view.define("indicator",function(e,r,o,s){let{value:u,label:f}=r,{href:d}=o||{},h=document.createElement("div"),g=document.createElement("div");return h.className="value",g.className="label",d&&(e.href=d),Promise.all([t.view.render(h,u||"text:value",o,s),t.view.render(g,f||"text:label",o,s)]).then(()=>e.append(h,g))},{tag:"a",usage:z0})}var q0=I(()=>{R0()});var _0,W0=I(()=>{_0={demo:{view:"link",text:"I am a link",href:"#example"},examples:[{title:"Link opened in new tab",highlightProps:["external"],demo:{view:"link",text:"Discovery github",href:"https://github.com/discoveryjs/discovery",external:!0}},{title:"Infering text \u21FF href",highlightProps:["text","href","data"],beforeDemo:['md:"When `text` is omitted but `href` is specified, or vice versa, the opposite component is inferred from the specified one"'],demo:[{view:"link",text:"http://example1.com"},{view:"link",href:"http://example2.com"},{view:"link",data:'"http://example3.com"'}]},{title:"Using onClick handler",highlightProps:["onClick"],demo:{view:"link",text:'Show "Hello world"',onClick:Function('return () => alert("Hello world!")')()}},{title:"Using data as source of options",beforeDemo:{view:"md",source:["The following properties are taken from the data when the appropriate options are not specified for a legacy reasons (is subject to remove in the future):","- `text`","- `href`","- `external`"].join(`
`)},highlightProps:["data"],demo:{view:"link",data:{text:"demo",href:"#example"}}},{title:"Complex content",highlightProps:["content"],demo:{view:"link",href:"#example",content:['text:"text "','html:"<b>bold</b>"']}}]}});function $0(t){t.view.define("link",function(e,r,o,s){let{text:u,content:f,href:d,external:h,onClick:g}=r;if(d&&(e.href=d),h&&e.setAttribute("target","_blank"),typeof g=="function"&&(e.classList.add("onclick"),e.addEventListener("click",m=>{m.preventDefault(),g(e,o,s)})),f)return t.view.render(e,f,o,s);e.textContent=u},{tag:"a",props:TO,usage:_0})}var TO,V0=I(()=>{W0();TO=`is not array? | {
    text: #.props.content is undefined ? is string ?: text,
    content: undefined,
    href,
    external,
    onClick: undefined
} | overrideProps() | {
    $text; $href;
    ...,
    text: $text | is not undefined or no $href ?: $href,
    href: $href | is not undefined or no $text ?: $text
}`});function qd(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}function J0(t){Ur=t}function Xt(t,e){if(e){if(Z0.test(t))return t.replace(MO,U0)}else if(X0.test(t))return t.replace(LO,U0);return t}function Ge(t,e){let r=typeof t=="string"?t:t.source;e=e||"";let o={replace:(s,u)=>{let f=typeof u=="string"?u:u.source;return f=f.replace(NO,"$1"),r=r.replace(s,f),o},getRegex:()=>new RegExp(r,e)};return o}function G0(t){try{t=encodeURI(t).replace(/%25/g,"%")}catch{return null}return t}function Y0(t,e){let r=t.replace(/\|/g,(u,f,d)=>{let h=!1,g=f;for(;--g>=0&&d[g]==="\\";)h=!h;return h?"|":" |"}),o=r.split(/ \|/),s=0;if(o[0].trim()||o.shift(),o.length>0&&!o[o.length-1].trim()&&o.pop(),e)if(o.length>e)o.splice(e);else for(;o.length<e;)o.push("");for(;s<o.length;s++)o[s]=o[s].trim().replace(/\\\|/g,"|");return o}function ys(t,e,r){let o=t.length;if(o===0)return"";let s=0;for(;s<o;){let u=t.charAt(o-s-1);if(u===e&&!r)s++;else if(u!==e&&r)s++;else break}return t.slice(0,o-s)}function OO(t,e){if(t.indexOf(e[1])===-1)return-1;let r=0;for(let o=0;o<t.length;o++)if(t[o]==="\\")o++;else if(t[o]===e[0])r++;else if(t[o]===e[1]&&(r--,r<0))return o;return-1}function Q0(t,e,r,o){let s=e.href,u=e.title?Xt(e.title):null,f=t[1].replace(/\\([\[\]])/g,"$1");if(t[0].charAt(0)!=="!"){o.state.inLink=!0;let d={type:"link",raw:r,href:s,title:u,text:f,tokens:o.inlineTokens(f)};return o.state.inLink=!1,d}return{type:"image",raw:r,href:s,title:u,text:Xt(f)}}function PO(t,e){let r=t.match(/^(\s+)(?:```)/);if(r===null)return e;let o=r[1];return e.split(`
`).map(s=>{let u=s.match(/^\s+/);if(u===null)return s;let[f]=u;return f.length>=o.length?s.slice(o.length):s}).join(`
`)}function Ue(t,e){return Vr.parse(t,e)}var Ur,Z0,MO,X0,LO,FO,U0,NO,ws,$i,IO,jO,BO,ks,zO,ek,tk,_d,RO,Wd,HO,qO,Tl,$d,_O,nk,WO,Vd,K0,$O,VO,rk,UO,ik,GO,Cs,YO,QO,KO,JO,ZO,XO,eP,tP,nP,El,rP,ok,sk,iP,Ud,oP,Hd,sP,Sl,vs,xn,gr,bs,kn,Wi,xs,Vr,jH,BH,zH,RH,HH,qH,_H,Gd=I(()=>{Ur=qd();Z0=/[&<>"']/,MO=new RegExp(Z0.source,"g"),X0=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,LO=new RegExp(X0.source,"g"),FO={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},U0=t=>FO[t];NO=/(^|[^\[])\^/g;ws={exec:()=>null};$i=class{options;rules;lexer;constructor(e){this.options=e||Ur}space(e){let r=this.rules.block.newline.exec(e);if(r&&r[0].length>0)return{type:"space",raw:r[0]}}code(e){let r=this.rules.block.code.exec(e);if(r){let o=r[0].replace(/^(?: {1,4}| {0,3}\t)/gm,"");return{type:"code",raw:r[0],codeBlockStyle:"indented",text:this.options.pedantic?o:ys(o,`
`)}}}fences(e){let r=this.rules.block.fences.exec(e);if(r){let o=r[0],s=PO(o,r[3]||"");return{type:"code",raw:o,lang:r[2]?r[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):r[2],text:s}}}heading(e){let r=this.rules.block.heading.exec(e);if(r){let o=r[2].trim();if(/#$/.test(o)){let s=ys(o,"#");(this.options.pedantic||!s||/ $/.test(s))&&(o=s.trim())}return{type:"heading",raw:r[0],depth:r[1].length,text:o,tokens:this.lexer.inline(o)}}}hr(e){let r=this.rules.block.hr.exec(e);if(r)return{type:"hr",raw:ys(r[0],`
`)}}blockquote(e){let r=this.rules.block.blockquote.exec(e);if(r){let o=ys(r[0],`
`).split(`
`),s="",u="",f=[];for(;o.length>0;){let d=!1,h=[],g;for(g=0;g<o.length;g++)if(/^ {0,3}>/.test(o[g]))h.push(o[g]),d=!0;else if(!d)h.push(o[g]);else break;o=o.slice(g);let m=h.join(`
`),w=m.replace(/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,`
    $1`).replace(/^ {0,3}>[ \t]?/gm,"");s=s?`${s}
${m}`:m,u=u?`${u}
${w}`:w;let x=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(w,f,!0),this.lexer.state.top=x,o.length===0)break;let D=f[f.length-1];if(D?.type==="code")break;if(D?.type==="blockquote"){let L=D,N=L.raw+`
`+o.join(`
`),T=this.blockquote(N);f[f.length-1]=T,s=s.substring(0,s.length-L.raw.length)+T.raw,u=u.substring(0,u.length-L.text.length)+T.text;break}else if(D?.type==="list"){let L=D,N=L.raw+`
`+o.join(`
`),T=this.list(N);f[f.length-1]=T,s=s.substring(0,s.length-D.raw.length)+T.raw,u=u.substring(0,u.length-L.raw.length)+T.raw,o=N.substring(f[f.length-1].raw.length).split(`
`);continue}}return{type:"blockquote",raw:s,tokens:f,text:u}}}list(e){let r=this.rules.block.list.exec(e);if(r){let o=r[1].trim(),s=o.length>1,u={type:"list",raw:"",ordered:s,start:s?+o.slice(0,-1):"",loose:!1,items:[]};o=s?`\\d{1,9}\\${o.slice(-1)}`:`\\${o}`,this.options.pedantic&&(o=s?o:"[*+-]");let f=new RegExp(`^( {0,3}${o})((?:[	 ][^\\n]*)?(?:\\n|$))`),d=!1;for(;e;){let h=!1,g="",m="";if(!(r=f.exec(e))||this.rules.block.hr.test(e))break;g=r[0],e=e.substring(g.length);let w=r[2].split(`
`,1)[0].replace(/^\t+/,C=>" ".repeat(3*C.length)),x=e.split(`
`,1)[0],D=!w.trim(),L=0;if(this.options.pedantic?(L=2,m=w.trimStart()):D?L=r[1].length+1:(L=r[2].search(/[^ ]/),L=L>4?1:L,m=w.slice(L),L+=r[1].length),D&&/^[ \t]*$/.test(x)&&(g+=x+`
`,e=e.substring(x.length+1),h=!0),!h){let C=new RegExp(`^ {0,${Math.min(3,L-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),k=new RegExp(`^ {0,${Math.min(3,L-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),M=new RegExp(`^ {0,${Math.min(3,L-1)}}(?:\`\`\`|~~~)`),O=new RegExp(`^ {0,${Math.min(3,L-1)}}#`),F=new RegExp(`^ {0,${Math.min(3,L-1)}}<(?:[a-z].*>|!--)`,"i");for(;e;){let P=e.split(`
`,1)[0],j;if(x=P,this.options.pedantic?(x=x.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  "),j=x):j=x.replace(/\t/g,"    "),M.test(x)||O.test(x)||F.test(x)||C.test(x)||k.test(x))break;if(j.search(/[^ ]/)>=L||!x.trim())m+=`
`+j.slice(L);else{if(D||w.replace(/\t/g,"    ").search(/[^ ]/)>=4||M.test(w)||O.test(w)||k.test(w))break;m+=`
`+x}!D&&!x.trim()&&(D=!0),g+=P+`
`,e=e.substring(P.length+1),w=j.slice(L)}}u.loose||(d?u.loose=!0:/\n[ \t]*\n[ \t]*$/.test(g)&&(d=!0));let N=null,T;this.options.gfm&&(N=/^\[[ xX]\] /.exec(m),N&&(T=N[0]!=="[ ] ",m=m.replace(/^\[[ xX]\] +/,""))),u.items.push({type:"list_item",raw:g,task:!!N,checked:T,loose:!1,text:m,tokens:[]}),u.raw+=g}u.items[u.items.length-1].raw=u.items[u.items.length-1].raw.trimEnd(),u.items[u.items.length-1].text=u.items[u.items.length-1].text.trimEnd(),u.raw=u.raw.trimEnd();for(let h=0;h<u.items.length;h++)if(this.lexer.state.top=!1,u.items[h].tokens=this.lexer.blockTokens(u.items[h].text,[]),!u.loose){let g=u.items[h].tokens.filter(w=>w.type==="space"),m=g.length>0&&g.some(w=>/\n.*\n/.test(w.raw));u.loose=m}if(u.loose)for(let h=0;h<u.items.length;h++)u.items[h].loose=!0;return u}}html(e){let r=this.rules.block.html.exec(e);if(r)return{type:"html",block:!0,raw:r[0],pre:r[1]==="pre"||r[1]==="script"||r[1]==="style",text:r[0]}}def(e){let r=this.rules.block.def.exec(e);if(r){let o=r[1].toLowerCase().replace(/\s+/g," "),s=r[2]?r[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",u=r[3]?r[3].substring(1,r[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):r[3];return{type:"def",tag:o,raw:r[0],href:s,title:u}}}table(e){let r=this.rules.block.table.exec(e);if(!r||!/[:|]/.test(r[2]))return;let o=Y0(r[1]),s=r[2].replace(/^\||\| *$/g,"").split("|"),u=r[3]&&r[3].trim()?r[3].replace(/\n[ \t]*$/,"").split(`
`):[],f={type:"table",raw:r[0],header:[],align:[],rows:[]};if(o.length===s.length){for(let d of s)/^ *-+: *$/.test(d)?f.align.push("right"):/^ *:-+: *$/.test(d)?f.align.push("center"):/^ *:-+ *$/.test(d)?f.align.push("left"):f.align.push(null);for(let d=0;d<o.length;d++)f.header.push({text:o[d],tokens:this.lexer.inline(o[d]),header:!0,align:f.align[d]});for(let d of u)f.rows.push(Y0(d,f.header.length).map((h,g)=>({text:h,tokens:this.lexer.inline(h),header:!1,align:f.align[g]})));return f}}lheading(e){let r=this.rules.block.lheading.exec(e);if(r)return{type:"heading",raw:r[0],depth:r[2].charAt(0)==="="?1:2,text:r[1],tokens:this.lexer.inline(r[1])}}paragraph(e){let r=this.rules.block.paragraph.exec(e);if(r){let o=r[1].charAt(r[1].length-1)===`
`?r[1].slice(0,-1):r[1];return{type:"paragraph",raw:r[0],text:o,tokens:this.lexer.inline(o)}}}text(e){let r=this.rules.block.text.exec(e);if(r)return{type:"text",raw:r[0],text:r[0],tokens:this.lexer.inline(r[0])}}escape(e){let r=this.rules.inline.escape.exec(e);if(r)return{type:"escape",raw:r[0],text:Xt(r[1])}}tag(e){let r=this.rules.inline.tag.exec(e);if(r)return!this.lexer.state.inLink&&/^<a /i.test(r[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(r[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(r[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(r[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:r[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:r[0]}}link(e){let r=this.rules.inline.link.exec(e);if(r){let o=r[2].trim();if(!this.options.pedantic&&/^</.test(o)){if(!/>$/.test(o))return;let f=ys(o.slice(0,-1),"\\");if((o.length-f.length)%2===0)return}else{let f=OO(r[2],"()");if(f>-1){let h=(r[0].indexOf("!")===0?5:4)+r[1].length+f;r[2]=r[2].substring(0,f),r[0]=r[0].substring(0,h).trim(),r[3]=""}}let s=r[2],u="";if(this.options.pedantic){let f=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(s);f&&(s=f[1],u=f[3])}else u=r[3]?r[3].slice(1,-1):"";return s=s.trim(),/^</.test(s)&&(this.options.pedantic&&!/>$/.test(o)?s=s.slice(1):s=s.slice(1,-1)),Q0(r,{href:s&&s.replace(this.rules.inline.anyPunctuation,"$1"),title:u&&u.replace(this.rules.inline.anyPunctuation,"$1")},r[0],this.lexer)}}reflink(e,r){let o;if((o=this.rules.inline.reflink.exec(e))||(o=this.rules.inline.nolink.exec(e))){let s=(o[2]||o[1]).replace(/\s+/g," "),u=r[s.toLowerCase()];if(!u){let f=o[0].charAt(0);return{type:"text",raw:f,text:f}}return Q0(o,u,o[0],this.lexer)}}emStrong(e,r,o=""){let s=this.rules.inline.emStrongLDelim.exec(e);if(!s||s[3]&&o.match(/[\p{L}\p{N}]/u))return;if(!(s[1]||s[2]||"")||!o||this.rules.inline.punctuation.exec(o)){let f=[...s[0]].length-1,d,h,g=f,m=0,w=s[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(w.lastIndex=0,r=r.slice(-1*e.length+f);(s=w.exec(r))!=null;){if(d=s[1]||s[2]||s[3]||s[4]||s[5]||s[6],!d)continue;if(h=[...d].length,s[3]||s[4]){g+=h;continue}else if((s[5]||s[6])&&f%3&&!((f+h)%3)){m+=h;continue}if(g-=h,g>0)continue;h=Math.min(h,h+g+m);let x=[...s[0]][0].length,D=e.slice(0,f+s.index+x+h);if(Math.min(f,h)%2){let N=D.slice(1,-1);return{type:"em",raw:D,text:N,tokens:this.lexer.inlineTokens(N)}}let L=D.slice(2,-2);return{type:"strong",raw:D,text:L,tokens:this.lexer.inlineTokens(L)}}}}codespan(e){let r=this.rules.inline.code.exec(e);if(r){let o=r[2].replace(/\n/g," "),s=/[^ ]/.test(o),u=/^ /.test(o)&&/ $/.test(o);return s&&u&&(o=o.substring(1,o.length-1)),o=Xt(o,!0),{type:"codespan",raw:r[0],text:o}}}br(e){let r=this.rules.inline.br.exec(e);if(r)return{type:"br",raw:r[0]}}del(e){let r=this.rules.inline.del.exec(e);if(r)return{type:"del",raw:r[0],text:r[2],tokens:this.lexer.inlineTokens(r[2])}}autolink(e){let r=this.rules.inline.autolink.exec(e);if(r){let o,s;return r[2]==="@"?(o=Xt(r[1]),s="mailto:"+o):(o=Xt(r[1]),s=o),{type:"link",raw:r[0],text:o,href:s,tokens:[{type:"text",raw:o,text:o}]}}}url(e){let r;if(r=this.rules.inline.url.exec(e)){let o,s;if(r[2]==="@")o=Xt(r[0]),s="mailto:"+o;else{let u;do u=r[0],r[0]=this.rules.inline._backpedal.exec(r[0])?.[0]??"";while(u!==r[0]);o=Xt(r[0]),r[1]==="www."?s="http://"+r[0]:s=r[0]}return{type:"link",raw:r[0],text:o,href:s,tokens:[{type:"text",raw:o,text:o}]}}}inlineText(e){let r=this.rules.inline.text.exec(e);if(r){let o;return this.lexer.state.inRawBlock?o=r[0]:o=Xt(r[0]),{type:"text",raw:r[0],text:o}}}},IO=/^(?:[ \t]*(?:\n|$))+/,jO=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,BO=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,ks=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,zO=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,ek=/(?:[*+-]|\d{1,9}[.)])/,tk=Ge(/^(?!bull |blockCode|fences|blockquote|heading|html)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,ek).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).getRegex(),_d=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,RO=/^[^\n]+/,Wd=/(?!\s*\])(?:\\.|[^\[\]\\])+/,HO=Ge(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",Wd).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),qO=Ge(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,ek).getRegex(),Tl="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",$d=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,_O=Ge("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",$d).replace("tag",Tl).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),nk=Ge(_d).replace("hr",ks).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Tl).getRegex(),WO=Ge(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",nk).getRegex(),Vd={blockquote:WO,code:jO,def:HO,fences:BO,heading:zO,hr:ks,html:_O,lheading:tk,list:qO,newline:IO,paragraph:nk,table:ws,text:RO},K0=Ge("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",ks).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Tl).getRegex(),$O={...Vd,table:K0,paragraph:Ge(_d).replace("hr",ks).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",K0).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Tl).getRegex()},VO={...Vd,html:Ge(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",$d).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:ws,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Ge(_d).replace("hr",ks).replace("heading",` *#{1,6} *[^
]`).replace("lheading",tk).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},rk=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,UO=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,ik=/^( {2,}|\\)\n(?!\s*$)/,GO=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,Cs="\\p{P}\\p{S}",YO=Ge(/^((?![*_])[\spunctuation])/,"u").replace(/punctuation/g,Cs).getRegex(),QO=/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<[^<>]*?>/g,KO=Ge(/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,"u").replace(/punct/g,Cs).getRegex(),JO=Ge("^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)[punct](\\*+)(?=[\\s]|$)|[^punct\\s](\\*+)(?!\\*)(?=[punct\\s]|$)|(?!\\*)[punct\\s](\\*+)(?=[^punct\\s])|[\\s](\\*+)(?!\\*)(?=[punct])|(?!\\*)[punct](\\*+)(?!\\*)(?=[punct])|[^punct\\s](\\*+)(?=[^punct\\s])","gu").replace(/punct/g,Cs).getRegex(),ZO=Ge("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\\s]|$)|[^punct\\s](_+)(?!_)(?=[punct\\s]|$)|(?!_)[punct\\s](_+)(?=[^punct\\s])|[\\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])","gu").replace(/punct/g,Cs).getRegex(),XO=Ge(/\\([punct])/,"gu").replace(/punct/g,Cs).getRegex(),eP=Ge(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),tP=Ge($d).replace("(?:-->|$)","-->").getRegex(),nP=Ge("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",tP).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),El=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,rP=Ge(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",El).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),ok=Ge(/^!?\[(label)\]\[(ref)\]/).replace("label",El).replace("ref",Wd).getRegex(),sk=Ge(/^!?\[(ref)\](?:\[\])?/).replace("ref",Wd).getRegex(),iP=Ge("reflink|nolink(?!\\()","g").replace("reflink",ok).replace("nolink",sk).getRegex(),Ud={_backpedal:ws,anyPunctuation:XO,autolink:eP,blockSkip:QO,br:ik,code:UO,del:ws,emStrongLDelim:KO,emStrongRDelimAst:JO,emStrongRDelimUnd:ZO,escape:rk,link:rP,nolink:sk,punctuation:YO,reflink:ok,reflinkSearch:iP,tag:nP,text:GO,url:ws},oP={...Ud,link:Ge(/^!?\[(label)\]\((.*?)\)/).replace("label",El).getRegex(),reflink:Ge(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",El).getRegex()},Hd={...Ud,escape:Ge(rk).replace("])","~|])").getRegex(),url:Ge(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\.|[^\\])*?(?:\\.|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},sP={...Hd,br:Ge(ik).replace("{2,}","*").getRegex(),text:Ge(Hd.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Sl={normal:Vd,gfm:$O,pedantic:VO},vs={normal:Ud,gfm:Hd,breaks:sP,pedantic:oP},xn=class t{tokens;options;state;tokenizer;inlineQueue;constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||Ur,this.options.tokenizer=this.options.tokenizer||new $i,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let r={block:Sl.normal,inline:vs.normal};this.options.pedantic?(r.block=Sl.pedantic,r.inline=vs.pedantic):this.options.gfm&&(r.block=Sl.gfm,this.options.breaks?r.inline=vs.breaks:r.inline=vs.gfm),this.tokenizer.rules=r}static get rules(){return{block:Sl,inline:vs}}static lex(e,r){return new t(r).lex(e)}static lexInline(e,r){return new t(r).inlineTokens(e)}lex(e){e=e.replace(/\r\n|\r/g,`
`),this.blockTokens(e,this.tokens);for(let r=0;r<this.inlineQueue.length;r++){let o=this.inlineQueue[r];this.inlineTokens(o.src,o.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,r=[],o=!1){this.options.pedantic&&(e=e.replace(/\t/g,"    ").replace(/^ +$/gm,""));let s,u,f;for(;e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(d=>(s=d.call({lexer:this},e,r))?(e=e.substring(s.raw.length),r.push(s),!0):!1))){if(s=this.tokenizer.space(e)){e=e.substring(s.raw.length),s.raw.length===1&&r.length>0?r[r.length-1].raw+=`
`:r.push(s);continue}if(s=this.tokenizer.code(e)){e=e.substring(s.raw.length),u=r[r.length-1],u&&(u.type==="paragraph"||u.type==="text")?(u.raw+=`
`+s.raw,u.text+=`
`+s.text,this.inlineQueue[this.inlineQueue.length-1].src=u.text):r.push(s);continue}if(s=this.tokenizer.fences(e)){e=e.substring(s.raw.length),r.push(s);continue}if(s=this.tokenizer.heading(e)){e=e.substring(s.raw.length),r.push(s);continue}if(s=this.tokenizer.hr(e)){e=e.substring(s.raw.length),r.push(s);continue}if(s=this.tokenizer.blockquote(e)){e=e.substring(s.raw.length),r.push(s);continue}if(s=this.tokenizer.list(e)){e=e.substring(s.raw.length),r.push(s);continue}if(s=this.tokenizer.html(e)){e=e.substring(s.raw.length),r.push(s);continue}if(s=this.tokenizer.def(e)){e=e.substring(s.raw.length),u=r[r.length-1],u&&(u.type==="paragraph"||u.type==="text")?(u.raw+=`
`+s.raw,u.text+=`
`+s.raw,this.inlineQueue[this.inlineQueue.length-1].src=u.text):this.tokens.links[s.tag]||(this.tokens.links[s.tag]={href:s.href,title:s.title});continue}if(s=this.tokenizer.table(e)){e=e.substring(s.raw.length),r.push(s);continue}if(s=this.tokenizer.lheading(e)){e=e.substring(s.raw.length),r.push(s);continue}if(f=e,this.options.extensions&&this.options.extensions.startBlock){let d=1/0,h=e.slice(1),g;this.options.extensions.startBlock.forEach(m=>{g=m.call({lexer:this},h),typeof g=="number"&&g>=0&&(d=Math.min(d,g))}),d<1/0&&d>=0&&(f=e.substring(0,d+1))}if(this.state.top&&(s=this.tokenizer.paragraph(f))){u=r[r.length-1],o&&u?.type==="paragraph"?(u.raw+=`
`+s.raw,u.text+=`
`+s.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=u.text):r.push(s),o=f.length!==e.length,e=e.substring(s.raw.length);continue}if(s=this.tokenizer.text(e)){e=e.substring(s.raw.length),u=r[r.length-1],u&&u.type==="text"?(u.raw+=`
`+s.raw,u.text+=`
`+s.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=u.text):r.push(s);continue}if(e){let d="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(d);break}else throw new Error(d)}}return this.state.top=!0,r}inline(e,r=[]){return this.inlineQueue.push({src:e,tokens:r}),r}inlineTokens(e,r=[]){let o,s,u,f=e,d,h,g;if(this.tokens.links){let m=Object.keys(this.tokens.links);if(m.length>0)for(;(d=this.tokenizer.rules.inline.reflinkSearch.exec(f))!=null;)m.includes(d[0].slice(d[0].lastIndexOf("[")+1,-1))&&(f=f.slice(0,d.index)+"["+"a".repeat(d[0].length-2)+"]"+f.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(d=this.tokenizer.rules.inline.blockSkip.exec(f))!=null;)f=f.slice(0,d.index)+"["+"a".repeat(d[0].length-2)+"]"+f.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(d=this.tokenizer.rules.inline.anyPunctuation.exec(f))!=null;)f=f.slice(0,d.index)+"++"+f.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;e;)if(h||(g=""),h=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(m=>(o=m.call({lexer:this},e,r))?(e=e.substring(o.raw.length),r.push(o),!0):!1))){if(o=this.tokenizer.escape(e)){e=e.substring(o.raw.length),r.push(o);continue}if(o=this.tokenizer.tag(e)){e=e.substring(o.raw.length),s=r[r.length-1],s&&o.type==="text"&&s.type==="text"?(s.raw+=o.raw,s.text+=o.text):r.push(o);continue}if(o=this.tokenizer.link(e)){e=e.substring(o.raw.length),r.push(o);continue}if(o=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(o.raw.length),s=r[r.length-1],s&&o.type==="text"&&s.type==="text"?(s.raw+=o.raw,s.text+=o.text):r.push(o);continue}if(o=this.tokenizer.emStrong(e,f,g)){e=e.substring(o.raw.length),r.push(o);continue}if(o=this.tokenizer.codespan(e)){e=e.substring(o.raw.length),r.push(o);continue}if(o=this.tokenizer.br(e)){e=e.substring(o.raw.length),r.push(o);continue}if(o=this.tokenizer.del(e)){e=e.substring(o.raw.length),r.push(o);continue}if(o=this.tokenizer.autolink(e)){e=e.substring(o.raw.length),r.push(o);continue}if(!this.state.inLink&&(o=this.tokenizer.url(e))){e=e.substring(o.raw.length),r.push(o);continue}if(u=e,this.options.extensions&&this.options.extensions.startInline){let m=1/0,w=e.slice(1),x;this.options.extensions.startInline.forEach(D=>{x=D.call({lexer:this},w),typeof x=="number"&&x>=0&&(m=Math.min(m,x))}),m<1/0&&m>=0&&(u=e.substring(0,m+1))}if(o=this.tokenizer.inlineText(u)){e=e.substring(o.raw.length),o.raw.slice(-1)!=="_"&&(g=o.raw.slice(-1)),h=!0,s=r[r.length-1],s&&s.type==="text"?(s.raw+=o.raw,s.text+=o.text):r.push(o);continue}if(e){let m="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(m);break}else throw new Error(m)}}return r}},gr=class{options;parser;constructor(e){this.options=e||Ur}space(e){return""}code({text:e,lang:r,escaped:o}){let s=(r||"").match(/^\S*/)?.[0],u=e.replace(/\n$/,"")+`
`;return s?'<pre><code class="language-'+Xt(s)+'">'+(o?u:Xt(u,!0))+`</code></pre>
`:"<pre><code>"+(o?u:Xt(u,!0))+`</code></pre>
`}blockquote({tokens:e}){return`<blockquote>
${this.parser.parse(e)}</blockquote>
`}html({text:e}){return e}heading({tokens:e,depth:r}){return`<h${r}>${this.parser.parseInline(e)}</h${r}>
`}hr(e){return`<hr>
`}list(e){let r=e.ordered,o=e.start,s="";for(let d=0;d<e.items.length;d++){let h=e.items[d];s+=this.listitem(h)}let u=r?"ol":"ul",f=r&&o!==1?' start="'+o+'"':"";return"<"+u+f+`>
`+s+"</"+u+`>
`}listitem(e){let r="";if(e.task){let o=this.checkbox({checked:!!e.checked});e.loose?e.tokens.length>0&&e.tokens[0].type==="paragraph"?(e.tokens[0].text=o+" "+e.tokens[0].text,e.tokens[0].tokens&&e.tokens[0].tokens.length>0&&e.tokens[0].tokens[0].type==="text"&&(e.tokens[0].tokens[0].text=o+" "+e.tokens[0].tokens[0].text)):e.tokens.unshift({type:"text",raw:o+" ",text:o+" "}):r+=o+" "}return r+=this.parser.parse(e.tokens,!!e.loose),`<li>${r}</li>
`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>
`}table(e){let r="",o="";for(let u=0;u<e.header.length;u++)o+=this.tablecell(e.header[u]);r+=this.tablerow({text:o});let s="";for(let u=0;u<e.rows.length;u++){let f=e.rows[u];o="";for(let d=0;d<f.length;d++)o+=this.tablecell(f[d]);s+=this.tablerow({text:o})}return s&&(s=`<tbody>${s}</tbody>`),`<table>
<thead>
`+r+`</thead>
`+s+`</table>
`}tablerow({text:e}){return`<tr>
${e}</tr>
`}tablecell(e){let r=this.parser.parseInline(e.tokens),o=e.header?"th":"td";return(e.align?`<${o} align="${e.align}">`:`<${o}>`)+r+`</${o}>
`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${e}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:r,tokens:o}){let s=this.parser.parseInline(o),u=G0(e);if(u===null)return s;e=u;let f='<a href="'+e+'"';return r&&(f+=' title="'+r+'"'),f+=">"+s+"</a>",f}image({href:e,title:r,text:o}){let s=G0(e);if(s===null)return o;e=s;let u=`<img src="${e}" alt="${o}"`;return r&&(u+=` title="${r}"`),u+=">",u}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):e.text}},bs=class{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}},kn=class t{options;renderer;textRenderer;constructor(e){this.options=e||Ur,this.options.renderer=this.options.renderer||new gr,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new bs}static parse(e,r){return new t(r).parse(e)}static parseInline(e,r){return new t(r).parseInline(e)}parse(e,r=!0){let o="";for(let s=0;s<e.length;s++){let u=e[s];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[u.type]){let d=u,h=this.options.extensions.renderers[d.type].call({parser:this},d);if(h!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(d.type)){o+=h||"";continue}}let f=u;switch(f.type){case"space":{o+=this.renderer.space(f);continue}case"hr":{o+=this.renderer.hr(f);continue}case"heading":{o+=this.renderer.heading(f);continue}case"code":{o+=this.renderer.code(f);continue}case"table":{o+=this.renderer.table(f);continue}case"blockquote":{o+=this.renderer.blockquote(f);continue}case"list":{o+=this.renderer.list(f);continue}case"html":{o+=this.renderer.html(f);continue}case"paragraph":{o+=this.renderer.paragraph(f);continue}case"text":{let d=f,h=this.renderer.text(d);for(;s+1<e.length&&e[s+1].type==="text";)d=e[++s],h+=`
`+this.renderer.text(d);r?o+=this.renderer.paragraph({type:"paragraph",raw:h,text:h,tokens:[{type:"text",raw:h,text:h}]}):o+=h;continue}default:{let d='Token with "'+f.type+'" type was not found.';if(this.options.silent)return console.error(d),"";throw new Error(d)}}}return o}parseInline(e,r){r=r||this.renderer;let o="";for(let s=0;s<e.length;s++){let u=e[s];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[u.type]){let d=this.options.extensions.renderers[u.type].call({parser:this},u);if(d!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(u.type)){o+=d||"";continue}}let f=u;switch(f.type){case"escape":{o+=r.text(f);break}case"html":{o+=r.html(f);break}case"link":{o+=r.link(f);break}case"image":{o+=r.image(f);break}case"strong":{o+=r.strong(f);break}case"em":{o+=r.em(f);break}case"codespan":{o+=r.codespan(f);break}case"br":{o+=r.br(f);break}case"del":{o+=r.del(f);break}case"text":{o+=r.text(f);break}default:{let d='Token with "'+f.type+'" type was not found.';if(this.options.silent)return console.error(d),"";throw new Error(d)}}}return o}},Wi=class{options;block;constructor(e){this.options=e||Ur}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}provideLexer(){return this.block?xn.lex:xn.lexInline}provideParser(){return this.block?kn.parse:kn.parseInline}},xs=class{defaults=qd();options=this.setOptions;parse=this.parseMarkdown(!0);parseInline=this.parseMarkdown(!1);Parser=kn;Renderer=gr;TextRenderer=bs;Lexer=xn;Tokenizer=$i;Hooks=Wi;constructor(...e){this.use(...e)}walkTokens(e,r){let o=[];for(let s of e)switch(o=o.concat(r.call(this,s)),s.type){case"table":{let u=s;for(let f of u.header)o=o.concat(this.walkTokens(f.tokens,r));for(let f of u.rows)for(let d of f)o=o.concat(this.walkTokens(d.tokens,r));break}case"list":{let u=s;o=o.concat(this.walkTokens(u.items,r));break}default:{let u=s;this.defaults.extensions?.childTokens?.[u.type]?this.defaults.extensions.childTokens[u.type].forEach(f=>{let d=u[f].flat(1/0);o=o.concat(this.walkTokens(d,r))}):u.tokens&&(o=o.concat(this.walkTokens(u.tokens,r)))}}return o}use(...e){let r=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(o=>{let s={...o};if(s.async=this.defaults.async||s.async||!1,o.extensions&&(o.extensions.forEach(u=>{if(!u.name)throw new Error("extension name required");if("renderer"in u){let f=r.renderers[u.name];f?r.renderers[u.name]=function(...d){let h=u.renderer.apply(this,d);return h===!1&&(h=f.apply(this,d)),h}:r.renderers[u.name]=u.renderer}if("tokenizer"in u){if(!u.level||u.level!=="block"&&u.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let f=r[u.level];f?f.unshift(u.tokenizer):r[u.level]=[u.tokenizer],u.start&&(u.level==="block"?r.startBlock?r.startBlock.push(u.start):r.startBlock=[u.start]:u.level==="inline"&&(r.startInline?r.startInline.push(u.start):r.startInline=[u.start]))}"childTokens"in u&&u.childTokens&&(r.childTokens[u.name]=u.childTokens)}),s.extensions=r),o.renderer){let u=this.defaults.renderer||new gr(this.defaults);for(let f in o.renderer){if(!(f in u))throw new Error(`renderer '${f}' does not exist`);if(["options","parser"].includes(f))continue;let d=f,h=o.renderer[d],g=u[d];u[d]=(...m)=>{let w=h.apply(u,m);return w===!1&&(w=g.apply(u,m)),w||""}}s.renderer=u}if(o.tokenizer){let u=this.defaults.tokenizer||new $i(this.defaults);for(let f in o.tokenizer){if(!(f in u))throw new Error(`tokenizer '${f}' does not exist`);if(["options","rules","lexer"].includes(f))continue;let d=f,h=o.tokenizer[d],g=u[d];u[d]=(...m)=>{let w=h.apply(u,m);return w===!1&&(w=g.apply(u,m)),w}}s.tokenizer=u}if(o.hooks){let u=this.defaults.hooks||new Wi;for(let f in o.hooks){if(!(f in u))throw new Error(`hook '${f}' does not exist`);if(["options","block"].includes(f))continue;let d=f,h=o.hooks[d],g=u[d];Wi.passThroughHooks.has(f)?u[d]=m=>{if(this.defaults.async)return Promise.resolve(h.call(u,m)).then(x=>g.call(u,x));let w=h.call(u,m);return g.call(u,w)}:u[d]=(...m)=>{let w=h.apply(u,m);return w===!1&&(w=g.apply(u,m)),w}}s.hooks=u}if(o.walkTokens){let u=this.defaults.walkTokens,f=o.walkTokens;s.walkTokens=function(d){let h=[];return h.push(f.call(this,d)),u&&(h=h.concat(u.call(this,d))),h}}this.defaults={...this.defaults,...s}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,r){return xn.lex(e,r??this.defaults)}parser(e,r){return kn.parse(e,r??this.defaults)}parseMarkdown(e){return(o,s)=>{let u={...s},f={...this.defaults,...u},d=this.onError(!!f.silent,!!f.async);if(this.defaults.async===!0&&u.async===!1)return d(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof o>"u"||o===null)return d(new Error("marked(): input parameter is undefined or null"));if(typeof o!="string")return d(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(o)+", string expected"));f.hooks&&(f.hooks.options=f,f.hooks.block=e);let h=f.hooks?f.hooks.provideLexer():e?xn.lex:xn.lexInline,g=f.hooks?f.hooks.provideParser():e?kn.parse:kn.parseInline;if(f.async)return Promise.resolve(f.hooks?f.hooks.preprocess(o):o).then(m=>h(m,f)).then(m=>f.hooks?f.hooks.processAllTokens(m):m).then(m=>f.walkTokens?Promise.all(this.walkTokens(m,f.walkTokens)).then(()=>m):m).then(m=>g(m,f)).then(m=>f.hooks?f.hooks.postprocess(m):m).catch(d);try{f.hooks&&(o=f.hooks.preprocess(o));let m=h(o,f);f.hooks&&(m=f.hooks.processAllTokens(m)),f.walkTokens&&this.walkTokens(m,f.walkTokens);let w=g(m,f);return f.hooks&&(w=f.hooks.postprocess(w)),w}catch(m){return d(m)}}}onError(e,r){return o=>{if(o.message+=`
Please report this to https://github.com/markedjs/marked.`,e){let s="<p>An error occurred:</p><pre>"+Xt(o.message+"",!0)+"</pre>";return r?Promise.resolve(s):s}if(r)return Promise.reject(o);throw o}}},Vr=new xs;Ue.options=Ue.setOptions=function(t){return Vr.setOptions(t),Ue.defaults=Vr.defaults,J0(Ue.defaults),Ue};Ue.getDefaults=qd;Ue.defaults=Ur;Ue.use=function(...t){return Vr.use(...t),Ue.defaults=Vr.defaults,J0(Ue.defaults),Ue};Ue.walkTokens=function(t,e){return Vr.walkTokens(t,e)};Ue.parseInline=Vr.parseInline;Ue.Parser=kn;Ue.parser=kn.parse;Ue.Renderer=gr;Ue.TextRenderer=bs;Ue.Lexer=xn;Ue.lexer=xn.lex;Ue.Tokenizer=$i;Ue.Hooks=Wi;Ue.parse=Ue;jH=Ue.options,BH=Ue.setOptions,zH=Ue.use,RH=Ue.walkTokens,HH=Ue.parseInline,qH=kn.parse,_H=xn.lex});var Ml,ak=I(()=>{Gd();Bd();$t();Ml=class extends gr{heading({tokens:e,depth:r,text:o}){let{discoveryjs:{host:s,useAnchors:u}}=this.options,f=Dl(o.replace(/<!--.*?-->/g,"")),d="";if(u){let h=s.encodePageHash(s.pageId,s.pageRef,s.pageParams,f);d=`<a class="view-header__anchor" id="!anchor:${Ve(f)}" href="${h}"></a>`}return`<h${r} class="view-header view-h${r}" data-slug="${f}">${d}${this.parser.parseInline(e)}</h${r}>
`}blockquote({tokens:e}){let r=this.parser.parse(e),o=null,s=r.match(/^(<p>)?\[!([a-z]+)\]\s*(<\/p>)?\n/i);return s&&(o=s[2],r=(s[3]?"":s[1]||"")+r.slice(s[0].length)),`<blockquote class="view-blockquote"${o?` data-kind=${JSON.stringify(o.toLowerCase())}`:""}>${r}</blockquote>`}code({text:e,lang:r}){let{discoveryjs:{codes:o}}=this.options;return`<code class="discoveryjs-code" data-id="${o.push({syntax:r,source:e})-1}"></code>`}link({tokens:e,href:r,title:o}){let s=this.parser.parseInline(e);if(r===null)return s;let u='<a class="view-link md-rendered-link" href="'+Ve(r)+'"';return o&&(u+=' title="'+Ve(o)+'"'),u+=">"+s+"</a>",u}checkbox({checked:e}){return'<label class="view-checkbox"><input type="checkbox" disabled'+(e?" checked":"")+"/></label> "}list({items:e,ordered:r,start:o}){let s=r?"ol":"ul",u=r&&o!==1?` start="${o}"`:"";return`<${s} class="view-${s}"${u}>
`+e.map(this.listitem,this).join(`
`)+`
</${s}>
`}listitem(e){let r="";if(e.task){let o=this.checkbox({checked:!!e.checked});if(e.loose){let s=e.tokens[0];s?.type==="paragraph"?(s.text=o+s.text,Array.isArray(s.tokens)&&s.tokens[0]?.type==="text"&&(s.tokens[0].text=o+s.tokens[0].text)):e.tokens.unshift({type:"text",raw:o,text:o})}else r+=o}return`<li class="view-list-item${e.task?" check-list-item":""}">${r}${this.parser.parse(e.tokens,!!e.loose)}</li>
`}table({header:e,rows:r}){let o=r.map(s=>'<tr class="view-table-row">'+s.map(this.tablecell,this).join("")+"</tr>").join(`
`);return`<table class="view-table">
<thead>
`+e.map(this.tablecell,this).join("")+`
</thead>
`+(o?`<tbody>
`+o+`
</tbody>
`:"")+`</table>
`}tablecell({tokens:e,header:r,align:o}){let s=r?"th":"td";return`<${s} class="${r?"view-table-header-cell":"view-table-cell"}"${o?` align="${o}"`:""}>`+this.parser.parseInline(e)+`</${s}>
`}}});var Yd,lk=I(()=>{Yd={demo:{view:"markdown",source:`# Markdown example

> NOTE: The \`markdown\` view is based on [marked](https://github.com/markedjs/marked) package

Markdown is good because:
* You'll get **formatted** *text* with _no tags_
* It's much simpler than \`HTML\`

\`\`\`html
<b>bold</b><i>italic</i>
\`\`\`
[Read more](https://guides.github.com/features/mastering-markdown/)`},examples:[{title:"Inline config",demo:'markdown{ source: "**Hello** `world`!" }'},{title:"Shorthand syntax",beforeDemo:['md:"You can use `md` as an alias for `markdown` with a string as data. That\'s a **shortest** definition for a marked text"'],demo:'md:"**Hello** `world`!"'},{title:"Array of strings as a source",beforeDemo:['md:"Array of strings might be passed as a value for `source` property which is useful for a long sources\\n> NOTE: This doesn\'t work a source passed via data"'],demo:{view:"markdown",source:["Array","of","`strings`"]}},{title:"Interpolation",beforeDemo:['md:"Interpolation can be used almost anywhere in a markdown to embed the result of a jora query into resulting HTML. Just place a jora query between `{{`{{`}}` and `{{`}`+`}`}}`:"'],demo:{view:"md",source:["Simple evaluation: 2 + 2 = `{{ 2 + 2 }}`","","Markdown view has {{ #.options.usage.examples.size() }} examples"]}},{title:"Disable anchors for headers",highlightProps:["anchors"],beforeDemo:"Hover a header to see a chain icon on the left side of header when anchors are enabled:",demo:[{view:"markdown",source:"## header with default settings"},{view:"markdown",anchors:!1,source:"## header with disabled anchor"}]},{title:"Sections prelude and postlude",highlightProps:["sectionPrelude","sectionPostlude"],demo:{view:"markdown",source:`Section without a header

## Header level 2

Section 1

### Header level 3

Section 2

## Header level 2

Section 3`,sectionPrelude:"struct:#.section",sectionPostlude:{view:"link",href:"#top",text:"Scroll to top \u2191"}}},{title:"Configuration for code blocks",highlightProps:["codeConfig"],beforeDemo:['md:"Use `codeConfig` to specify any settings for code blocks available for `source` view."'],demo:{view:"markdown",source:`# Header 1

\`\`\`js
console.log("Hello world")
\`\`\`

## Header 2

text

## Header 3



\`\`\`jora
foo.bar.baz
\`\`\``,codeConfig:{prelude:{view:"block",content:["badge:syntax",'text:"Length: " + #.sourceViewProps.source.size()']},postlude:"struct:#.section",actionButtons:[{view:"button",text:'Say "Hello world"',onClick:Function('return () => alert("Hello world!")')()}]}}},{title:"Showcase",demo:{view:"markdown",source:`
# Header level 1
## Header level 2
### Header level 3
#### Header level 4
##### Header level 5
* One
* Two
    * Three

4. Four
5. Five
    6. Six
- [{{ true }}] Task 1
- [x] Task 2

Interpolation in text: 2 + 2 = \`{{ 2 + 2 }}\`, or in attribute: [link](#dummy-link/{{"exam" + "ple"}} "{{ "example" + " title" }}")

Paragraph **bold** __bold__ *italic* _italic_ ~line-through~ \`code\` [link](#href)

>Blockquote
> > Line 2

> [!NOTE]
> Useful information that users should know, even when skimming content.

> [!TIP]
> Helpful advice for doing things better or more easily.

> [!IMPORTANT]
> Key information users need to know to achieve their goal.

> [!WARNING]
> Urgent info that needs immediate user attention to avoid problems.

> [!CAUTION]
> Advises about risks or negative outcomes of certain actions.

\`\`\`js
var some = "code";
\`\`\`

foo | bar
----|-----
1 | A
2 | C
3 | E
`.trim().split(/\n/)}}]}});function uk(t,e){let{nodeValue:r}=t,o=r.replace(/{{(\d+)}}/gs,(s,u)=>e[u]);o!==r&&(t.nodeValue=o)}function fk(t,e){for(let r of t.childNodes)switch(r.nodeType){case document.ELEMENT_NODE:if(!r.classList.contains("view-source")){fk(r,e);for(let o of r.attributes)uk(o,e)}break;case document.TEXT_NODE:uk(r,e);break}}function aP(t){let e=new Map,r={after:t.prepend.bind(t)},o={next:null,data:{sectionIdx:0,slug:null,text:null,href:null}};e.set(r,o);for(let s of[...t.querySelectorAll(":scope > :is(h1, h2, h3, h4, h5, h6)")]){s===t.firstElementChild&&(e.delete(r),r=s,o=null);let u=s.querySelector(':scope > a[id^="!anchor:"]'),f={next:null,data:{sectionIdx:e.size,slug:s.dataset.slug,text:s.textContent.trim(),href:u?.hash}};e.set(s,f),o&&(o.next=s),o=f}return{sectionByHeaderEl:e,findSectionByEl(s){let u=e.get(r);for(;s!==null&&s!==t;){if(e.has(s)){u=e.get(s);break}s=s.previousSibling||s.parentNode}return u?.data||null}}}function dk(t){let e=new xs().setOptions({smartLists:!0,renderer:new Ml});function r(o,s,u,f){let d=new Map,h=[],g=[],{anchors:m=!0,sectionPrelude:w,sectionPostlude:x}=s,{source:D,codeConfig:L}=s;if(Array.isArray(D)&&(D=D.join(`
`)),D=D.replace(/{{(.+?)}}/gs,(C,k)=>(k=k.trim(),d.has(k)||d.set(k,d.size),`{{${d.get(k)}}}`)),o.classList.add("view-markdown"),o.innerHTML=e.parse(D,{discoveryjs:{host:t,useAnchors:m,codes:h}}),d.size>0){let C=new Array(d.size);for(let[k,M]of d.entries())try{C[M]=t.query(k,u,f)}catch(O){t.logger.error("Interpolation query error in markdown:",O.message)}fk(o,C)}for(let C of o.querySelectorAll(".md-rendered-link"))C.getAttribute("href").startsWith("#")||C.setAttribute("target","_blank");let{sectionByHeaderEl:N,findSectionByEl:T}=h.length||w||x?aP(o):{sectionByHeaderEl:new Map,findSectionByEl:()=>null};{L=typeof L=="object"?{view:"source",...L}:L||"source";for(let C of[...o.querySelectorAll(".discoveryjs-code")]){let k=T(C),M=document.createDocumentFragment(),O=C.dataset.id,{syntax:F,source:P}=h[O];g.push(this.render(M,L,{syntax:F,source:P},{...f,section:k}).then(()=>C.replaceWith(M)))}}if(w||x){let C=(k,M,O)=>{let F=document.createDocumentFragment();g.push(this.render(F,k,u,{...f,section:M.data}).then(()=>O(F)))};for(let[k,M]of N)w&&C(w,M,O=>k.after(O)),x&&C(x,M,O=>M.next?M.next.before(O):o.append(O))}return Promise.all(g)}t.view.define("markdown",r,{props:ck,usage:Yd}),t.view.define("md",r,{props:ck,usage:Yd})}var ck,pk=I(()=>{Gd();ak();lk();ck=`is not array? | {
    source: #.props has no 'source' ? is (string or array) ?,
    anchors: true,
    sectionPrelude: undefined,
    sectionPostlude: undefined,
    codeConfig: undefined
} | overrideProps()`});var Ll=bt((XH,hk)=>{function lP(t,e){switch(t.charCodeAt(e)){default:return 0;case 10:return 1;case 13:return e+1<t.length&&t.charCodeAt(e+1)===10?2:1}}hk.exports={newLineLength:lP}});var mk=bt((e5,gk)=>{var{newLineLength:uP}=Ll();gk.exports=(t,e)=>{let r=1,o=0;for(let s=0;s<t.length;s++){let u=uP(t,s);u!==0&&(e(o,s+u,r++),o=s+u,s+=u-1)}e(o,t.length,r++)}});var vk=bt((t5,yk)=>{var{newLineLength:cP}=Ll();yk.exports=(t,e)=>{let r=1,o=0;for(let s=0;s<t.length;s++){let u=cP(t,s);u!==0&&(e(o,s,r++),o=s+u,s+=u-1)}e(o,t.length,r++)}});var bk=bt((n5,wk)=>{wk.exports=function(t){if(t instanceof RegExp){let e=t.flags.indexOf("g")!==-1?t.flags:t.flags+"g",r=new RegExp(t,e);return function(o,s){let u;for(;u=r.exec(o);)s(u.index,u.index+u[0].length)}}return t=String(t),function(e,r){let o=-1;for(;o=e.indexOf(t,o+1),o!==-1;)r(o,o+t.length)}}});var kk=bt((r5,xk)=>{var{newLineLength:fP}=Ll();xk.exports=(t,e)=>{let r=1;for(let o=0;o<t.length;o++){let s=fP(t,o);s!==0&&(e(o,o+s,r++),o+=s-1)}}});var Ak=bt((i5,Ck)=>{Ck.exports={lines:mk(),lineContents:vk(),matches:bk(),newlines:kk()}});var Fl=bt((o5,Ek)=>{function Dk(t){return Qd.call(null,t)}function Qd(t){let e=this===globalThis?{}:this||{},r={};return Object.assign(r,e,t,{fork:Qd.bind(r),ranges:Object.assign({},e.ranges,t&&t.ranges)}),typeof r.createHook!="function"&&(r.createHook=o=>o()),r}function Sk(t){let e=Object.assign({},this);for(let r in t){let o=t[r];if(!(!o||typeof o!="object"))if(hasOwnProperty.call(e,r)){let s=e[r];e[r]=s&&typeof s.fork=="function"?s.fork(t[r]):s}else e[r]=Dk(t[r])}return e.fork=Sk.bind(e),e}Ek.exports={createPrinter:Dk,forkPrinter:Qd,forkPrinterSet:Sk}});var Kd=bt((s5,Tk)=>{Tk.exports=Fl().createPrinter()});var Lk=bt((a5,Mk)=>{var{createPrinter:dP}=Fl();Mk.exports=dP({print:t=>t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")})});var Nk=bt((l5,Fk)=>{var{forkPrinterSet:pP}=Fl();Fk.exports=pP.call({},{noop:Kd(),html:Lk(),tty:Kd()})});var Pk=bt((u5,Ok)=>{Ok.exports=function(e,r){let o=[];return r.forEach(({generate:s,marker:u})=>s(e,(f,d,h)=>o.push({type:u,start:f,end:d,data:h}))),o}});var jk=bt((c5,Ik)=>{var Nl=()=>"",hP=function(){};function Gr(t,e){return typeof t=="function"?t:e||hP}Ik.exports=function(e,r,o){let s=Gr(o.print,M=>M),u=Object.assign(Object.defineProperties(Object.create(null),{offset:{get:()=>w},line:{get:()=>x},column:{get:()=>D},start:{get:()=>d.start},end:{get:()=>d.end},data:{get:()=>d.data}}),Gr(o.createContext)()),f=[],d={start:0,end:e.length},h=o.ranges||{},g=[],m=1/0,w=0,x=1,D=1,L="";L+=Gr(o.open,Nl)(u),h=[].concat(Object.getOwnPropertyNames(h),Object.getOwnPropertySymbols(h)).reduce((M,O)=>{let F=h[O];return typeof F=="function"&&(h[O]=F=o.createHook(F)),F&&(g.push(O),M[O]={open:Gr(F.open,Nl),close:Gr(F.close,Nl),print:Gr(F.print,s)}),M},{}),r=r.slice().sort((M,O)=>M.start-O.start||O.end-M.end||g.indexOf(M.type)-g.indexOf(O.type));let N=M=>h[(d=f[M]).type].open(u)||"",T=M=>h[(d=f[M]).type].close(u)||"",C=M=>{if(w!==M){let O=e.substring(w,M),F=f.length?h[f[f.length-1].type].print:s;for(let P=w;P<M;P++){let j=e.charCodeAt(P);j===10||j===13&&(P>=e.length||e.charCodeAt(P+1)!==10)?(x++,D=1):D++}L+=F(O,u),w=M}},k=M=>{for(;m<=M;){C(m);for(let O=f.length-1;O>=0&&f[O].end===m;O--)L+=T(O),f.pop();m=1/0;for(let O=0;O<f.length;O++)f[O].end<m&&(m=f[O].end)}};for(let M=0;M<r.length;M++){let O=r[M],F=0;if(h.hasOwnProperty(O.type)!==!1&&!(O.start>O.end||!Number.isFinite(O.start)||!Number.isFinite(O.end))){for(k(O.start),C(O.start),F=0;F<f.length;F++)if(f[F].end<O.end){for(let P=f.length-1;P>=F;P--)L+=T(P);break}for(f.splice(F,0,O);F<f.length;F++)L+=N(F);O.end<m&&(m=O.end)}}k(e.length),C(e.length);for(let M=f.length-1;M>=0;M--)L+=T(M);return L+=Gr(o.close,Nl)(u)||"",L}});var Rk=bt((f5,zk)=>{var gP=Ak(),Xd=Nk(),Bk=Pk(),mP=jk();function yP(t,e){return{marker:t,generate:e}}function vP(t,e){let r={};for(let o in e)r[o]={ranges:{[t]:e[o]}};return r}function Zd(t,e,r){let o=(s,u)=>{let f=e[u||r]||Xd.noop,d=Bk(s,t);return mP(s,d,f)};return Object.assign(o,{print:o,generateRanges(s){return Bk(s,t)},use(s,u){let f=Symbol(s.name),d=s.ranges||s,h=Array.isArray(d)?(g,m)=>d.forEach(w=>m(...w)):d;return typeof h!="function"||(u||(u=s.printer),!u)?o:Zd(t.concat(yP(f,h)),e.fork(vP(f,u)),r)},printer(s){return Zd(t,e,s)}})}function Jd(t,e,r){let o=Zd([],r||Xd,e);return Array.isArray(t)&&(o=t.reduce((s,u)=>Array.isArray(u)?s.use(...u):s.use(u),o)),o}zk.exports=Object.assign(Jd,{gen:gP,printer:Object.assign((...t)=>Jd().printer(...t),Xd),use(...t){return Jd().use(...t)}})});var _k=bt((Hk,qk)=>{(function(t){typeof Hk=="object"&&typeof qk=="object"?t(bn()):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],t):t(CodeMirror)})(function(t){"use strict";t.defineMode("css",function(H,W){var X=W.inline;W.propertyKeywords||(W=t.resolveMode("text/css"));var q=H.indentUnit,K=W.tokenHooks,E=W.documentTypes||{},Y=W.mediaTypes||{},G=W.mediaFeatures||{},fe=W.mediaValueKeywords||{},ke=W.propertyKeywords||{},Ie=W.nonStandardPropertyKeywords||{},Ye=W.fontProperties||{},Je=W.counterDescriptors||{},Ze=W.colorKeywords||{},vt=W.valueKeywords||{},Re=W.allowNested,Ee=W.lineComment,Ce=W.supportsAtComponent===!0,Te=H.highlightNonStandardPropertyKeywords!==!1,Pe,Me;function ye(U,re){return Pe=re,U}function ut(U,re){var J=U.next();if(K[J]){var Oe=K[J](U,re);if(Oe!==!1)return Oe}if(J=="@")return U.eatWhile(/[\w\\\-]/),ye("def",U.current());if(J=="="||(J=="~"||J=="|")&&U.eat("="))return ye(null,"compare");if(J=='"'||J=="'")return re.tokenize=te(J),re.tokenize(U,re);if(J=="#")return U.eatWhile(/[\w\\\-]/),ye("atom","hash");if(J=="!")return U.match(/^\s*\w*/),ye("keyword","important");if(/\d/.test(J)||J=="."&&U.eat(/\d/))return U.eatWhile(/[\w.%]/),ye("number","unit");if(J==="-"){if(/[\d.]/.test(U.peek()))return U.eatWhile(/[\w.%]/),ye("number","unit");if(U.match(/^-[\w\\\-]*/))return U.eatWhile(/[\w\\\-]/),U.match(/^\s*:/,!1)?ye("variable-2","variable-definition"):ye("variable-2","variable");if(U.match(/^\w+-/))return ye("meta","meta")}else return/[,+>*\/]/.test(J)?ye(null,"select-op"):J=="."&&U.match(/^-?[_a-z][_a-z0-9-]*/i)?ye("qualifier","qualifier"):/[:;{}\[\]\(\)]/.test(J)?ye(null,J):U.match(/^[\w-.]+(?=\()/)?(/^(url(-prefix)?|domain|regexp)$/i.test(U.current())&&(re.tokenize=de),ye("variable callee","variable")):/[\w\\\-]/.test(J)?(U.eatWhile(/[\w\\\-]/),ye("property","word")):ye(null,null)}function te(U){return function(re,J){for(var Oe=!1,ot;(ot=re.next())!=null;){if(ot==U&&!Oe){U==")"&&re.backUp(1);break}Oe=!Oe&&ot=="\\"}return(ot==U||!Oe&&U!=")")&&(J.tokenize=null),ye("string","string")}}function de(U,re){return U.next(),U.match(/^\s*[\"\')]/,!1)?re.tokenize=null:re.tokenize=te(")"),ye(null,"(")}function pe(U,re,J){this.type=U,this.indent=re,this.prev=J}function se(U,re,J,Oe){return U.context=new pe(J,re.indentation()+(Oe===!1?0:q),U.context),J}function we(U){return U.context.prev&&(U.context=U.context.prev),U.context.type}function Fe(U,re,J){return Ae[J.context.type](U,re,J)}function Be(U,re,J,Oe){for(var ot=Oe||1;ot>0;ot--)J.context=J.context.prev;return Fe(U,re,J)}function ge(U){var re=U.current().toLowerCase();vt.hasOwnProperty(re)?Me="atom":Ze.hasOwnProperty(re)?Me="keyword":Me="variable"}var Ae={};return Ae.top=function(U,re,J){if(U=="{")return se(J,re,"block");if(U=="}"&&J.context.prev)return we(J);if(Ce&&/@component/i.test(U))return se(J,re,"atComponentBlock");if(/^@(-moz-)?document$/i.test(U))return se(J,re,"documentTypes");if(/^@(media|supports|(-moz-)?document|import)$/i.test(U))return se(J,re,"atBlock");if(/^@(font-face|counter-style)/i.test(U))return J.stateArg=U,"restricted_atBlock_before";if(/^@(-(moz|ms|o|webkit)-)?keyframes$/i.test(U))return"keyframes";if(U&&U.charAt(0)=="@")return se(J,re,"at");if(U=="hash")Me="builtin";else if(U=="word")Me="tag";else{if(U=="variable-definition")return"maybeprop";if(U=="interpolation")return se(J,re,"interpolation");if(U==":")return"pseudo";if(Re&&U=="(")return se(J,re,"parens")}return J.context.type},Ae.block=function(U,re,J){if(U=="word"){var Oe=re.current().toLowerCase();return ke.hasOwnProperty(Oe)?(Me="property","maybeprop"):Ie.hasOwnProperty(Oe)?(Me=Te?"string-2":"property","maybeprop"):Re?(Me=re.match(/^\s*:(?:\s|$)/,!1)?"property":"tag","block"):(Me+=" error","maybeprop")}else return U=="meta"?"block":!Re&&(U=="hash"||U=="qualifier")?(Me="error","block"):Ae.top(U,re,J)},Ae.maybeprop=function(U,re,J){return U==":"?se(J,re,"prop"):Fe(U,re,J)},Ae.prop=function(U,re,J){if(U==";")return we(J);if(U=="{"&&Re)return se(J,re,"propBlock");if(U=="}"||U=="{")return Be(U,re,J);if(U=="(")return se(J,re,"parens");if(U=="hash"&&!/^#([0-9a-fA-F]{3,4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/.test(re.current()))Me+=" error";else if(U=="word")ge(re);else if(U=="interpolation")return se(J,re,"interpolation");return"prop"},Ae.propBlock=function(U,re,J){return U=="}"?we(J):U=="word"?(Me="property","maybeprop"):J.context.type},Ae.parens=function(U,re,J){return U=="{"||U=="}"?Be(U,re,J):U==")"?we(J):U=="("?se(J,re,"parens"):U=="interpolation"?se(J,re,"interpolation"):(U=="word"&&ge(re),"parens")},Ae.pseudo=function(U,re,J){return U=="meta"?"pseudo":U=="word"?(Me="variable-3",J.context.type):Fe(U,re,J)},Ae.documentTypes=function(U,re,J){return U=="word"&&E.hasOwnProperty(re.current())?(Me="tag",J.context.type):Ae.atBlock(U,re,J)},Ae.atBlock=function(U,re,J){if(U=="(")return se(J,re,"atBlock_parens");if(U=="}"||U==";")return Be(U,re,J);if(U=="{")return we(J)&&se(J,re,Re?"block":"top");if(U=="interpolation")return se(J,re,"interpolation");if(U=="word"){var Oe=re.current().toLowerCase();Oe=="only"||Oe=="not"||Oe=="and"||Oe=="or"?Me="keyword":Y.hasOwnProperty(Oe)?Me="attribute":G.hasOwnProperty(Oe)?Me="property":fe.hasOwnProperty(Oe)?Me="keyword":ke.hasOwnProperty(Oe)?Me="property":Ie.hasOwnProperty(Oe)?Me=Te?"string-2":"property":vt.hasOwnProperty(Oe)?Me="atom":Ze.hasOwnProperty(Oe)?Me="keyword":Me="error"}return J.context.type},Ae.atComponentBlock=function(U,re,J){return U=="}"?Be(U,re,J):U=="{"?we(J)&&se(J,re,Re?"block":"top",!1):(U=="word"&&(Me="error"),J.context.type)},Ae.atBlock_parens=function(U,re,J){return U==")"?we(J):U=="{"||U=="}"?Be(U,re,J,2):Ae.atBlock(U,re,J)},Ae.restricted_atBlock_before=function(U,re,J){return U=="{"?se(J,re,"restricted_atBlock"):U=="word"&&J.stateArg=="@counter-style"?(Me="variable","restricted_atBlock_before"):Fe(U,re,J)},Ae.restricted_atBlock=function(U,re,J){return U=="}"?(J.stateArg=null,we(J)):U=="word"?(J.stateArg=="@font-face"&&!Ye.hasOwnProperty(re.current().toLowerCase())||J.stateArg=="@counter-style"&&!Je.hasOwnProperty(re.current().toLowerCase())?Me="error":Me="property","maybeprop"):"restricted_atBlock"},Ae.keyframes=function(U,re,J){return U=="word"?(Me="variable","keyframes"):U=="{"?se(J,re,"top"):Fe(U,re,J)},Ae.at=function(U,re,J){return U==";"?we(J):U=="{"||U=="}"?Be(U,re,J):(U=="word"?Me="tag":U=="hash"&&(Me="builtin"),"at")},Ae.interpolation=function(U,re,J){return U=="}"?we(J):U=="{"||U==";"?Be(U,re,J):(U=="word"?Me="variable":U!="variable"&&U!="("&&U!=")"&&(Me="error"),"interpolation")},{startState:function(U){return{tokenize:null,state:X?"block":"top",stateArg:null,context:new pe(X?"block":"top",U||0,null)}},token:function(U,re){if(!re.tokenize&&U.eatSpace())return null;var J=(re.tokenize||ut)(U,re);return J&&typeof J=="object"&&(Pe=J[1],J=J[0]),Me=J,Pe!="comment"&&(re.state=Ae[re.state](Pe,U,re)),Me},indent:function(U,re){var J=U.context,Oe=re&&re.charAt(0),ot=J.indent;return J.type=="prop"&&(Oe=="}"||Oe==")")&&(J=J.prev),J.prev&&(Oe=="}"&&(J.type=="block"||J.type=="top"||J.type=="interpolation"||J.type=="restricted_atBlock")?(J=J.prev,ot=J.indent):(Oe==")"&&(J.type=="parens"||J.type=="atBlock_parens")||Oe=="{"&&(J.type=="at"||J.type=="atBlock"))&&(ot=Math.max(0,J.indent-q))),ot},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",blockCommentContinue:" * ",lineComment:Ee,fold:"brace"}});function e(H){for(var W={},X=0;X<H.length;++X)W[H[X].toLowerCase()]=!0;return W}var r=["domain","regexp","url","url-prefix"],o=e(r),s=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],u=e(s),f=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid","orientation","device-pixel-ratio","min-device-pixel-ratio","max-device-pixel-ratio","pointer","any-pointer","hover","any-hover","prefers-color-scheme","dynamic-range","video-dynamic-range"],d=e(f),h=["landscape","portrait","none","coarse","fine","on-demand","hover","interlace","progressive","dark","light","standard","high"],g=e(h),m=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","all","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","binding","bleed","block-size","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-content","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-gap","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-gap","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","inset","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","left","letter-spacing","line-break","line-height","line-height-step","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","place-content","place-items","place-self","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotate","rotation","rotation-point","row-gap","ruby-align","ruby-overhang","ruby-position","ruby-span","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-type","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-orientation","text-outline","text-overflow","text-rendering","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","touch-action","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-select","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","paint-order","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode"],w=e(m),x=["accent-color","aspect-ratio","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","content-visibility","margin-block","margin-block-end","margin-block-start","margin-inline","margin-inline-end","margin-inline-start","overflow-anchor","overscroll-behavior","padding-block","padding-block-end","padding-block-start","padding-inline","padding-inline-end","padding-inline-start","scroll-snap-stop","scrollbar-3d-light-color","scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-track-color","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","shape-inside","zoom"],D=e(x),L=["font-display","font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"],N=e(L),T=["additive-symbols","fallback","negative","pad","prefix","range","speak-as","suffix","symbols","system"],C=e(T),k=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],M=e(k),O=["above","absolute","activeborder","additive","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","blur","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","brightness","bullets","button","buttonface","buttonhighlight","buttonshadow","buttontext","calc","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","conic-gradient","contain","content","contents","content-box","context-menu","continuous","contrast","copy","counter","counters","cover","crop","cross","crosshair","cubic-bezier","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","devanagari","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","drop-shadow","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ethiopic-numeric","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","georgian","grayscale","graytext","grid","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hard-light","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","hue","hue-rotate","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","japanese-formal","japanese-informal","justify","kannada","katakana","katakana-iroha","keep-all","khmer","korean-hangul-formal","korean-hanja-formal","korean-hanja-informal","landscape","lao","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","luminosity","malayalam","manipulation","match","matrix","matrix3d","media-play-button","media-slider","media-sliderthumb","media-volume-slider","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","multiple_mask_images","multiply","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","octal","opacity","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeating-conic-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturate","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","self-start","self-end","semi-condensed","semi-expanded","separate","sepia","serif","show","sidama","simp-chinese-formal","simp-chinese-informal","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","somali","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","square-button","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","tamil","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","trad-chinese-formal","trad-chinese-informal","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"],F=e(O),P=r.concat(s).concat(f).concat(h).concat(m).concat(x).concat(k).concat(O);t.registerHelper("hintWords","css",P);function j(H,W){for(var X=!1,q;(q=H.next())!=null;){if(X&&q=="/"){W.tokenize=null;break}X=q=="*"}return["comment","comment"]}t.defineMIME("text/css",{documentTypes:o,mediaTypes:u,mediaFeatures:d,mediaValueKeywords:g,propertyKeywords:w,nonStandardPropertyKeywords:D,fontProperties:N,counterDescriptors:C,colorKeywords:M,valueKeywords:F,tokenHooks:{"/":function(H,W){return H.eat("*")?(W.tokenize=j,j(H,W)):!1}},name:"css"}),t.defineMIME("text/x-scss",{mediaTypes:u,mediaFeatures:d,mediaValueKeywords:g,propertyKeywords:w,nonStandardPropertyKeywords:D,colorKeywords:M,valueKeywords:F,fontProperties:N,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(H,W){return H.eat("/")?(H.skipToEnd(),["comment","comment"]):H.eat("*")?(W.tokenize=j,j(H,W)):["operator","operator"]},":":function(H){return H.match(/^\s*\{/,!1)?[null,null]:!1},$:function(H){return H.match(/^[\w-]+/),H.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"]},"#":function(H){return H.eat("{")?[null,"interpolation"]:!1}},name:"css",helperType:"scss"}),t.defineMIME("text/x-less",{mediaTypes:u,mediaFeatures:d,mediaValueKeywords:g,propertyKeywords:w,nonStandardPropertyKeywords:D,colorKeywords:M,valueKeywords:F,fontProperties:N,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(H,W){return H.eat("/")?(H.skipToEnd(),["comment","comment"]):H.eat("*")?(W.tokenize=j,j(H,W)):["operator","operator"]},"@":function(H){return H.eat("{")?[null,"interpolation"]:H.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\b/i,!1)?!1:(H.eatWhile(/[\w\\\-]/),H.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"])},"&":function(){return["atom","atom"]}},name:"css",helperType:"less"}),t.defineMIME("text/x-gss",{documentTypes:o,mediaTypes:u,mediaFeatures:d,propertyKeywords:w,nonStandardPropertyKeywords:D,fontProperties:N,counterDescriptors:C,colorKeywords:M,valueKeywords:F,supportsAtComponent:!0,tokenHooks:{"/":function(H,W){return H.eat("*")?(W.tokenize=j,j(H,W)):!1}},name:"css",helperType:"gss"})})});var Vk=bt((Wk,$k)=>{(function(t){typeof Wk=="object"&&typeof $k=="object"?t(bn()):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],t):t(CodeMirror)})(function(t){"use strict";var e={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},r={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};t.defineMode("xml",function(o,s){var u=o.indentUnit,f={},d=s.htmlMode?e:r;for(var h in d)f[h]=d[h];for(var h in s)f[h]=s[h];var g,m;function w(E,Y){function G(Ie){return Y.tokenize=Ie,Ie(E,Y)}var fe=E.next();if(fe=="<")return E.eat("!")?E.eat("[")?E.match("CDATA[")?G(L("atom","]]>")):null:E.match("--")?G(L("comment","-->")):E.match("DOCTYPE",!0,!0)?(E.eatWhile(/[\w\._\-]/),G(N(1))):null:E.eat("?")?(E.eatWhile(/[\w\._\-]/),Y.tokenize=L("meta","?>"),"meta"):(g=E.eat("/")?"closeTag":"openTag",Y.tokenize=x,"tag bracket");if(fe=="&"){var ke;return E.eat("#")?E.eat("x")?ke=E.eatWhile(/[a-fA-F\d]/)&&E.eat(";"):ke=E.eatWhile(/[\d]/)&&E.eat(";"):ke=E.eatWhile(/[\w\.\-:]/)&&E.eat(";"),ke?"atom":"error"}else return E.eatWhile(/[^&<]/),null}w.isInText=!0;function x(E,Y){var G=E.next();if(G==">"||G=="/"&&E.eat(">"))return Y.tokenize=w,g=G==">"?"endTag":"selfcloseTag","tag bracket";if(G=="=")return g="equals",null;if(G=="<"){Y.tokenize=w,Y.state=O,Y.tagName=Y.tagStart=null;var fe=Y.tokenize(E,Y);return fe?fe+" tag error":"tag error"}else return/[\'\"]/.test(G)?(Y.tokenize=D(G),Y.stringStartCol=E.column(),Y.tokenize(E,Y)):(E.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function D(E){var Y=function(G,fe){for(;!G.eol();)if(G.next()==E){fe.tokenize=x;break}return"string"};return Y.isInAttribute=!0,Y}function L(E,Y){return function(G,fe){for(;!G.eol();){if(G.match(Y)){fe.tokenize=w;break}G.next()}return E}}function N(E){return function(Y,G){for(var fe;(fe=Y.next())!=null;){if(fe=="<")return G.tokenize=N(E+1),G.tokenize(Y,G);if(fe==">")if(E==1){G.tokenize=w;break}else return G.tokenize=N(E-1),G.tokenize(Y,G)}return"meta"}}function T(E){return E&&E.toLowerCase()}function C(E,Y,G){this.prev=E.context,this.tagName=Y||"",this.indent=E.indented,this.startOfLine=G,(f.doNotIndent.hasOwnProperty(Y)||E.context&&E.context.noIndent)&&(this.noIndent=!0)}function k(E){E.context&&(E.context=E.context.prev)}function M(E,Y){for(var G;;){if(!E.context||(G=E.context.tagName,!f.contextGrabbers.hasOwnProperty(T(G))||!f.contextGrabbers[T(G)].hasOwnProperty(T(Y))))return;k(E)}}function O(E,Y,G){return E=="openTag"?(G.tagStart=Y.column(),F):E=="closeTag"?P:O}function F(E,Y,G){return E=="word"?(G.tagName=Y.current(),m="tag",W):f.allowMissingTagName&&E=="endTag"?(m="tag bracket",W(E,Y,G)):(m="error",F)}function P(E,Y,G){if(E=="word"){var fe=Y.current();return G.context&&G.context.tagName!=fe&&f.implicitlyClosed.hasOwnProperty(T(G.context.tagName))&&k(G),G.context&&G.context.tagName==fe||f.matchClosing===!1?(m="tag",j):(m="tag error",H)}else return f.allowMissingTagName&&E=="endTag"?(m="tag bracket",j(E,Y,G)):(m="error",H)}function j(E,Y,G){return E!="endTag"?(m="error",j):(k(G),O)}function H(E,Y,G){return m="error",j(E,Y,G)}function W(E,Y,G){if(E=="word")return m="attribute",X;if(E=="endTag"||E=="selfcloseTag"){var fe=G.tagName,ke=G.tagStart;return G.tagName=G.tagStart=null,E=="selfcloseTag"||f.autoSelfClosers.hasOwnProperty(T(fe))?M(G,fe):(M(G,fe),G.context=new C(G,fe,ke==G.indented)),O}return m="error",W}function X(E,Y,G){return E=="equals"?q:(f.allowMissing||(m="error"),W(E,Y,G))}function q(E,Y,G){return E=="string"?K:E=="word"&&f.allowUnquoted?(m="string",W):(m="error",W(E,Y,G))}function K(E,Y,G){return E=="string"?K:W(E,Y,G)}return{startState:function(E){var Y={tokenize:w,state:O,indented:E||0,tagName:null,tagStart:null,context:null};return E!=null&&(Y.baseIndent=E),Y},token:function(E,Y){if(!Y.tagName&&E.sol()&&(Y.indented=E.indentation()),E.eatSpace())return null;g=null;var G=Y.tokenize(E,Y);return(G||g)&&G!="comment"&&(m=null,Y.state=Y.state(g||G,E,Y),m&&(G=m=="error"?G+" error":m)),G},indent:function(E,Y,G){var fe=E.context;if(E.tokenize.isInAttribute)return E.tagStart==E.indented?E.stringStartCol+1:E.indented+u;if(fe&&fe.noIndent)return t.Pass;if(E.tokenize!=x&&E.tokenize!=w)return G?G.match(/^(\s*)/)[0].length:0;if(E.tagName)return f.multilineTagIndentPastTag!==!1?E.tagStart+E.tagName.length+2:E.tagStart+u*(f.multilineTagIndentFactor||1);if(f.alignCDATA&&/<!\[CDATA\[/.test(Y))return 0;var ke=Y&&/^<(\/)?([\w_:\.-]*)/.exec(Y);if(ke&&ke[1])for(;fe;)if(fe.tagName==ke[2]){fe=fe.prev;break}else if(f.implicitlyClosed.hasOwnProperty(T(fe.tagName)))fe=fe.prev;else break;else if(ke)for(;fe;){var Ie=f.contextGrabbers[T(fe.tagName)];if(Ie&&Ie.hasOwnProperty(T(ke[2])))fe=fe.prev;else break}for(;fe&&fe.prev&&!fe.startOfLine;)fe=fe.prev;return fe?fe.indent+u:E.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:f.htmlMode?"html":"xml",helperType:f.htmlMode?"html":"xml",skipAttribute:function(E){E.state==q&&(E.state=W)},xmlCurrentTag:function(E){return E.tagName?{name:E.tagName,close:E.type=="closeTag"}:null},xmlCurrentContext:function(E){for(var Y=[],G=E.context;G;G=G.prev)Y.push(G.tagName);return Y.reverse()}}}),t.defineMIME("text/xml","xml"),t.defineMIME("application/xml","xml"),t.mimeModes.hasOwnProperty("text/html")||t.defineMIME("text/html",{name:"xml",htmlMode:!0})})});var Yk=bt((Uk,Gk)=>{(function(t){typeof Uk=="object"&&typeof Gk=="object"?t(bn()):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],t):t(CodeMirror)})(function(t){"use strict";t.defineMode("diff",function(){var e={"+":"positive","-":"negative","@":"meta"};return{token:function(r){var o=r.string.search(/[\t ]+?$/);if(!r.sol()||o===0)return r.skipToEnd(),("error "+(e[r.string.charAt(0)]||"")).replace(/ $/,"");var s=e[r.peek()]||r.skipToEnd();return o===-1?r.skipToEnd():r.pos=o,s}}}),t.defineMIME("text/x-diff","diff")})});function kP(){let t=new Set,e=new Map,r=o=>{let s=Vi.default.resolveMode(o),u=[...e.keys()].find(f=>Ri(f,s));return u||(e.set(s,{name:new Set,mime:new Set}),s)};for(let[o,s]of Object.entries(Vi.default.modeToMime)){let u=e.get(r(s));u.mime.add(s),u.name.add(o),t.add(o)}for(let[o,s]of Object.entries(Vi.default.mimeModes)){let u=e.get(r(o));u.mime.add(o),typeof s=="string"&&(u.name.add(s),t.add(s))}for(let[o]of Object.entries(Vi.default.modes))if(!t.has(o)){let s=Vi.default.modes[o];e.has(s)||e.set(s,{name:new Set,mime:[]}),e.get(s).name.add(o)}return[...e.values()].map(o=>({name:[...o.name],mime:[...o.mime]}))}var Vi,Yr,wP,bP,Ol,xP,Qk,Kk=I(()=>{Vi=nn(bn(),1);Hi();Yr='let name = "world";\n\nconsole.log(`Hello, ${name}!`);',wP=Function("return num => num + 5")(),bP=Function('return () => alert("Hello world!")')(),Ol="/src/views/text/source.js",xP=`diff --git a${Ol} b${Ol}
index 302b02e..62ea1be 100644
--- a${Ol}
+++ b${Ol}
@@ -18,7 +18,8 @@ CodeMirror.modeToMime = {
     html: 'text/html',
     css: 'text/css',
     scss: 'text/x-scss',
-    less: 'text/x-less'
+    less: 'text/x-less',
+    diff: 'text/x-diff'
 };
 
 function codeMirrorHighlight(modespec, host) {`;Qk={demo:{view:"source",syntax:"js",source:Yr},examples:[{title:"Supported syntaxes",beforeDemo:['md:"Following values (for both `name` and `mime`) are supported for `syntax` option:"','html:"<br>"',{view:"table",data:kP,cols:{name:{content:"comma-list:name"},mime:{content:"comma-list:mime"}}},'html:"<br>"',"md:\"More syntaxes may be added via `import 'codemirror/mode/[name]/[name]';`\""],source:!1},{title:"Diff syntax example",demo:{view:"source",syntax:"diff",source:xP}},{title:"Max content size for syntax highlight",highlightProps:["maxSourceSizeToHighlight"],beforeDemo:['md:"By default a syntax highlighing is not appling to a source longer than 250Kb. Option `maxSourceSizeToHighlight` is using to change max size of source to be syntax highlighted."'],demo:{view:"source",source:Yr,syntax:"js",maxSourceSizeToHighlight:4}},{title:"Custom line numbers",highlightProps:["lineNum"],demo:[{view:"source",source:Yr,syntax:"js",lineNum:wP},{view:"source",source:Yr,syntax:"js",lineNum:"==> $ + 12345"}]},{title:"Hide line numbers",highlightProps:["lineNum"],beforeDemo:['md:"Pass falsy value to `lineNum` option to hide line numbers:"'],demo:{view:"source",source:Yr,syntax:"js",lineNum:!1}},{title:"Customise copy source button",beforeDemo:['md:"By default, the `source` view includes a \\"copy to clipboard\\" button. To customize its behavior use the `actionCopySource` option, which accepts the following values:\\n- `true` (default) \u2013 displays a button that copies the entire source to the clipboard;\\n- A function `({ source, syntax, lineNum, refs, ... }) => string` \u2013 displays a button that calls the provided function on click to determine the text to copy;\\n- Anything else \u2013 hides the copy button, i.e. the button is not rendered."'],highlightProps:["actionCopySource"],demo:[{view:"source",actionCopySource:"==> source[0:10]",source:"// In this example, the copy button copies only the first 10 characters of the source"},{view:"source",actionCopySource:!1,source:"// This example demonstrates how to disable the default copy button"}]},{title:"Additional action buttons",highlightProps:["actionButtons"],demo:{view:"source",actionButtons:[{view:"button",content:'text:"Say \\"Hello world\\""',onClick:bP}],source:Yr,syntax:"js"}},{title:"Prelude and postlude slots",highlightProps:["prelude","postlude"],demo:{view:"source",prelude:['text:"Prelude:"',"struct:{ data: $, context: # }"],postlude:['text:"Postlude:"',"struct:{ data: $, context: # }"],source:Yr,syntax:"js"}},{title:"Highlight ranges",highlightProps:["ranges"],beforeDemo:{view:"md",source:["The `ranges` option (formerly `refs`) allows highlighting specific parts of the source text or turning them into links. The `ranges` value must be an array of objects with the following fields:",`
`,"- `range` (required) - an array of two numbers representing the start and end offsets of the span","- `className` - class name(s) for the wrapping element. This can be a string (a space-separated list of class names) or an array of strings. Predefined class names include `def`, `ref`, `global-ref`, and `error`, each specifying a particular style for the span.","- `href` - when specified, the range becomes a link (`<a>`), otherwise, the range is a regular span (`<span>`)","- `tooltip` - config for a [tooltip](#views-showcase&!anchor=tooltips), similar to tooltips in other views","- `marker` - a value added to the wrapping element as a `data-marker` attribute"]},demo:{view:"source",source:`let span = "def + ref + global-ref + error";
let link = "def + ref + global-ref + error";

// span with tooltip`,syntax:"js",ranges:[{range:[4,8]},{range:[12,15],className:"def"},{range:[18,21],className:"ref"},{range:[24,34],className:"global-ref"},{range:[37,42],className:"error"},{range:[49,53],href:"#"},{range:[57,60],href:"#",className:"def"},{range:[63,66],href:"#",className:"ref"},{range:[69,79],href:"#",className:"global-ref"},{range:[82,87],href:"#",className:"error"},{range:[104,111],href:"#example",tooltip:{position:"trigger",content:"text:`Link to ${href}`"}}]}},{title:"Marks",highlightProps:["marks"],beforeDemo:{view:"md",source:["The `marks` option allows injecting visual or text marks at specific points in the source text. The `marks` value must be an array of objects with the following fields:",`
`,"- `offset` (required) - the offset in the source where the mark is injected.","- `kind` - the type of mark, which can be one of the following: `span` (default), `dot`, `self` (self value), `nested` (nested value), `total` (total value), or `none`","- `className` - class name(s) for the wrapping element. This can be a string (a space-separated list of class names) or an array of strings. Predefined class names include `def`, `ref`, `global-ref`, `error`, and `inactive`, each specifying a particular style for the mark.","- `href` - when specified, the mark becomes a link (`<a>`), otherwise, it is a regular span (`<span>`)","- `content` - view config for content (e.g., `'text:\"hello\"'` or `{ view: 'name', ... }`). If not specified, `kind` is ignored and defaults to `dot` (since content is optional for marks of type `dot`)","- `prefix` (ignored when `kind` is `dot`) - text to display before the content of mark, styled with a dimmed color ","- `postfix` (ignored when `kind` is `dot`) - text to display after the content of mark, styled with a dimmed color","- `tooltip` - config for a [tooltip](#views-showcase&!anchor=tooltips), similar to tooltips in other views","- `marker` - a value added to the wrapping element as a `data-marker` attribute"]},demo:{view:"source",source:`let span = "def + ref + global-ref + error";
let link = "def + ref + global-ref + error";

// kinds: self nested total none
// kind="dot": default def ref global-ref error inactive
// kind="dot" with tooltip: 
// kind="dot" with href: 
// mark with tooltip`,syntax:"js",marks:[{offset:4},{offset:4,kind:"dot",content:'text:"dot with text"'},{offset:4,content:'text:"mark"'},{offset:12,className:"def",content:'text:"def"'},{offset:18,className:"ref",content:'text:"ref"'},{offset:24,className:"global-ref",content:'text:"global-ref"'},{offset:37,className:"error",content:'text:"error"'},{offset:49,href:"#"},{offset:49,href:"#",kind:"dot",content:'text:"dot with text"'},{offset:49,href:"#",content:'text:"link"'},{offset:57,href:"#",className:"def",content:'text:"def"'},{offset:63,href:"#",className:"ref",content:'text:"ref"'},{offset:69,href:"#",className:"global-ref",content:'text:"global-def"'},{offset:82,href:"#",className:"error",content:'text:"error"'},{offset:101,kind:"self",content:'text:"123"',href:"#",postfix:"ms"},{offset:106,kind:"nested",content:'text:"123"',postfix:"ms"},{offset:113,kind:"total",content:'text:"123"',postfix:"ms"},{offset:119,kind:"none",content:'text:"none"'},{offset:123,kind:"none",content:'text:"\u26A0\uFE0F"'},{offset:123,kind:"none",content:'text:"none"',prefix:"prefix",postfix:" postfix",href:"#test"},{offset:139,kind:"dot"},{offset:147,kind:"dot",className:"def"},{offset:151,kind:"dot",className:"ref"},{offset:155,kind:"dot",className:"global-ref"},{offset:166,kind:"dot",className:"error"},{offset:172,kind:"dot",className:"inactive"},...["","def","ref","global-ref","error","inactive"].map(t=>({offset:209,kind:"dot",className:t,tooltip:"text:"+JSON.stringify(t||"default")})),...["","def","ref","global-ref","error","inactive"].map(t=>({offset:235,kind:"dot",className:t,href:"#"+(t||"default")})),{offset:256,href:"#example",content:'text:"show tooltip"',tooltip:{position:"trigger",content:"text:`Link to ${href}`"}}]}}]}});function CP(t,e){let r=Qr.default.getMode(Qr.default.defaults,{name:Qr.default.modeToMime[t]||t,isDiscoveryViewDefined:o=>e.view.isDefined(o)||e.textView.isDefined(o)});return(o,s)=>{let u=Qr.default.startState(r),f=o.split(/(\n|\r\n?)/),d=0;for(let h=0;h<f.length;h++){if(h%2===0){let g=new Qr.default.StringStream(f[h],4,{lookAhead:m=>f[h+m],baseToken:function(){}});for(;!g.eol();){let m=r.token(g,u);m&&s(d+g.start,d+g.pos,m),g.start=g.pos}}d+=f[h].length}}}function AP(t,e){let r=t&&t.className,o=Array.isArray(r)?r.join(" "):typeof r=="string"?r:!1,s=e&&o?[e,o].join(" "):e||o||"";return s?` class="${s}"`:""}function ep(t,e="spotlight"){return`${AP(t,e)}${t.marker?` data-marker="${t.marker}"`:""}${typeof t.tooltipId=="number"?` data-tooltip-id="${t.tooltipId}"`:""}`}function Jk(t,e="mark"){let r=t.prefix??(["self","nested","total"].includes(t.kind)?t.kind[0].toUpperCase():void 0),o=t.postfix??void 0;return ep(t,e)+` data-render-id=${t.renderId}${t.kind?` data-kind="${t.kind}"`:""}${r!==void 0?` data-prefix="${Ve(String(r))}"`:""}${o!==void 0?` data-postfix="${Ve(String(o))}"`:""}`}function Xk(t){t.view.define("source",async function(e,r,o,s){let u=e.appendChild($("div","view-source__prelude")),f=e.appendChild($("div","view-source__content")),d=e.appendChild($("div","view-source__postlude")),h=new Map,g=new Map,m=[],w=[],{source:x,syntax:D,lineNum:L=!0,ranges:N,marks:T,maxSourceSizeToHighlight:C,actionButtons:k,actionCopySource:M,prelude:O,postlude:F}=r,P=typeof o=="string"?{source:o}:o,j={...s,sourceViewProps:{source:x,syntax:D,lineNum:L,ranges:N,marks:T,maxSourceSizeToHighlight:C}};if(typeof x!="string")return;x.length<C&&w.push([CP(D,t),{html:{open({data:E}){return'<span class="token '+E+'">'},close(){return"</span>"}}}]),Array.isArray(N)&&w.push([(E,Y)=>N.forEach(G=>{if(!G||typeof G!="object"){t.logger.warn('Bad value for an entry in "source" view props.ranges, must be an object',{props:r,entry:G});return}let fe=G.type?G.type==="spotlight"?"span":G.type:G.href?"link":"span",ke=G.range,Ie;if(!["link","span"].includes(fe)){t.logger.warn(`Bad type "${fe}" of an entry in "source" view props.ranges`,{props:r,ref:G});return}if(!ke){t.logger.warn('Missed range for an entry in "source" view props.ranges',{props:r,entry:G});return}G.tooltip&&h.set(Ie=h.size,G),Y(G.range[0],G.range[1],{...G,type:fe,tooltipId:Ie})}),DP]),Array.isArray(T)&&w.push([(E,Y)=>T.forEach(G=>{if(!G||typeof G!="object"){t.logger.warn('Bad value for an entry in "source" view props.mark, must be an object',{props:r,mark:G});return}let fe=G.content?!G.kind||["dot","self","nested","total","none"].includes(G.kind)?G.kind||"span":void 0:"dot",ke=typeof G.offset=="number"&&isFinite(G.offset)?Math.max(0,Math.round(G.offset)):void 0,Ie;if(typeof fe!="string"){t.logger.warn('Bad "kind" value for an entry in "source" view props.marks',{props:r,mark:G});return}if(typeof ke!="number"){t.logger.warn('Bad "offset" value for an entry in "source" view props.marks',{props:r,mark:G});return}G.tooltip&&h.set(Ie=h.size,G);let Ye={...G,type:typeof G.href=="string"?"link":"span",kind:fe,renderId:g.size,tooltipId:Ie};g.set(Ye.renderId,Ye),Y(ke,ke,Ye)}),SP]);let H=typeof L=="function"?L:E=>E+1,W=L?'<div class="view-source__lines">'+x.split(/\r\n?|\n/g).map((E,Y)=>"<span>"+H(Y)+"</span>").join("")+"</div>":"";if(f.innerHTML=W+`<div class="view-source__source">${(0,Zk.default)(w,"html")(x)}</div>`,g.size)for(let E of f.querySelectorAll(".mark[data-render-id]")){let Y=g.get(Number(E.dataset.renderId));Y.content&&m.push(this.render(E,Y.content,Y,j))}let X=$("div","view-source__action-buttons"),q=M!==!0?typeof M=="function"?M:null:({source:E})=>E,K=typeof q=="function"?{view:"button",className:"copy",content:[],async onClick(E){clearTimeout(E.copiedTimer),await Ut(String(q(j.sourceViewProps))),E.classList.add("copied"),E.copiedTimer=setTimeout(()=>E.classList.remove("copied"),1250)}}:null;f.prepend(X),await t.view.render(X,[k,K],P,j);for(let E of f.querySelectorAll(":scope [data-tooltip-id]")){let Y=h.get(Number(E.dataset.tooltipId));delete E.dataset.tooltipId,this.tooltip(E,Y.tooltip,Y,s)}O&&await t.view.render(u,O,P,j),F&&await t.view.render(d,F,P,j),m.length&&await Promise.all(m)},{props:EP,usage:Qk,tag:"pre"})}var Zk,Qr,h5,g5,m5,y5,DP,SP,EP,eC=I(()=>{Zk=nn(Rk(),1),Qr=nn(bn(),1),h5=nn(Sd(),1),g5=nn(_k(),1),m5=nn(Vk(),1),y5=nn(Yk(),1);$t();ze();ms();Kk();Qr.default.modeToMime={js:"application/javascript",ts:"application/typescript",typescript:"application/typescript",json:"application/json",html:"text/html",css:"text/css",scss:"text/x-scss",less:"text/x-less"};DP={html:{open({data:t}){switch(t.type){case"link":return`<a href=${JSON.stringify(t.href)}${ep(t,"spotlight")}>`;case"span":case"spotlight":return`<span${ep(t,"spotlight")}>`}},close({data:t}){switch(t.type){case"link":return"</a>";case"span":case"spotlight":return"</span>"}}}},SP={html:{open({data:t}){switch(t.type){case"link":return`<a href=${JSON.stringify(t.href)}${Jk(t,"mark")}>`;case"span":return`<span${Jk(t,"mark")}>`}},close({data:t}){switch(t.type){case"link":return"</a>";case"span":return"</span>"}}}},EP=`is not array? | {
    source: #.props has no 'source' ? is string ?: content is string ? content : source,
    syntax,
    lineNum is function ?: is not undefined ? bool() : true,
    ranges: #.props.refs or refs | is array ?: undefined,
    marks is array ?: null,
    maxSourceSizeToHighlight is number ?: 250 * 1024, // 250Kb
    actionButtons: undefined,
    actionCopySource is undefined ? true,
    prelude: undefined,
    postlude: undefined
} | overrideProps()`});var tC,nC=I(()=>{tC={demo:{view:"text",data:'"Hello world!"'},examples:[{title:"Shorthand usage",view:'text:"Hello world!"'}]}});function rC(t){t.view.define("text",function(e,{text:r}){e.appendChild(document.createTextNode(String(r)))},{tag:!1,props:TP,usage:tC})}var TP,iC=I(()=>{nC();TP=`{
    text: #.props has no 'text'?
} | overrideProps()`});var MP,LP,aC,oC,sC,lC,uC=I(()=>{MP=["char","word","wordws","sentence","line"],LP=["both","added","removed"],aC="The sun is shining brightly. Birds are singing in the trees.",oC=`The quick brown fox jumps over the lazy dog. It lands softly and runs away.
`+aC,sC=`A quick brown fox jumped over a lazy dog. It landed softly, then ran away.
`+aC,lC={demo:{view:"text-diff",before:"Hello world!",after:"Hello Discovery.js!"},examples:[{title:"Types",demoData:MP.map(t=>({type:t,before:oC,after:sC})),demo:{view:"table",cols:[{header:"Type",content:["text:type",{view:"text",when:'type="wordws"',text:" (default)"}]},{header:"Preview",content:"text-diff{ type }"}]}},{title:"Delta kinds",demoData:LP.map(t=>({delta:t,before:oC,after:sC})),demo:{view:"table",cols:[{header:"Type",content:["text:delta",{view:"text",when:'delta="both"',text:" (default)"}]},{header:"Preview",content:"text-diff{ delta }"}]}}]}});var sn,As=I(()=>{sn=class{diff(e,r,o={}){let s;typeof o=="function"?(s=o,o={}):"callback"in o&&(s=o.callback);let u=this.castInput(e,o),f=this.castInput(r,o),d=this.removeEmpty(this.tokenize(u,o)),h=this.removeEmpty(this.tokenize(f,o));return this.diffWithOptionsObj(d,h,o,s)}diffWithOptionsObj(e,r,o,s){var u;let f=k=>{if(k=this.postProcess(k,o),s){setTimeout(function(){s(k)},0);return}else return k},d=r.length,h=e.length,g=1,m=d+h;o.maxEditLength!=null&&(m=Math.min(m,o.maxEditLength));let w=(u=o.timeout)!==null&&u!==void 0?u:1/0,x=Date.now()+w,D=[{oldPos:-1,lastComponent:void 0}],L=this.extractCommon(D[0],r,e,0,o);if(D[0].oldPos+1>=h&&L+1>=d)return f(this.buildValues(D[0].lastComponent,r,e));let N=-1/0,T=1/0,C=()=>{for(let k=Math.max(N,-g);k<=Math.min(T,g);k+=2){let M,O=D[k-1],F=D[k+1];O&&(D[k-1]=void 0);let P=!1;if(F){let H=F.oldPos-k;P=F&&0<=H&&H<d}let j=O&&O.oldPos+1<h;if(!P&&!j){D[k]=void 0;continue}if(!j||P&&O.oldPos<F.oldPos?M=this.addToPath(F,!0,!1,0,o):M=this.addToPath(O,!1,!0,1,o),L=this.extractCommon(M,r,e,k,o),M.oldPos+1>=h&&L+1>=d)return f(this.buildValues(M.lastComponent,r,e))||!0;D[k]=M,M.oldPos+1>=h&&(T=Math.min(T,k-1)),L+1>=d&&(N=Math.max(N,k+1))}g++};if(s)(function k(){setTimeout(function(){if(g>m||Date.now()>x)return s(void 0);C()||k()},0)})();else for(;g<=m&&Date.now()<=x;){let k=C();if(k)return k}}addToPath(e,r,o,s,u){let f=e.lastComponent;return f&&!u.oneChangePerToken&&f.added===r&&f.removed===o?{oldPos:e.oldPos+s,lastComponent:{count:f.count+1,added:r,removed:o,previousComponent:f.previousComponent}}:{oldPos:e.oldPos+s,lastComponent:{count:1,added:r,removed:o,previousComponent:f}}}extractCommon(e,r,o,s,u){let f=r.length,d=o.length,h=e.oldPos,g=h-s,m=0;for(;g+1<f&&h+1<d&&this.equals(o[h+1],r[g+1],u);)g++,h++,m++,u.oneChangePerToken&&(e.lastComponent={count:1,previousComponent:e.lastComponent,added:!1,removed:!1});return m&&!u.oneChangePerToken&&(e.lastComponent={count:m,previousComponent:e.lastComponent,added:!1,removed:!1}),e.oldPos=h,g}equals(e,r,o){return o.comparator?o.comparator(e,r):e===r||!!o.ignoreCase&&e.toLowerCase()===r.toLowerCase()}removeEmpty(e){let r=[];for(let o=0;o<e.length;o++)e[o]&&r.push(e[o]);return r}castInput(e,r){return e}tokenize(e,r){return Array.from(e)}join(e){return e.join("")}postProcess(e,r){return e}get useLongestToken(){return!1}buildValues(e,r,o){let s=[],u;for(;e;)s.push(e),u=e.previousComponent,delete e.previousComponent,e=u;s.reverse();let f=s.length,d=0,h=0,g=0;for(;d<f;d++){let m=s[d];if(m.removed)m.value=this.join(o.slice(g,g+m.count)),g+=m.count;else{if(!m.added&&this.useLongestToken){let w=r.slice(h,h+m.count);w=w.map(function(x,D){let L=o[g+D];return L.length>x.length?L:x}),m.value=this.join(w)}else m.value=this.join(r.slice(h,h+m.count));h+=m.count,m.added||(g+=m.count)}}return s}}});function np(t,e,r){return cC.diff(t,e,r)}var tp,cC,fC=I(()=>{As();tp=class extends sn{},cC=new tp});function rp(t,e){let r;for(r=0;r<t.length&&r<e.length;r++)if(t[r]!=e[r])return t.slice(0,r);return t.slice(0,r)}function ip(t,e){let r;if(!t||!e||t[t.length-1]!=e[e.length-1])return"";for(r=0;r<t.length&&r<e.length;r++)if(t[t.length-(r+1)]!=e[e.length-(r+1)])return t.slice(-r);return t.slice(-r)}function Pl(t,e,r){if(t.slice(0,e.length)!=e)throw Error(`string ${JSON.stringify(t)} doesn't start with prefix ${JSON.stringify(e)}; this is a bug`);return r+t.slice(e.length)}function Il(t,e,r){if(!e)return t+r;if(t.slice(-e.length)!=e)throw Error(`string ${JSON.stringify(t)} doesn't end with suffix ${JSON.stringify(e)}; this is a bug`);return t.slice(0,-e.length)+r}function Ui(t,e){return Pl(t,e,"")}function Ds(t,e){return Il(t,e,"")}function op(t,e){return e.slice(0,FP(t,e))}function FP(t,e){let r=0;t.length>e.length&&(r=t.length-e.length);let o=e.length;t.length<e.length&&(o=t.length);let s=Array(o),u=0;s[0]=0;for(let f=1;f<o;f++){for(e[f]==e[u]?s[f]=s[u]:s[f]=u;u>0&&e[f]!=e[u];)u=s[u];e[f]==e[u]&&u++}u=0;for(let f=r;f<t.length;f++){for(;u>0&&t[f]!=e[u];)u=s[u];t[f]==e[u]&&u++}return u}function Gi(t){let e;for(e=t.length-1;e>=0&&t[e].match(/\s/);e--);return t.substring(e+1)}function $n(t){let e=t.match(/^\s*/);return e?e[0]:""}var dC=I(()=>{});function lp(t,e,r){return r?.ignoreWhitespace!=null&&!r.ignoreWhitespace?Bl(t,e,r):hC.diff(t,e,r)}function pC(t,e,r,o){if(e&&r){let s=$n(e.value),u=Gi(e.value),f=$n(r.value),d=Gi(r.value);if(t){let h=rp(s,f);t.value=Il(t.value,f,h),e.value=Ui(e.value,h),r.value=Ui(r.value,h)}if(o){let h=ip(u,d);o.value=Pl(o.value,d,h),e.value=Ds(e.value,h),r.value=Ds(r.value,h)}}else if(r){if(t){let s=$n(r.value);r.value=r.value.substring(s.length)}if(o){let s=$n(o.value);o.value=o.value.substring(s.length)}}else if(t&&o){let s=$n(o.value),u=$n(e.value),f=Gi(e.value),d=rp(s,u);e.value=Ui(e.value,d);let h=ip(Ui(s,d),f);e.value=Ds(e.value,h),o.value=Pl(o.value,s,h),t.value=Il(t.value,s,s.slice(0,s.length-h.length))}else if(o){let s=$n(o.value),u=Gi(e.value),f=op(u,s);e.value=Ds(e.value,f)}else if(t){let s=Gi(t.value),u=$n(e.value),f=op(s,u);e.value=Ui(e.value,f)}}function Bl(t,e,r){return gC.diff(t,e,r)}var jl,NP,sp,hC,ap,gC,mC=I(()=>{As();dC();jl="a-zA-Z0-9_\\u{C0}-\\u{FF}\\u{D8}-\\u{F6}\\u{F8}-\\u{2C6}\\u{2C8}-\\u{2D7}\\u{2DE}-\\u{2FF}\\u{1E00}-\\u{1EFF}",NP=new RegExp(`[${jl}]+|\\s+|[^${jl}]`,"ug"),sp=class extends sn{equals(e,r,o){return o.ignoreCase&&(e=e.toLowerCase(),r=r.toLowerCase()),e.trim()===r.trim()}tokenize(e,r={}){let o;if(r.intlSegmenter){let f=r.intlSegmenter;if(f.resolvedOptions().granularity!="word")throw new Error('The segmenter passed must have a granularity of "word"');o=Array.from(f.segment(e),d=>d.segment)}else o=e.match(NP)||[];let s=[],u=null;return o.forEach(f=>{/\s/.test(f)?u==null?s.push(f):s.push(s.pop()+f):u!=null&&/\s/.test(u)?s[s.length-1]==u?s.push(s.pop()+f):s.push(u+f):s.push(f),u=f}),s}join(e){return e.map((r,o)=>o==0?r:r.replace(/^\s+/,"")).join("")}postProcess(e,r){if(!e||r.oneChangePerToken)return e;let o=null,s=null,u=null;return e.forEach(f=>{f.added?s=f:f.removed?u=f:((s||u)&&pC(o,u,s,f),o=f,s=null,u=null)}),(s||u)&&pC(o,u,s,null),e}},hC=new sp;ap=class extends sn{tokenize(e){let r=new RegExp(`(\\r?\\n)|[${jl}]+|[^\\S\\n\\r]+|[^${jl}]`,"ug");return e.match(r)||[]}},gC=new ap});function cp(t,e,r){return yC.diff(t,e,r)}function OP(t,e){e.stripTrailingCr&&(t=t.replace(/\r\n/g,`
`));let r=[],o=t.split(/(\n|\r\n)/);o[o.length-1]||o.pop();for(let s=0;s<o.length;s++){let u=o[s];s%2&&!e.newlineIsToken?r[r.length-1]+=u:r.push(u)}return r}var up,yC,vC=I(()=>{As();up=class extends sn{constructor(){super(...arguments),this.tokenize=OP}equals(e,r,o){return o.ignoreWhitespace?((!o.newlineIsToken||!e.includes(`
`))&&(e=e.trim()),(!o.newlineIsToken||!r.includes(`
`))&&(r=r.trim())):o.ignoreNewlineAtEof&&!o.newlineIsToken&&(e.endsWith(`
`)&&(e=e.slice(0,-1)),r.endsWith(`
`)&&(r=r.slice(0,-1))),super.equals(e,r,o)}},yC=new up});function PP(t){return t=="."||t=="!"||t=="?"}function dp(t,e,r){return wC.diff(t,e,r)}var fp,wC,bC=I(()=>{As();fp=class extends sn{tokenize(e){var r;let o=[],s=0;for(let u=0;u<e.length;u++){if(u==e.length-1){o.push(e.slice(s));break}if(PP(e[u])&&e[u+1].match(/\s/)){for(o.push(e.slice(s,u+1)),u=s=u+1;!((r=e[u+1])===null||r===void 0)&&r.match(/\s/);)u++;o.push(e.slice(s,u+1)),s=u+1}}return o}},wC=new fp});var xC=I(()=>{fC();mC();vC();bC()});function CC(t){t.view.define("text-diff",function(e,r){let{type:o,before:s,after:u,delta:f}=r,d=kC[o](s,u),h=f==="both"||f==="added",g=f==="both"||f==="removed";for(let{added:m,removed:w,value:x}of d){let D=e;if(m||w){if(m?!h:!g)continue;D=e.appendChild($("span",m?"added":"removed"))}D.append(x)}},{props:IP,usage:lC})}var kC,IP,AC=I(()=>{Al();uC();xC();kC={char:np,word:lp,wordws:Bl,sentence:dp,line:cp},IP=`is not array? | {
    before,
    after,
    delta: undefined,
    type: undefined
} | overrideProps() | {
    before is string ?: '',
    after is string ?: '',
    delta | $ in ['added', 'removed', 'both'] ?: 'both',
    type | $ in ${JSON.stringify(Object.keys(kC))} ?: 'wordws'
}`});var DC,SC=I(()=>{DC={demo:{view:"text-match",data:{text:"I am matched text or a text with matches!",match:/match/}},examples:[{title:"Raw string as match",demo:{view:"text-match",data:{text:"I am matched text or a text with matches!",match:"match"}}},{title:"Using with a link",demo:{view:"link",data:{href:"#"},content:'text-match:{ text: "Test link", match: /\\w+/i }'}},{title:"Various configurations",demo:{view:"table",cols:[{header:"text-match",content:"text-match"},{header:"Config",content:"struct"}],data:[null,{},{},{match:"test"},{match:"Test"},{match:"test",ignoreCase:!0},{match:"Test",ignoreCase:!0},{match:/test/},{match:/test/g},{match:/test/i},{match:/test/,ignoreCase:!0},{match:/test/g,ignoreCase:!0}].map((t,e)=>e>1?{text:"test Test",...t}:t)}}]}});function EC(t){t.view.define("text-match",function(e,r){let{text:o,match:s,ignoreCase:u}=r;hr(String(o),s,f=>e.append(f),f=>e.appendChild(jP.cloneNode()).append(f),u)},{tag:!1,props:BP,usage:DC})}var jP,BP,TC=I(()=>{ze();gs();SC();jP=$("span","view-text-match"),BP=`is not array? | {
    text: #.props has no 'text' ? text,
    match,
    ignoreCase: ignoreCase or false
} | overrideProps()`});var MC,LC=I(()=>{MC={demo:{view:"text-numeric",data:'"Like a `text` view but adds a thousands separator to integer part of numbers, e.g. 12345678 or 12345.67890"'},examples:[{title:"Shorthand usage",view:"text-numeric:1234567"}]}});function FC(t){t.view.define("text-numeric",function(e,{text:r}){e.innerHTML=yt(r)},{tag:"span",props:zP,usage:MC})}var zP,NC=I(()=>{$t();LC();zP=`{
    text: #.props has no 'text'?
} | overrideProps()`});var OC,PC=I(()=>{OC={beforeDemo:['md:"A non-visual view used to group views, manage their visibility, or explicitly define data and context for nested views. In the example, the `context` view sets up specific data and context, allowing nested views (`content`) to utilize these shared definitions directly:"'],demo:{view:"context",data:{name:"World",age:"1000 years"},context:'{ ...#, greeting: "Hello" }',content:["text:`${#.greeting}, ${name}!`","table"]},examples:[{title:"Using with modifiers",demo:{view:"context",modifiers:['h2:"Modifiers"',{view:"input",name:"inputValue"},{view:"select",name:"selectValue",data:["foo","bar","baz"]}],content:['h2:"Values"',"struct{ expanded: 1, data: # }"]}}]}});function IC(t){t.view.define("context",async function(e,r,o,s){let{modifiers:u=[],content:f=[],proxy:d,onInit:h,onChange:g}=r,m=s,w=null,x=!1;await this.render(e,this.composeConfig(u,{onInit:T,onChange:T}),o,s);let D=e.appendChild(document.createComment('{ view: "context" } content start')),L=e.appendChild(document.createComment('{ view: "context" } content end'));d&&(h||g)&&(f=this.composeConfig(f,{onInit:h,onChange:g})),x=!0,await N();async function N(){let C=L.previousSibling;for(;C&&C!==D;)C=C.previousSibling,C.nextSibling.remove();let k=w=document.createDocumentFragment();await t.view.render(k,f,o,m),k===w&&(t.view.adoptFragment(k,D),D.after(k),w=null)}function T(C,k){k&&(!De(m,k)||m[k]!==C)&&(m={...m,[k]:C},x?(N(),d&&typeof g=="function"&&g(C,k)):typeof h=="function"&&h(C,k))}},{tag:!1,props:RP,usage:OC})}var RP,jC=I(()=>{it();PC();RP=`#.props | {
    modifiers is array ?: is truthy ? [$] : [],
    content,
    proxy.bool(),
    onInit,
    onChange
}`});var BC,zC=I(()=>{BC={beforeDemo:['md:"A non-visual view that conditionally renders a single matching section from the provided content. It sequentially evaluates each item\'s `when` expression and renders the content of the first truthy condition. If an item has no `when` property, its condition defaults to truthy, enabling unconditional rendering, often used as a fallback or default content."'],demo:{view:"switch",content:[{when:"expr",content:'text:"Renders when `expr` is truthy"'},{content:'text:"Renders when all other `when` conditions are falsy"'}]},examples:[{title:"Using with context and a modifier",demo:{view:"context",modifiers:{view:"tabs",tabs:["foo","bar","baz"],name:"section"},content:{view:"switch",content:[{when:'#.section="foo"',content:'text:"Content for `foo`"'},{when:'#.section="bar"',content:'text:"Content for `bar`"'},{content:'text:"No content is found for `" + #.section + "`"'}]}}}]}});function RC(t){t.view.define("switch",function(e,r,o,s){let{content:u}=r,f='alert-warning:"No case choosen"';if(Array.isArray(u))for(let d=0;d<u.length;d++){let h=u[d];if(h&&t.queryBool(h.when||!0,o,s)){f="data"in h?{view:"context",data:h.data,content:h.content}:h.content;break}}return t.view.render(e,f,o,s)},{tag:!1,usage:BC})}var HC=I(()=>{zC()});var qC,_C=I(()=>{qC={beforeDemo:['md:"The `text-render` view renders data as text using the `Model#textView` API. For a full list of available text views, refer to the [`text`](#views-showcase&render=text) section."'],demo:{view:"text-render",content:['text:"hello!"',{view:"ul",data:[1,2,3,4],item:'text:"item #" + $'},{view:"table",data:[{name:"foo",size:1e3},{name:"bar",size:123},{name:"baz",size:34555}]}]}}});function WC(t){t.view.define("text-render",async function(e,r,o,s){let{content:u}=r,f=await t.textView.render("block",u,o,s);e.append(t.textView.serialize(f).text)},{tag:"pre",usage:qC}),t.view.define("text-render-tree",async function(e,r,o,s){let{content:u,expanded:f=2}=r,d=await t.textView.render("block",u,o,s);return this.render(e,{view:"struct",expanded:f},t.textView.cleanUpRenderTree(d))},{tag:!1})}var $C=I(()=>{_C()});function pp(t,e,r){for(let o in t){if(!De(t,o))continue;let s;r.dictMode?(s=r.dictMode,s.count++,s.keys.add(o)):r.properties.has(o)?(s=r.properties.get(o),s.count++):(s={count:1,map:Object.create(null)},r.properties.set(o,s)),Yi(t[o],e-1,s.map)}}function Yi(t,e,r=Object.create(null)){let o=t===null?"null":_t(t)?"array":Mn(t)?"set":typeof t;switch(o){default:o in r||(r[o]=new Map),r[o].set(t,(r[o].get(t)||0)+1);break;case"object":"object"in r||(r.object=new Map,r.object.count=0,r.object.properties=e?new Map:null,r.object.dictMode=null,r.object.sortKeys=!1),r.object.count++,r.object.has(t)?r.object.set(t,r.object.get(t)+1):(r.object.set(t,1),e&&pp(t,e,r.object));break;case"array":"array"in r||(r.array=new Map,r.array.count=0,r.array.map=Object.create(null)),r.array.count++,r.array.set(t,(r.array.get(t)||0)+1);for(let s=0;s<t.length;s++)Yi(t[s],e,r.array.map);break;case"set":"set"in r||(r.set=new Map,r.set.count++,r.set.map=Object.create(null)),r.set.count++,r.set.set(t,(r.set.get(t)||0)+1);for(let s of t)Yi(s,e,r.set.map);break}return r}var VC=I(()=>{wn();it()});var zl,Ss,hp=I(()=>{zl=["rgba(83,211,75,0.75)","rgba(241,235,44,0.75)","rgba(244,152,99,0.75)","rgba(148,99,244,0.75)","rgba(44,132,241,0.75)","rgba(233,117,117,0.75)","rgba(85,187,155,0.75)","rgba(151,147,99,0.75)","rgba(216,107,196,0.75)","rgba(108,204,227,0.75)","rgba(164,164,164,0.75)"],Ss=["null","undefined","string","number","bigint","boolean","symbol","function","array","set","object"]});function Qi(t,e,r,o,s=[],u="",f=null){Object.keys(e).sort((d,h)=>Ss.indexOf(d)-Ss.indexOf(h)).forEach((d,h,g)=>{switch(h>0&&t.append(" | "),d){default:{let m=t.appendChild($("span","type",d));r.set(m,{type:"type",context:o,path:s,stat:e,name:d});break}case"object":{let m=e[d],{properties:w,dictMode:x,sortKeys:D}=m;if(w===null){r.set(t.appendChild($("span","expand","{\u2026}")),{type:"expand",context:o,path:s,stat:e,map:e[d],offset:u});break}if(w.size===0){t.appendChild($("span","object","{}"));break}let L=m.size,N=x?[["[key]",x]]:[...w.entries()],T=u+"    ",C=t.appendChild($("span","object",["{",$("span",{"data-action":"collapse"})])),k=$("div",{class:"object-entries",style:`--object-entries-offset: ${u.length}`});w.size>1&&(C.appendChild($("span",{title:"Toggle dictionary mode (collapse all the values in a single signature)","data-action":"dict-mode","data-enabled":x!==null})),N.some(([M],O)=>O!==0&&M<N[O-1][0])&&C.appendChild($("span",{title:"Toggle keys sorting","data-action":"sort-keys","data-enabled":D})),D&&N.sort(([M],[O])=>M<O?-1:M>O?1:0)),r.set(C,{type:"shape",context:o,path:s,map:e[d],offset:u}),(L>1||g.length>1||f!==null&&Object.keys(f).length>1)&&(C.appendChild($("span","count")).dataset.value=String(L));for(let[M,{count:O,map:F}]of N){let P=$("span","property",[M]);r.set(P,{type:"property",context:o,path:s,stat:e,name:M,map:F}),k.append(T),k.append(P),O!==L&&x===null&&P.append($("span","optional","?")),k.append(": "),Qi(k,F,r,o,s.concat(x?"*":M),T),k.append(`;
`)}C.append(k),C.append(u,"}");break}case"array":t.append("["),Qi(t,e[d].map,r,o,s,u),t.append("]");break;case"set":t.append("Set("),Qi(t,e[d].map,r,o,s,u),t.append(")");break}})}var UC=I(()=>{ze();hp()});function Ki(t,e){return t.toFixed(e).replace(/\.?0+$/,"")}function GC(t){let e=Math.cos(2*Math.PI*t),r=Math.sin(2*Math.PI*t);return[e,r]}function YC(t){let e=0;return['<svg viewBox="-1 -1 2 2" class="pie">',...t.map(r=>{let[o,s]=GC(e),[u,f]=GC(e+=r.percent),d=r.percent>.5?1:0;return`<path d="${[`M ${o} ${s}`,`A 1 1 0 ${d} 1 ${u} ${f}`,"L 0 0"].join(" ")}" fill="${r.color}" stroke="black" stroke-width=".0025"/>`}),"</svg>"].join(`
`)}function HP(t){let e=0;for(let r in t)t[r].forEach(o=>e+=o);return e}function qP(t){let e=Object.create(null);for(let r in t)e[r]=0,t[r].forEach(o=>e[r]+=o);return e}function QC(t,e,r){let{context:o,path:s,stat:u,name:f}=e,d=u.object,{map:h,count:g}=d.dictMode||d.properties.get(f),m=d.dictMode?d.dictMode.count:d.size,w={name:f,path:r.pathToQuery(s),total:m,count:g,percent:Ki(100*g/m,1)+"%"};r.view.render(t,[{view:"block",when:"path",className:"path",content:"text:path"},{view:"h1",className:"property",content:["text:name",{view:"html",when:"count != total",data:`"<span class=\\"usage-stat optional\\">" + (
                        "(in <span class=\\"num\\">" + count + "</span> of <span class=\\"num\\">" + total + "</span> objects, <span class=\\"num\\">" + percent + "</span>)"
                    ) + "</span>"`}]}],w,o),KC(t,{context:o,map:h,count:g},r)}function KC(t,{context:e,map:r,count:o},s){let u=qP(r),f=[],d=Ss.filter(h=>h in r);Object.entries(u).sort(([,h],[,g])=>g-h).forEach(([h,g],m)=>{f.push({name:Ve(h),count:g,percent:g/o,percent100:Ki(100*g/o,1),color:zl[m]})}),s.view.render(t,{view:"block",when:"typeStat.size() > 1",data:"typeStat",className:"pie-stat",content:[{view:"block",content:{view:"html",data:YC}},{view:"block",content:['html:"<span class=\\"list-header\\">Types usage:</span>"',{view:"list",item:`html:
                            "<span class=\\"dot\\" style=\\"--size: 10px; background-color: " + color + "\\"></span> " +
                            "<span class=\\"caption\\">" + name + "</span>" +
                            "<span class=\\"times\\"> \xD7 " + count + " (" + percent100 + "%)</span>"
                        `}]}]},f,e),d.forEach(h=>gp(t,{context:e,name:h,stat:r},s))}function gp(t,e,r){let o=e.context,s=e.stat[e.name],u=HP(e.stat),f=[],d=[],h;switch(e.name){case"number":{let g=[],m=0,w=0,x=0,D=1/0,L=-1/0;s.forEach((N,T)=>{g.push({count:N,value:T}),m+=T*N,w+=N,N>1&&x++,T<D&&(D=T),T>L&&(L=T)}),h={type:e.name,count:w,distinct:s.size,duplicated:x,min:D,max:L,sum:m,avg:Ki(m/w,3),values:g.sort((N,T)=>T.count-N.count||N.value-T.value)},h.distinct>1&&f.push({view:"block",className:"overview-stat",content:`html:
                        "range: (min) <span class=\\"num\\">" + min + "</span> ... " +
                        "<span class=\\"num\\">" + max + "</span> (max), " +
                        "avg: <span class=\\"num\\">" + avg + "</span>"
                    `});break}default:{let g=[],m=0,w=0;s.forEach((x,D)=>{g.push({count:x,value:D}),m+=x,x>1&&w++}),h={type:e.name,count:m,distinct:s.size,duplicated:w,values:e.name==="object"||e.name==="array"||e.name==="set"?g.sort((x,D)=>D.count-x.count):g.sort((x,D)=>D.count-x.count||x.value>D.value||-(x.value<D.value))};break}}if(e.name!=="undefined"&&e.name!=="null"){if(f.unshift({view:"block",className:"overview-stat",content:['html:"<span class=\\"num\\">" + count + "</span> " + (count > 1 ? "values, " : "value")',{view:"switch",when:"count > 1",content:[{when:"distinct = 1",content:'text:"a single unique value:"'},{when:"distinct = count",content:'text:"all unique, no duplicates"'},{content:['html:"<span class=\\"num\\">" + distinct + "</span> unique, "','html:duplicated = distinct ? "all occur more than once" : "<span class=\\"num\\">" + duplicated + "</span> occur more than once"']}]}]}),h.values.length>1&&h.duplicated&&e.name!=="object"&&e.name!=="set"&&e.name!=="array"){let g=[],m=h.values.length===10?10:Math.min(9,h.values.length),w=0;for(let x=0;x<m;x++){let{count:D,value:L}=h.values[x];w+=D,g.push({name:Ve(String(L)),count:D,percent:D/h.count,percent100:Ki(100*D/h.count,1),color:zl[x]})}if(g.length){let x=h.count-w;x>0&&g.push({name:"...",count:x,percent:x/h.count,percent100:Ki(100*x/h.count,1),color:zl[g.length]}),d.push({view:"button",className:"group",when:"#.actions | queryAcceptChanges and querySubquery",onClick(D,L,N){let T=L.path?[...L.path]:[],C=T.pop(),k=r.pathToQuery(T),M=N.rootData;N.actions.queryAcceptChanges(M)&&N.actions.querySubquery(`${k}${k?".group(":"group("}=>${r.pathToQuery([C])}).sort(value.size() desc)`,M)}}),f.push({view:"block",className:"pie-stat",data:g,content:[{view:"block",content:{view:"html",data:YC}},{view:"block",content:['html:"<span class=\\"list-header\\">Dominators:</span>"',{view:"list",item:`html:
                                        "<span class=\\"dot\\" style=\\"--size: 10px; background-color: " + color + "\\"></span> " +
                                        "<span class=\\"caption\\" title=\\"" + name + "\\">" + name + "</span>" +
                                        "<span class=\\"times\\"> \xD7 " + count + " (" + percent100 + "%)</span>"
                                    `}]}]})}}h.values.length>1?(e.name==="number"||e.name==="string")&&f.push({view:"content-filter",name:"filter",data:"values.sort(value ascN)",content:{view:e.name==="string"?"list":"menu",className:"struct-list",data:".[no #.filter or value~=#.filter]",emptyText:"Nothing matched",item:[e.name==="string"?{view:"struct",data:"value",match:"=#.filter"}:{view:"block",className:"caption",content:"text-match:{ text: value, match: #.filter }"},{view:"block",when:"count > 1",className:"count",content:'text:" \xD7 " + count'}]}}):(e.name==="number"||e.name==="string"||e.name==="boolean")&&f.push({view:"struct",data:"values[].value"}),e.name==="object"&&f.push({view:"list",className:"struct-list",data:"values",item:["struct:value",{view:"block",when:"count > 1",className:"count",content:'text:" \xD7 " + count'}]}),(e.name==="array"||e.name==="set")&&Object.keys(s.map).length&&f.push({view:"block",className:e.name==="array"?"array-types":"set-types",postRender(g){KC(g,{...s,context:o},r)}})}r.view.render(t,[{view:"block",when:"path",className:"path",data:g=>r.pathToQuery(g.path),content:"text"},{view:"block",className:"signature-action-buttons",content:d},{view:"h1",className:"type",content:["text:name",`html:"<span class=\\"usage-stat\\">" + (
                    count = total
                        ? "only this type is used"
                        : "used in <span class=\\"num\\">" + count + "</span> of <span class=\\"num\\">" + total + "</span> cases (<span class=\\"num\\">" + percent + "</span>)"
                ) + "</span>"`]},...f],{...h,name:e.name,path:e.path,total:u,percent:Ki(100*h.count/u,1)+"%"},o)}var JC=I(()=>{$t();hp()});var ZC,XC=I(()=>{ZC={beforeDemo:['md:"The `signature` view is used to output a type definition for current data using TypeScript like style:"'],demo:{view:"signature",expanded:!0}}});function e1(t){let e=new WeakMap,r=({target:o})=>{let s="expand",u=o.closest(`
            .view-signature .expand,
            .view-signature [data-action]
        `);if(!u)return;u.dataset.action&&(s=u.dataset.action,u=u.parentNode);let f=e.get(u);if(f){let{context:d,path:h,stat:g,map:m,offset:w}=f,x=document.createDocumentFragment();switch(s){case"sort-keys":m.sortKeys=!m.sortKeys;break;case"dict-mode":if(m.dictMode)m.dictMode=null;else{let D=m.dictMode={keys:new Set,count:0,map:Object.create(null)};m.forEach((L,N)=>{for(let T in N)De(N,T)&&(D.keys.add(T),D.count++,Yi(N[T],1,D.map))})}break;default:m.properties===null?(m.properties=new Map,m.forEach((D,L)=>pp(L,1,m))):m.properties=null}Qi(x,{object:m},e,d,h,w,g),u.replaceWith(x)}};t.addHostElEventListener("click",r,!1),new t.view.Popup({className:"signature-details",hoverPin:"trigger-click",hoverTriggers:`
            .view-signature .property,
            .view-signature .type
        `,render(o,s){let u=e.get(s);switch(u.type){case"property":return QC(o,u,t);case"type":return gp(o,u,t)}}}),t.view.define("signature",function(o,s,u,f){let{expanded:d,path:h}=s,g=Yi(u,d),m=Array.isArray(h)?h:void 0,w="rootData"in s?s.rootData:!m||m.length===0?u:void 0;Qi(o,g,e,{...f,rootData:w},m)},{usage:ZC})}var t1=I(()=>{it();VC();UC();JC();XC()});function Gt(t,e){return`<span class="${t}">${e}</span>`}function mp(t){return Gt("more",`\u2026 ${yt(t)} more`)}function Ji(t){return Ve(Zi(t))}function Zi(t){return/[^\x20\x21\x23-\x5B\x5D-\uD799]/.test(t)?JSON.stringify(t).slice(1,-1):t}function Kr(t,e,r){switch(typeof t){case"boolean":case"undefined":return Gt("keyword",String(t));case"number":case"bigint":return Gt("number",yt(t));case"symbol":return Gt("symbol",String(t));case"function":return"\u0192n";case"string":{let o=t.length,s=e?r.maxCompactStringLength:r.maxStringLength,u=o>s+r.allowedExcessStringLength,f="",d="",h="";if(u){if(r.match){let g=[],m=s>30?10:5,w=s-m,x=0,D=-1;if(hr(t,r.match,L=>{x+=L.length},(L,N)=>{if(D===-1&&(D=x+w),x<D&&g.push({start:x,end:x+L.length}),x+=L.length,x>D)return N}),g.length>0){let L=g[0].start,N=s;if(L!==0){let T=Zi(t.slice(0,L));if(L>m){let k=m-2;d=Gt("more prefix",""),f=T.slice(-k),N-=m}else f=T}for(let T=0;T<g.length&&N>0;T++){let{start:C,end:k}=g[T],M=Math.min(k-C,N);if(f+=Gt("match",Ji(t.slice(C,C+M))),N-=M,N>0){let O=T+1>=g.length,F=O?t.length:g[T+1].start,P=Math.min(F-k,N);if(O){let j=t.length-(k+P);j>0&&(h=Gt("more suffix",yt(j)))}P>0&&(f+=Ji(t.slice(k,k+P)),N-=P)}}}}f===""&&(f=Ji(t.slice(0,s)),h=Gt("more suffix",yt(o-s)))}else r.match?hr(t,r.match,g=>{f+=Ji(g)},g=>{f+=Gt("match",Ji(g))}):f=Ji(t);return Gt("string",!e&&(t[0]==="h"||t[0]==="/")&&_P.test(t)?`"${d}<a href="${Ve(t)}" target="_blank">${f}</a>${h}"`:`"${d}${f}${h}"`)}case"object":{if(t===null)return Gt("keyword","null");if(_t(t)){let f=t.length,d=r.limitCollapsed===!1||r.limitCollapsed>f?f:r.limitCollapsed,h=Array.from({length:d},(g,m)=>Kr(t[m],!0,r));return f>d&&h.push(`${mp(f-d)} `),`[${h.join(", ")}]`}if(is(t))return`<span class="error-value"><span class="error-value__name">${Ve(t.name)}</span>`+(e?"":`<span class="error-value__message">${Ve(t.message)}</span>`)+"</span>";switch(rn(t)){case"[object Set]":{let f=t.size,d=r.limitCollapsed===!1||r.limitCollapsed>f?f:r.limitCollapsed,h=t.values(),g=Array.from({length:d},()=>Kr(h.next().value,!0,r));return f>d&&g.push(`${mp(f-d)} `),`[${g.join(", ")}]`}case"[object Date]":return Gt("date",String(t));case"[object RegExp]":return Gt("regexp",String(t))}if(e&&r.limitCompactObjectEntries===0){for(let f in t)if(De(t,f))return"{\u2026}";return"{}"}let o=e?r.limitCompactObjectEntries===!1?1/0:r.limitCompactObjectEntries:r.limitCollapsed===!1?1/0:r.limitCollapsed,s=[],u=0;for(let f in t)if(De(t,f)){if(u<o){let d=Ve(f.length>r.maxCompactPropertyLength?f.slice(0,r.maxCompactPropertyLength)+"\u2026":f);s.push(`${Gt("property",d)}: ${Kr(t[f],!0,r)}`)}u++}return u>o&&s.push(mp(u-o)),s.length?`{ ${s.join(", ")} }`:"{}"}default:return`unknown type "${typeof t}"`}}var _P,yp=I(()=>{$t();it();wn();gs();_P=/^(?:https?:)?\/\/(?:[a-z0-9\-]+(?:\.[a-z0-9\-]+)+|\d+(?:\.\d+){3})(?:\:\d+)?(?:\/\S*?)?$/i});var n1,r1=I(()=>{yp();n1=(t,e,r,o,s,u,f)=>({target:d})=>{let h="expand",g=d.closest(`
        .view-struct.struct-expand,
        .view-struct .struct-expand-value,
        .view-struct .struct-action-button
    `);if(g)switch(g.dataset.action&&(h=g.dataset.action),h){case"expand":g.classList.contains("struct-expand")&&(g=g.lastChild),t(g,0),r(),g.parentNode.classList.add("struct-expanded-value"),s.has(g.parentNode)&&g.parentNode.classList.remove("struct-expand");break;case"collapse":g=g.parentNode,e(g),r(),g.parentNode.classList.remove("struct-expanded-value"),g.classList.remove("view-as-table"),s.has(g.parentNode)&&g.parentNode.classList.add("struct-expand");break;case"show-signature":f.show(g);break;case"value-actions":u.show(g);break;case"toggle-sort-keys":t(g.parentNode,0,g.parentNode.classList.toggle("sort-keys")),r();break;case"toggle-string-mode":{g=g.parentNode;let m=g.classList.toggle("string-value-as-text");for(let w=g.querySelector(".string-text").firstChild;w!==null;w=w.nextSibling){let x=w.nodeType===3?w:w.firstChild,D=x.nodeValue;if(m)D.indexOf("\\")!==-1&&(x.nodeValue=JSON.parse(`"${D}"`));else{let L=Zi(D);L!==D&&(x.nodeValue=L)}}break}case"toggle-view-as-table":g=g.parentNode,g.classList.toggle("view-as-table")?o(g):g.querySelector(":scope > .view-table")?.remove();break}}});function i1(t){return t?", "+yt(t)+" bytes":""}function WP(t){for(;t.parent!==null;)t=t.parent;return t.host[""]}function o1(t,e,r,o){return new t.view.Popup({className:"view-struct-actions-popup",render(s,u,f){let d=u.parentNode,h=e.get(d),g=[];if(typeof h=="string")g=[{text:"Copy as quoted string",action:()=>Ut(JSON.stringify(h))},{text:"Copy as unquoted string",action:()=>Ut(JSON.stringify(h).slice(1,-1))},{text:"Copy a value (unescaped)",action:()=>Ut(h)}];else{let m=t.pathToQuery(o(d)),w=1024*1024*1024,x=!1,D=!1,L=0,N=0;try{let{bytes:T,spaceBytes:C,circular:k}=Mr(h,{space:4});k.length?(x="Converting circular structure to JSON",D="Converting circular structure to JSON"):(L=T-C,N=T+2,L>w&&(D="Resulting JSON is over 1 Gb"),N>w&&(x="Resulting JSON is over 1 Gb"))}catch(T){D=x=/Maximum call stack size|too much recursion/i.test(T.message)?"Too much nested structure":T.message}if(D&&(D="Can't be copied: "+D),x&&(x="Can't be copied: "+x),m){g.push({text:"Copy path:",notes:Ve(m),action:()=>Ut(m)});let T=r.get(d),C=WP(T);t.action.has("queryAcceptChanges")&&t.action.call("queryAcceptChanges",C)&&(t.action.has("querySubquery")&&g.push({groupStart:!0,text:"Create a subquery from the path",action:()=>t.action.call("querySubquery",m,C)}),t.action.has("queryAppend")&&g.push({text:"Append path to current query",action:()=>t.action.call("queryAppend",m,C)}))}g.push({groupStart:!0,text:"Copy as JSON",notes:`(formatted${i1(N)})`,error:x,disabled:!!x,action:()=>Ut(JSON.stringify(h,null,4))}),g.push({text:"Copy as JSON",notes:`(compact${i1(L)})`,error:D,disabled:!!D,action:()=>Ut(JSON.stringify(h))})}t.view.render(s,{view:"menu",onClick(m){f(),m.action()},itemConfig:{className:'=groupStart ? "group-start" : null'},item:["html:text",{view:"block",when:"notes",className:"notes",content:"html:notes"},{view:"block",when:"error",className:"error",content:"text:error"}]},g)}})}var s1=I(()=>{$t();Bi();ms()});function vp(t,e){return Array.isArray(t)?Array.isArray(e)?t.concat(e):t:e}function Rl(t){return Array.isArray(t)&&t.length>0?t.map(e=>typeof e=="string"||typeof e=="function"?{query:e}:e):!1}function VP(t){if(typeof t=="string"&&t.length>64){let e=Br(t);if(e!==null)return{place:"before",style:"badge",text:"image",imageContent:e,tooltip:{className:"view-struct_image-preview-tooltip",content:"image-preview{ src: #.config.imageContent | `data:image/${type},${content}` }"}}}}function l1(t){let e=[...t.objectMarkers.values].map(({name:r,lookup:o})=>(s,u)=>{let f=o(s,!0);if(f!==null&&f.object!==u.host)return{place:"before",style:"badge",text:r,href:f.href}});return Rl([...e,VP])}function u1(t,e){return vp(e,Rl(t))}function UP(t){return $P.includes(t)}function c1(t){let e=Date.now()+8,r=0;for(;r<t.length&&!(Date.now()>e);r++){let{el:o,config:s,renderer:u,data:f,context:d}=t[r],{place:h="after",className:g,text:m,icon:w,href:x,external:D,tooltip:L}=s,N=UP(s.style)?s.style:h==="before"?"none":"default",T=m===void 0?typeof s!="object"?String(s):"":String(m),C=T!=="",k=["value-annotation","style-"+N,h==="before"?"before":"after",C?"has-text":"",g||""].join(" "),M=$(x?"a":"span",{class:k,href:typeof x=="string"?x:void 0,target:D?"_blank":void 0});if(C&&(/\d{4}/.test(T)?M.innerHTML=yt(T):M.append(T)),typeof w=="string"&&(M.classList.add("icon"),/^[a-z_$][a-z0-9_$-]*$/i.test(w)?M.classList.add("icon-"+w):M.style.setProperty("--annotation-image",`url("${w}")`)),L&&u.tooltip(M,L,f,{...d,config:s}),h==="before")o.before(M);else{let O=o.parentNode,F=a1.get(o);F===void 0&&(a1.set(o,F=$("span","value-annotations")),O.classList.contains("struct-expanded-value")?o.querySelector(":scope > .value-size, :scope > .string-length")?.after(F):O.append(F)),F.append(M)}}t.splice(0,r)}var $P,a1,f1=I(()=>{ze();$t();as();$P=["none","default","badge"],a1=new WeakMap});var d1,p1,h1=I(()=>{d1={level_1:{level_2_1:{level_3_1:{level_4_1:{}},level_3_2:2,level_3_3:3,level_3_4:4,level_3_5:5,level_3_6:6},level_2_2:[{foo:1,bar:2},{foo:3}],level_2_3:3,level_2_4:4,level_2_5:5,level_2_6:6},level_1_2:2,level_1_3:3,level_1_4:4,level_1_5:5,level_1_6:6,level_1_7:7},p1={beforeDemo:['md:"View to display the structure of any value. This is the simplest yet powerful way to enable data exploration."'],demo:{view:"struct",data:{foo:"bar",baz:[1,2,3]}},examples:[{title:"Default expanded depth",highlightProps:["expanded"],beforeDemo:['md:"By default `struct` view is collapsed in one line. The `expanded` option is using to specify an initial expanded depth. A value for the option can be a boolean (`false` \u2192 `0`, `true` \u2192 `1`) or a positive number."'],demoData:d1,demo:['badge:"Default (expanded option is not used)"',{view:"struct"},'badge:"expanded = true"',{view:"struct",expanded:!0},'badge:"expanded = 2"',{view:"struct",expanded:2}]},{title:"Annotations",highlightProps:["annotations"],beforeDemo:[{view:"md",source:["Clarity of data can be improved by adding annotations. An annotation is special marker before or after a value which displaying for expanded objects and arrays only.","Any number of annotations can be applied to a single value.","","Annotations are adding with `annotations` option which should contain an array of strings (jora queries) and functions to compute an annotation config. An annotation config is an object with following fields:","```ts","type AnnotationConfig = {",'   place?: "before" | "after"; // the placement of an annotation, "after" is by default','   style?: "none" | "badge" | "default"; // appereance of annotation, "default" is by default',"   className?: string;         // a class to add to an annotation element","   text?: any;                 // text content of an annotation element","   icon?: string;              // name of icon or url to an image","   href?: string;              // annotation is a link and that's an URL","   external?: boolean;         // open a link in new tab, make sence when `href` is specified only","   tooltip?: TooltipConfig;    // configuration for a tooltip, the same as for any view","}","```","",'An annotation is not displayed (not rendered) when computed annotation config is a falsy value. Any other value (truthy, but not an object) is used as value for `text` option, i.e. `"example"` is the same as `{ text: "example" }`.',"","In addition to a string or function, an object can be used as an element of `annotations` array","* `query` \u2013 a string (jora query) or a function to compute an annotation config","* `debug` (optional) - when truthy a debug information is output to the console; when value is a string, it's used in debug message"]}],demoData:{items:[{id:1,value:"example"},{id:2,value:"bar"},{id:3,value:"baz"}],"annotation styles":["none","default","badge"]},demo:{view:"struct",expanded:3,annotations:['#.key = "items" ? { place: "before", style: "badge", text: "view as table", tooltip: "table" } : null',`$ ~= /az/ and "Value has 'az' substring!"`,'$ in ["none", "default", "badge"] and { style: $, place: "before", text: $ + " before" }','$ in ["none", "default", "badge"] and { style: $, text: $ + " after" }']}},{title:"Limit number of array elements and object entries",beforeDemo:{view:"md",source:["The following options define the maximum number of elements in array or entries in object:","* `limit` (default: `50`) \u2013 max number of elements/entries for expanded array/object","* `limitCollapsed` (default: `4`) \u2013 max of elements/entries for collapsed array/object","* `limitCompactObjectEntries` (default: `0`) \u2013 max number of entries in a object which appears in a collapsed array or object","","> Use `false` for any of these options to disable a limitation"]},highlightProps:["limit","limitCollapsed","limitCompactObjectEntries"],demoData:d1,demo:{view:"struct",limit:4,limitCollapsed:1,expanded:2}},{title:"Maximum length for strings",beforeDemo:{view:"md",source:["The following options define the maximum string length in various cases:","* `maxStringLength` (default: `150`) \u2013 max string length when a host value is expanded","* `maxCompactStringLength` (default: `40`) \u2013 max of string length when a host value is collapsed",'* `allowedExcessStringLength` (default: `10`) \u2013 allowed excess in length before a string will be cut and \\"N more\\" label will be added',"* `maxPropertyLength` (default: `Infinity`) \u2013 max of property name length","* `maxCompactPropertyLength` (default: `35`) \u2013 max of property name length in collapsed objects","","> Expand and collapse `level2` branch to see difference in a value presentation"]},highlightProps:["maxStringLength","maxCompactStringLength","allowedExcessStringLength","maxPropertyLength","maxCompactPropertyLength"],demo:{view:"struct",maxStringLength:30,maxCompactStringLength:10,allowedExcessStringLength:5,maxPropertyLength:30,maxCompactPropertyLength:15,expanded:1},demoData:{stringsInExpandedObject:"Quite a long string value Quite a long string value",string_34_chars:"String with 34 chars length demo x",string_35_chars:"String with 35 chars length demo xx",string_36_chars:"String with 36 chars length demo xxx",very_very_very_very_very_very_very_very_very_very_long_property_name:"a property name should be truncated due to settings, but will not be by default",level2:{stringsInCollapsedObject:"Quite a long string value Quite a long string value",string_14_chars:"Short string x",string_15_chars:"Short string xx",string_16_chars:"Short string xxx"}}}]}});var an,g1,m1,y1,v1,w1,b1,x1,k1=I(()=>{ze();an={get collapse(){return $("span",{class:"struct-action-button struct-collapse-value","data-action":"collapse"})},get signature(){return $("span",{class:"struct-action-button show-signature","data-action":"show-signature"})},get actions(){return $("span",{class:"struct-action-button",title:"Value actions","data-action":"value-actions"})},get stringMode(){return $("span",{class:"struct-action-button",title:"Toggle string show mode","data-action":"toggle-string-mode"})},get viewAsTable(){return $("span",{class:"struct-action-button",title:"Toggle view as table","data-action":"toggle-view-as-table"})},get sortKeys(){return $("span",{class:"struct-action-button",title:"Toggle key sorting","data-action":"toggle-sort-keys"})}},g1=Hn('"',an.collapse,an.actions,an.stringMode,$("span","string-length"),$("span","string-text-wrapper",[$("span","string-text")]),'"'),m1=Hn("[",an.collapse,an.signature,an.actions,an.viewAsTable,$("span","value-size"),"]"),y1=Hn("{",an.collapse,an.signature,an.actions,an.viewAsTable,an.sortKeys,$("span","value-size"),"}"),v1=$("div","entry-line"),w1=$("span","value"),b1=$("span","match"),x1=$("span","label",["\xA0\xA0\xA0\xA0",$("span","property"),":\xA0"])});function GP(t){for(;t.parent!==null;)t=t.parent;return t.host[""]}function C1(t,e,r,o,s){return new t.view.Popup({className:"view-struct-signature-popup",hoverPin:"popup-hover",hoverTriggers:".view-struct .show-signature",showDelay:50,render(u,f){let d=f.parentNode,h=e.get(d),g=r.get(d),m=o.get(d)||{};u.classList.add("computing"),setTimeout(()=>{t.view.render(u,{view:"signature",expanded:2,rootData:GP(g),path:s(d)},h,m.context).then(()=>u.classList.remove("computing"))},16)}})}var A1=I(()=>{});function Es(t,e){return typeof t=="number"&&isFinite(t)&&t>=1?parseInt(t,10):e}function S1(t,e){if(typeof t=="string")return t.length>e.maxStringLength||/[\r\n\f\t]/.test(t);if(_t(t))return t.length>0;if(typeof t=="object"&&t!==null)switch(rn(t)){case"[object Set]":return t.size>0;case"[object Object]":for(let r in t)if(De(t,r))return!0}return!1}function E1(t){return!(typeof t=="string"||el(t)||_t(t)&&t.every(e=>typeof e=="number"))}function wp(t,e){t.appendChild(document.createTextNode(e))}function T1(t,e,r){e>1&&(t.lastElementChild.innerHTML=yt(e)+" "+r)}function tI(t,e,r){e.length<2||e.every(([s],u)=>u===0||s>e[u-1][0])?t.querySelector('[data-action="toggle-sort-keys"]').remove():r&&e.sort(([s],[u])=>s<u?-1:s>u?1:0)}function nI(t,e,r){let o=x1.cloneNode(!0),s=e.length>r?e.slice(0,r)+"\u2026":e;wp(o.firstElementChild,s),t.appendChild(o)}function M1(t){function e(F){let P=x.get(F),j=m.get(F);F.classList.add("struct-expand-value"),F.innerHTML=Kr(j,!1,P),F.annotationsEl&&F.parentNode.append(F.annotationsEl)}function r(F,P,j){let H=m.get(F);if(F.classList.remove("struct-expand-value"),typeof H=="string"){let W=x.get(F),X=g1.cloneNode(!0),q=X.lastChild.previousSibling,K=q.firstChild,E=q.previousSibling,Y=Zi(H);E.innerHTML=`length: ${yt(Y.length)} chars`,W.match?hr(H,W.match,G=>K.append(JSON.stringify(G).slice(1,-1)),G=>K.appendChild(b1.cloneNode()).append(JSON.stringify(G).slice(1,-1))):wp(K,Y),F.replaceChildren(X),d(F,E)}else if(_t(H)||Mn(H)){let W=w.get(F),X=x.get(F),q=typeof H.size=="number"?H.size:H.length;F.replaceChildren(m1.cloneNode(!0)),T1(F,q,"elements"),d(F,F.lastElementChild),s(F,F.lastChild,H.values(),q,(K,E,Y)=>{Y>0&&Y%10===9&&(K.dataset.index=Y+1),o(K,E,P,X,Object.freeze({parent:W,host:H,key:Y,index:Y}))},0,X.limit)}else{let W=w.get(F),X=x.get(F),q=Object.entries(H);F.replaceChildren(y1.cloneNode(!0)),T1(F,q.length,"entries"),d(F,F.lastElementChild),tI(F,q,j),s(F,F.lastChild,q.values(),q.length,(K,[E,Y],G)=>{G>0&&G%10===9&&(K.dataset.index=G+1),nI(K,E,X.maxPropertyLength),o(K,Y,P,X,Object.freeze({parent:W,host:H,key:E,index:G}))},0,X.limit)}}function o(F,P,j,H,W){let X=S1(P,H),q=w1.cloneNode(!0);m.set(q,P),w.set(q,W),x.set(q,H),X&&E1(P)&&j?(F.classList.add("struct-expanded-value"),r(q,j-1)):(X&&q.classList.add("struct-expand-value"),q.innerHTML=Kr(P,!1,H)),h(q,P,H,W),F.appendChild(q)}function s(F,P,j,H,W,X=0,q=D1){q===!1&&(q=1/0);let K=document.createDocumentFragment(),E=H-1,Y=0;for(;Y<q;Y++,X++){let{done:G,value:fe}=j.next();if(G)break;let ke=v1.cloneNode(!0);W(ke,fe,X),X!==E&&wp(ke,","),K.appendChild(ke)}F.insertBefore(K,P),t.view.maybeMoreButtons(F,P,H,X,q,(G,fe)=>s(F,P,j,H,W,G,fe))}function u(F){let P=x.get(F),j=m.get(F);!_t(j)&&!Mn(j)&&(j=Object.entries(j).map(([H,W])=>({"[key]":H,"[value]":W}))),t.view.render(F,"table",j,P.context),F.append(F.lastChild.previousSibling)}function f(F){let P=[],j=w.get(F);for(;j!==null&&j.parent!==null;)P.unshift(j.key),j=j.parent;return P}function d(F,P){F.annotationsEl&&P.after(F.annotationsEl)}function h(F,P,j,H){if(j.annotations.length){for(let W of j.annotations)try{let{query:X,debug:q}=W,K={...H,context:j.context},E=t.query(X,P,K);q&&t.logger.info(`Compute struct view annotation${typeof q=="string"?` "${q}"`:""}:`,{data:P,context:K,query:X,queryResult:E}),E&&L.push(E.tooltip?{el:F,config:E,renderer:j.renderer,data:P,context:K}:{el:F,config:E})}catch(X){t.logger.error(X.message)}g()}}function g(){C===null&&L.length&&(C=Promise.resolve().then(()=>{C=null,c1(L),L.length&&g()}))}let m=new WeakMap,w=new WeakMap,x=new WeakMap,D=new WeakSet,L=[],N=l1(t),T=N,C=null,k=o1(t,m,w,f),M=C1(t,m,w,x,f),O=n1(r,e,g,u,D,k,M);return t.addHostElEventListener("click",O,!1),t.legacyPrepare||t.action.define("setStructViewAnnotations",F=>{T=vp(N,Rl(F))}),t.view.define("struct",function(F,P,j,H){let{annotations:W,match:X,expanded:q,limit:K,limitCollapsed:E,limitCompactObjectEntries:Y,maxStringLength:G,maxCompactStringLength:fe,allowedExcessStringLength:ke,maxPropertyLength:Ie,maxCompactPropertyLength:Ye}=P,Je=u1(W,t.legacyPrepare?t.annotations:T),Ze={renderer:this,context:H,annotations:Je||[],match:rs(X)||typeof X=="string"?X:null,limit:t.view.listLimit(K,D1),limitCollapsed:t.view.listLimit(E,YP),limitCompactObjectEntries:t.view.listLimit(Y,QP),maxStringLength:Es(G,KP),maxCompactStringLength:Es(fe,JP),allowedExcessStringLength:Es(ke,ZP),maxPropertyLength:Es(Ie,XP),maxCompactPropertyLength:Es(Ye,eI)};D.add(F),o(F,j,q,Ze,{parent:null,host:{"":j},key:"",index:0}),g(),(!q||!E1(j))&&S1(j,Ze)&&F.classList.add("struct-expand")},{usage:p1}),()=>{document.removeEventListener("click",O,!1)}}var D1,YP,QP,KP,JP,ZP,XP,eI,L1=I(()=>{$t();wn();it();r1();s1();yp();f1();h1();k1();A1();gs();D1=50,YP=4,QP=0,KP=150,JP=40,ZP=10,XP=1/0,eI=35});var Vn,F1,N1=I(()=>{Vn=[{name:"Alice",age:34,occupation:"Engineer"},{name:"Bob",age:42,occupation:"Doctor"},{name:"Charlie",age:9,occupation:"Student"},{name:"David",age:50,occupation:"Doctor"},{name:"Eve",age:15,occupation:"Engineer"}],F1={beforeDemo:['md:"A view to display tabular data, usually an array of objects. When no column setup is provided, it infers columns from all keys of objects in the input data and auto-detects sorting for scalar values."'],demo:{view:"table"},demoData:[{foo:1,bar:"bar",baz:"zab"},{foo:2,baz:"xyz"},{foo:3,bar:"qux",baz:"baz"},{foo:4,bar:"aaa",baz:"abc"}],examples:[{title:"Columns setup",beforeDemo:{view:"md",source:["To set up columns, the `cols` property is used. When an array of objects is used for `cols`, it specifies the exact set of columns. Each object contains a configuration for the `table-cell` view with additional properties that apply at the table level:\n","- `header` \u2013 a text or config for the column header\n","- `footer` \u2013 a config for the footer cell\n","- `sorting` \u2013 a sorting function or query for the column\n"]},highlightProps:["cols","header","footer","sorting"],demo:{view:"table",cols:[{header:"Name",sorting:"name asc",data:"name",footer:'text:"Total:"'},{header:"Age",headerClassName:"age",className:"number",content:'text:age + " y.o."',footer:{data:"size()"}}]},demoData:Vn},{title:"Adjastments of infered columns",beforeDemo:{view:"md",source:["In cases where adjustments are needed for inferred columns, an object can be used for the `cols` option, where each key is the name of a property from the objects:","- If a key is missing from the inferred columns, a new column is added with the specified configuration.","- If a key matches one of the inferred columns:","  - If the specified configuration is falsy (i.e., `null`, `undefined`, or `false`), then the column is omitted.","  - Otherwise, options from the specified configuration override properties of the inferred configuration.","","> When specified configuration is a string, it expands into object `{ content: value }`.","The default inferred configuration:","```js","{","    header: key,","    sorting: `$[${JSON.stringify(key)}] ascN`,",'    view: "table-cell",',"    data: value => value?.[key]","}","```"].join(`
`)},afterDemo:["struct:#.id.pageLink(#.page, #.params)"],highlightProps:["cols"],demo:{view:"table",cols:{age:'text:age + " y.o."',occupation:!1,extraColumn:{header:"Extra column",content:'text:age >= 21 ? "Adult" : "Child"'}}},demoData:Vn},{title:"Sorting",beforeDemo:{view:"md",source:['To specify a sorting function, use the `sorting` property in the column options. When a value for `sorting` is set, the column becomes sortable, allowing users to toggle sorting by clicking the column header. The value can be a function `(a, b) => number` or a string representing a jora query that returns a [comparator function](https://discoveryjs.github.io/jora/#article:jora-syntax-functions&!anchor=comparator-functions) (e.g., "name asc, complex.expression desc"), otherwise the value ignores. The function should take two rows\' data (`a` and `b`) and return a negative number if `a` is less than `b`, a positive number if `a` is greater than `b`, or zero otherwise.',"","> The `table` view automatically displays a sorting direction indicator (icon) on a column when a comparator function returns `<= 0` or `>= 0` for each pair of consecutive rows.","","> Note: A sorting (comparator) function has no access to the table's context, so any attempt to access context (`#`) values within a comparator function produced by a query will return `undefined`.","","The `table` view attempts to infer a sorting function for a column when the `sorting` option is not explicitly specified, by executing the following steps:","- Use `data` if it is a string or function to extract column values from row data; otherwise, use the row's data.",'- If `content` is a string formatted as `"view-name:query"`, use the `query` to extract a value from the previous step.','  > To prevent sorting inference from the `content` value, specify content in another format, often by wrapping it in an array, e.g., `{ content: "text:name" }` \u2192 `{ content: ["text:name"] }`.',"- If any condition is met, construct a sorting (comparator) function.","  > If neither `data` nor `content` options meet the conditions, a sorting function cannot be inferred, and the column becomes non-sortable.","","> Note: When inferring a comparator function, the when, whenData, and contentWhen options are not considered for now. If these options are needed to affect sorting, an explicit sorting function should be specified."].join(`
`)},highlightProps:["sorting","data","content"],demo:{view:"table",cols:[{header:"Sorting from data",data:"name"},{header:"Sorting from content",content:"text:age"},{header:"Sorting from data&content",data:"{ name, age }",content:"text:`${age} ${name}`"},{header:"Explicit sorting",sorting:"name asc, age desc",content:["text:`${name} ${age}`"]}]},demoData:Vn},{title:"Displaying non-object values",beforeDemo:['md:"When input data (an array) contains non-object values, such values are display using `struct` view in a single cell spanning all the columns"'],highlightProps:["data","valueCol"],demo:['h3:"Table with non-object values"',{view:"table",data:[123,"string",null,{foo:1,bar:2},[1,2,3]]},'h3:"Enforce displaying of a [value] column"',{view:"table",valueCol:!0}],demoData:Vn},{title:"Setup cell display",beforeDemo:{view:"md",source:["To manage cell display, the following options are available in the `cols` setting:","- `colWhen` (similar to `when` and `whenData` options) allows disabling column rendering based on the table's data.","- `when` and `whenData` apply to `table-cell` and behave the same way as they do for any view, to disabling rendering of the cell itself.","- `contentWhen` (similar to `when` and `whenData` options) allows disabling cell content rendering based on the cell's data.","- `colSpan` allows setting a relevant attribute for a table cell. (Note: subsequent cells should be disabled using `when` or `whenData`).","- `align` specifies text alignment, supported values `'left'`, `'center'` and `'right'`"].join(`
`)},highlightProps:["contentWhen","colWhen","colSpan","when"],demo:{view:"table",data:'.({ name, age, fare: age > 21 ? "Full" : age > 12 ? "Half" })',cols:{name:{contentWhen:'$ != "Bob"'},age:{colWhen:"size() > 10"},fare:{colSpan:"=fare ? 1 : 2",content:{data:"fare",view:"switch",content:[{when:"$",content:"text"},{content:'text:"Not applicable"'}]}},price:{when:"fare",data:'fare = "Full" ? 50 : 25',content:'text:"$" + $'}}},demoData:Vn},{title:"Cell details",beforeDemo:{view:"md",source:["Table cells can display an additional detail view of their content when clicked. Clicking the same cell again, or a different cell with details, will hide the view. To enable and customize the detail view, use the `details` option.","","By default, if the `details` option is not explicitly defined, it will automatically activate for cells containing an object or a non-empty array, as long as no custom `content` is specified. In this case, a default `struct` view will be used to display the data.","","You can control the visibility of detail views using the `detailsWhen` option. This option accepts a function that checks the cell's data and disables the details view if the function returns a falsy value."]},highlightProps:["details","detailsWhen"],demo:{view:"table",cols:[{header:"Group",data:"group"},{header:"Default",data:"peoples"},{header:"Custom details",data:"peoples",details:['h2:"Custom detail views"',"table"]},{header:"Disable default details",data:"peoples",details:!1},{header:"Conditional details",data:"peoples",detailsWhen:"size() > 2"}]},demoData:[{group:"Kids",max:21},{group:"Adults",min:21},{group:"All"}].map(({group:t,min:e=0,max:r=100})=>({group:t,peoples:Vn.filter(o=>o.age>e&&o.age<r)}))},{title:"Setup header cell display",beforeDemo:{view:"md",source:["A setup for header cells is simple as a setting up a string. However, a value for header can be a query string (i.e. `'=query'`), a config object or content views."]},highlightProps:["header"],demoData:Vn,demo:{view:"table",cols:[{header:"just a text"},{header:'=occupation has "Doctor" ? "Has doctor" : "-"'},{header:{className:"foo",content:["text-numeric:123456"],tooltip:"text:`Rows: ${size()}`"}},{header:{text:"text via config"}}]}},{title:"Setup footer cell display",beforeDemo:{view:"md",source:["A setup for footer cell is similar to a [regular cell](#!setup-cell-display), the same set of options are supported: .","","When value for the `footer` is an object without a `view` property, it's interpreted as a footer config. Otherwise, it is treated as footer cell content, equivalent to passing `{ content: value }`."]},highlightProps:["footer"],demoData:Vn,demo:{view:"table",cols:{name:{footer:'text:"Raw data"'},age:{footer:{colSpan:2}}}}},{title:"Setup header and footer display",beforeDemo:{view:"md",source:["You can use the `headerWhen` and `footerWhen` options to conditionally disable the rendering of the header and footer, respectively. The footer also is not rendering when no any footer cell is defined."]},highlightProps:["headerWhen","footerWhen"],demoData:Vn,demo:['h2:"No header and footer"',{view:"table",headerWhen:!1,footerWhen:"size() > 10",cols:{name:{footer:'text:"footer"'}}},'h2:"With header and footer"',{view:"table",cols:{name:{footer:'text:"footer"'}}}]}]}});function bp(t,e){return{header:t,sorting:`${e} ascN`,view:"table-cell",data:e}}function rI(t,e,r){let o="",s="";if("data"in t&&t.data!==void 0)switch(typeof t.data){case"string":s=`(${t.data||"$"})`;break;case"function":o="$dataQuery;",s="$dataQuery(#)";break;default:o="$dataQuery;",s="$dataQuery"}if(typeof t.content=="string"){let u=t.content.indexOf(":"),f=t.content.slice(0,u);if(u===-1||!e.view.has(f))return;let d=t.content.slice(u+1);d&&(s=s?`(${s} | ${d})`:`(${d})`)}return s?e.query(`${o} ${s} ascN`,{dataQuery:t.data},r):!1}function iI(t,e,r){return typeof e=="string"&&(e={content:e}),De(e,"content")||De(e,"data")?{header:t,view:"table-cell",...e}:{...bp(t,r),...e}}function O1(t){return Array.isArray(t)?t.length:t}function oI(t,e,r){if(typeof r!="function")return 0;let o=0;try{for(let s=1,u=O1(e[0]);s<e.length;s++){let f=O1(e[s]),d=Math.sign(r(u,f));if(d){if(o&&d!==o)return!1;o=d}u=f}}catch(s){return t.logger.error("Error on column order detection in table view",s),0}return-o||0}function P1(t){let e=t.queryFn("is not object");t.view.define("table",function(r,o,s,u){let{rows:f,cols:d,rowConfig:h,valueCol:g=!1,headerWhen:m=!0,footerWhen:w=!0,limit:x}=o,D;"rows"in o||(f=s),Mn(f)&&(f=[...f]),_t(f)||(f=f?[f]:[]);let L=f,N=$("tbody"),T=$("tbody",{class:"view-table-more-buttons"}),C=T.appendChild($("tr")).appendChild($("td")),k=()=>{if(!t.query(m,s,u))return;let F=d.map(j=>j.header),P=d.map(j=>De(j,"sorting")?t.query(j.sorting,null,u):rI(j,t,u));return this.render(r,{view:"table-header",cols:F,sortings:P,getRowsOrder:j=>oI(t,L,j),setSorting(j,H){if(typeof j=="function"){let W=f.slice().sort(j);H&&W.reverse(),O(W)}else O(f)}},s,u)},M=()=>{let F=d.map(P=>P.footer);if(!(!t.query(w,s,u)||!F.some(P=>P!==void 0)))return this.render(r,{view:"table-footer",cols:F},s,u)},O=async F=>(L=F,N.innerHTML="",C.innerHTML="",r.append(N,T),t.view.renderList(N,D,L,{...u,cols:d},0,t.view.listLimit(x,25),{moreContainer:C,onSliceRender:P=>P===0&&T.remove()}));if(Array.isArray(d))d=d.map((F,P)=>typeof F=="string"?bp(F,t.pathToQuery([F])):{header:"col"+P,view:"table-cell",...F});else{let F=new Set,P=d&&typeof d=="object"?d:{};d=[];for(let j of f)if(e(j))g=!0;else for(let H of Object.keys(j))F.add(H);for(let j of Object.keys(P))P[j]?F.add(j):F.delete(j);for(let j of F)d.push(De(P,j)?iI(j,P[j],t.pathToQuery([j])):bp(j,t.pathToQuery([j])))}return g&&d.unshift({header:"[value]",view:"table-cell",sorting:"$ ascN",colSpan:"=is not object ? #.cols.size() : 1",content:'=is not object ? "struct"',details:'=is object ? "struct"'}),d=d.filter(F=>!De(F,"colWhen")||t.queryBool(F.colWhen,s,u)),C.colSpan=d.length,D=this.composeConfig({view:"table-row",cols:g?"=is not object ? [#.cols[]] : #.cols":"=#.cols"},h),Promise.all([k(),O(f),M()])},{tag:"table",usage:F1})}var I1=I(()=>{N1();wn();ze();it()});function sI(t,e,r){return t?o=>{o==="asc"?r(t,!0):o==="desc"&&!e?r():r(t)}:null}function j1(t){t.view.define("table-header",async function(e,r,o,s){let{cols:u,sortings:f,getRowsOrder:d,setSorting:h}=r,g=e.appendChild($("tr")),m=[],w=(x,D)=>{h(x,D);for(let L of g.children){let N=d(m[L.cellIndex]);L.classList.toggle("asc",N===1),L.classList.toggle("desc",N===-1)}};return Promise.all(u.map((x,D)=>{let L=f[D],N=d(L),T=N!==0?L:null;return m.push(T),this.render(g,this.composeConfig({view:"table-header-cell",initSorting:N,nextSorting:sI(T,N,w)},tl(x)?Array.isArray(x)||"view"in x?{content:x}:x:{text:x}),o,s)}))},{tag:"thead"})}var B1=I(()=>{ze();wn()});function z1(t){t.view.define("table-header-cell",function(e,r,o,s){let{content:u,text:f,initSorting:d,nextSorting:h}=r;if(typeof h=="function"&&(e.classList.add("sortable"),e.addEventListener("click",()=>h(e.classList.contains("asc")?"asc":e.classList.contains("desc")?"desc":"none"))),d&&e.classList.add(d>0?"asc":"desc"),u)return t.view.render(e,u,o,s);e.textContent=f??""},{tag:"th"})}var R1=I(()=>{});function aI(t,e){let r=[];for(let o=0;o<t.length;o++){let s=t[o];s!==void 0&&r.push({index:o,config:e({view:"table-footer-cell"},tl(s)&&typeof s.view!="string"?s:{content:s})})}return r}function H1(t){t.view.define("table-footer",async function(e,r,o,s){let{cols:u}=r,f=aI(u,this.composeConfig),d=e.appendChild($("tr")),h=f.map(()=>Hn()),g=await Promise.allSettled(f.map(({config:D},L)=>this.render(h[L],D,o,s))),m=()=>$("td",{class:"view-table-footer-cell"}),w=0,x=0;g.forEach((D,L)=>{let{index:N,config:T}=f[L],k=h[L].firstChild;if(D.status==="rejected")t.view.renderError(d.appendChild(k=m()),D.reason,T),x++;else if(!k)d.append(k=m());else if(k.nodeType!==1||k.tagName!=="TD"){if(k.nodeType===8&&!k.nextSibling)return;if(k.classList?.contains?.("discovery-buildin-view-render-error")){let M=k;d.appendChild(k=m()).append(M),x++}else t.view.renderError(d.appendChild(k=m()),"non <td> element",T),x++}else if(d.append(k),x++,w>N){let M=k.previousElementSibling;M.colSpan=N-M.cellIndex}else for(let M=N-w;M>0;M--)k.before(m());w=N+k.colSpan}),x===0&&e.classList.add("no-cells-with-content");for(let D=u.length-w;D>0;D--)d.append(m())},{tag:"tfoot"})}var q1=I(()=>{ze();wn()});function _1(t,e){let r=String(e);if(t.classList.add("number"),!Number.isFinite(e)){t.classList.add("keyword"),t.textContent=r;return}r.length>3?t.innerHTML=yt(r,!1):t.textContent=r}function Hl(t,e,r){if(Array.isArray(e)||ArrayBuffer.isView(e)){e.length>0&&_1(t,e.length);return}if(r){t.classList.add("complex");for(let o in e)if(De(e,o)){t.textContent="{\u2026}";return}t.textContent="{}";return}if(e!==void 0){if(typeof e=="number"){_1(t,e);return}(e===null||e===!1||e===!0)&&t.classList.add("keyword"),t.textContent=String(e)}}function ql(t,e,r,o,s){return()=>{let u=e.parentNode,f=u.parentNode,d=Array.from(f.querySelectorAll(".view-table-cell.details-expanded")).find(g=>g.parentNode.parentNode===f),h=null;if(d){let g=d.parentNode;if(d.classList.remove("details-expanded"),d===e){u.nextSibling.remove();return}g!==u?g.nextSibling.remove():(h=u.nextSibling.firstChild,h.innerHTML="")}h===null&&(h=u.parentNode.insertBefore(document.createElement("tr"),u.nextSibling).appendChild(document.createElement("td")),h.parentNode.className="view-table-cell-details-row",h.className="view-cell-details-content",h.colSpan=1e3),e.classList.add("details-expanded"),t.view.render(h,r||lI,o,s)}}function _l(t,e){typeof e=="string"&&uI.includes(e)&&t.classList.add(`align-${e}`)}var lI,uI,xp=I(()=>{$t();it();lI={view:"struct",expanded:1},uI=["left","center","right"]});function W1(t){t.view.define("table-footer-cell",function(e,r,o,s){let{content:u,contentWhen:f=!0,details:d,detailsWhen:h=!0,colSpan:g,align:m}=r,w=!u&&o!==null&&(Array.isArray(o)?o.length>0:typeof o=="object")&&!(o instanceof RegExp);if(e.classList.add("view-table-cell"),typeof g=="number"&&g>1&&(e.colSpan=g),!!t.queryBool(f,o,s)){if(_l(e,m),(d||d===void 0&&w)&&t.queryBool(h,o,s)&&(e.classList.add("details"),e.addEventListener("click",ql(t,e,d,o,s))),u)return t.view.render(e,u,o,s);Hl(e,o,w)}},{tag:"td"})}var $1=I(()=>{xp()});function V1(t){t.view.define("table-row",function(e,r,o,s){let{cols:u}=r;if(Array.isArray(u))return Promise.all(u.map((f,d)=>t.view.render(e,f,o,{...s,colIndex:d})))},{tag:"tr"})}var U1=I(()=>{});function G1(t){t.view.define("table-cell",function(e,r,o,s){let{content:u,contentWhen:f=!0,details:d,detailsWhen:h=!0,colSpan:g,align:m}=r,w=!u&&o!==null&&(Array.isArray(o)?o.length>0:typeof o=="object")&&!(o instanceof RegExp);if(typeof g=="number"&&g>1&&(e.colSpan=g),!!t.queryBool(f,o,s)){if(_l(e,m),(d||d===void 0&&w)&&t.queryBool(h,o,s)&&(e.classList.add("details"),e.addEventListener("click",ql(t,e,d,o,s))),u)return t.view.render(e,u,o,s);Hl(e,o,w)}},{tag:"td"})}var Y1=I(()=>{xp()});var cI,Q1,K1,J1=I(()=>{cI=()=>alert("toggled!"),Q1=([t,...e],r="")=>{let o=[];for(let s=0;s<t;s++){let u=r+"."+(s+1);o.push({title:u,children:e.length?Q1(e,u):null})}return o},K1={demo:{view:"tree",item:"text:text",data:{text:"Root",children:[{text:"Child"},{text:"Another child",children:[{text:"Lvl 2 child"},{text:"Lvl 2 child"}]}]}},examples:[{title:"Expanded tree",highlightProps:["expanded"],demo:{view:"tree",item:"text:text",expanded:999},demoData:{text:"Root",children:[{text:"Child"},{text:"Another child",children:[{text:"Lvl 2 child"},{text:"Lvl 2 child"}]}]}},{title:"With empty text",highlightProps:["emptyText"],demo:{view:"tree",emptyText:"This tree is empty",data:null}},{title:"With toggle handler",highlightProps:["onToggle"],demo:{view:"tree",item:"text:text",onToggle:cI},demoData:{text:"Root",children:[{text:"Child"},{text:"Another child",children:[{text:"Lvl 2 child"},{text:"Lvl 2 child"}]}]}},{title:"limitLines",highlightProps:["limitLines"],demoData:Q1([5,3,3]),demo:{view:"tree",item:"text:title",limitLines:7}}]}});function Z1(t){function e(o,s,u,f,d,h){return h===!1&&(h=u.length),o.classList.add("incomplete"),u.slice(d,d+h).reduce((g,m)=>g.then(()=>{let{container:w,itemConfig:x}=s;return t.view.render(w,t.view.composeConfig(x,{expanded:m.expanded,last:m.last,hasChildren:m.hasChildren,children:m.children}),m.data,f).then(()=>{if(m.expanded&&m.hasChildren){let D=w.lastChild.querySelector(".view-tree-leaf-children");D.classList.add("incomplete"),s={container:D,itemConfig:t.view.composeConfig(x,x.itemConfig),prev:s}}else for(;m.shift--;)s.container.classList.remove("incomplete"),s=s.prev})}),Promise.resolve()).then(()=>t.view.maybeMoreButtons(o,null,u.length,d+h,h,(g,m)=>e(o,s,u,f,g,m))||o.classList.remove("incomplete"))}function r(o,s,u,f){function d(m,w,x,D=0){m.forEach((L,N,T)=>{let C=t.query(x.children,L,s),k=Array.isArray(C)&&C.length>0,M=N===T.length-1,O=g.has(L)?0:typeof w=="function"?w(L,s):w;g.add(L),h.push({data:L,expanded:O,last:M,hasChildren:k,children:O?null:x.children,shift:M&&(!O||!k)?D+1:0}),k&&O&&d(C,typeof w=="number"?w-1:w,t.view.composeConfig(x,x.itemConfig),M?D+1:0)})}let h=[],g=new Set;return d(o,f,u),h}t.view.define("tree",function(s,u,f,d){let{children:h="children",item:g="text",itemConfig:m,collapsible:w,emptyText:x,onToggle:D}=u,{expanded:L,limit:N,limitLines:T=!0}=u;if(x!==!1&&x!==""&&s.setAttribute("emptyText",x||"Empty tree"),!Array.isArray(f)&&f&&(f=[f]),Array.isArray(f)){if(N=t.view.listLimit(N,25),T=t.view.listLimit(T,25),L=typeof L=="function"?L:t.view.listLimit(L,1),T){let C=r(f,d,this.composeConfig({children:h},m),L),k={container:s,itemConfig:this.composeConfig({view:"tree-leaf",itemConfig:m,content:g,collapsible:w,onToggle:D},m)};return e(s,k,C,d,0,T)}return this.renderList(s,this.composeConfig({view:"tree-leaf",itemConfig:m,content:g,collapsible:w,expanded:L,children:h,limit:N,onToggle:D},m),f,d,0,N)}},{tag:"ul",usage:K1})}var X1=I(()=>{J1()});function eA(t){let e=new WeakMap,r=({target:o})=>{let s=o.closest(".view-tree-leaf-toggle");if(s){let u=e.get(s),f=!s.parentNode.classList.toggle("collapsed");typeof u.render=="function"&&u.render(),typeof u.onToggle=="function"&&u.onToggle(f,s.parentNode,u.data,u.context)}};t.addHostElEventListener("click",r,!1),t.view.define("tree-leaf",async function(o,s,u,f){let{expanded:d,hasChildren:h,children:g,items:m,content:w,itemConfig:x,collapsible:D,last:L,limit:N,onToggle:T}=s,C=o.appendChild($("span","view-tree-leaf-toggle")),k=o.appendChild($("span","view-tree-leaf-content"));if(L&&o.classList.add("last"),D||o.classList.add("non-collapsible"),await this.render(k,w,u,f),h){let M=o.appendChild($("ul","view-tree-leaf-children")),O={data:u,context:f,onToggle:T,render:null},F=(P,j)=>(typeof j=="number"&&j--,this.renderList(M,this.composeConfig({view:"tree-leaf",expanded:j,itemConfig:x,content:w,collapsible:D,children:g,limit:N,onToggle:T},x),P,f,0,this.listLimit(N,25)));o.classList.add("has-children"),e.set(C,O),(typeof d=="function"?d(u,f):d)?m&&await F(m,d):(o.classList.add("collapsed"),m&&(O.render=()=>{O.render=null,F(m,d||1)}))}},{tag:"li",props:fI})}var fI,tA=I(()=>{ze();fI=`#.props | {
    $items: children.query(@, #.context) | is array?;

    itemConfig,
    content is not undefined ?: 'text',
    collapsible is not undefined ?: true,
    onToggle,
    expanded,
    last,
    hasChildren: hasChildren or $items.size() > 0,
    children,
    $items,
    limit: limit | $ = false or is int ?: 25
}`});var Wl={};Se(Wl,{alerts:()=>o0,appHeader:()=>f0,autoLink:()=>p0,badges:()=>v0,block:()=>Ax,blockquote:()=>b0,button:()=>fb,checkbox:()=>wb,checkboxList:()=>gb,column:()=>Sx,columns:()=>Tx,contentFilter:()=>Cb,context:()=>IC,dropdown:()=>Eb,editors:()=>bx,expand:()=>Nx,headers:()=>D0,hstack:()=>jx,html:()=>M0,image:()=>N0,imagePreview:()=>j0,indicator:()=>H0,input:()=>Nb,link:()=>$0,listItem:()=>zx,lists:()=>qx,markdown:()=>dk,menu:()=>jb,menuItem:()=>Hb,navButton:()=>$b,pageHeader:()=>Vx,popup:()=>Kx,progressbar:()=>Yb,section:()=>e0,select:()=>Zb,signature:()=>e1,source:()=>Xk,struct:()=>M1,switchView:()=>RC,tab:()=>sx,table:()=>P1,tableCell:()=>G1,tableFooter:()=>H1,tableFooterCell:()=>W1,tableHeader:()=>j1,tableHeaderCell:()=>z1,tableRow:()=>V1,tabs:()=>nx,text:()=>rC,textDiff:()=>CC,textMatch:()=>EC,textNumeric:()=>FC,textRender:()=>WC,tocSection:()=>n0,toggle:()=>lx,toggleGroup:()=>cx,tree:()=>Z1,treeItem:()=>eA});var kp=I(()=>{db();mb();bb();Ab();Tb();Ob();Bb();qb();Vb();Qb();Xb();rx();ax();ux();fx();xx();Dx();Ex();Mx();Ox();Bx();Rx();_x();Ux();Jx();t0();r0();s0();d0();h0();w0();x0();S0();L0();O0();B0();q0();V0();pk();eC();iC();AC();TC();NC();jC();HC();$C();t1();L1();I1();B1();R1();q1();$1();U1();Y1();X1();tA()});function nA(t){t.page.define("default",{view:"switch",content:[{when:"no #.datasets",content:"preset/welcome-block"},{content:['page-header{ content: "h1:#.name" }',{view:"struct",expanded:1}]}]}),t.preset.define("welcome-block",{view:"block",className:"welcome-block",data:"#.model",content:["app-header",{view:"block",className:"upload-data",when:"#.actions.uploadFile",content:["preset/upload",{view:"block",className:"upload-notes",content:'html:name + " is a server-less application that securely opens and analyzes your data directly on your device,<br>ensuring all processing is done locally without transmitting your data elsewhere."'}]}]})}var rA=I(()=>{});function iA(t){t.page.define("not-found",['alert-warning:"Page `" + name + "` not found"'])}var oA=I(()=>{});function $l(t,e=""){return typeof t=="string"?t:e}function aA(t){let e=typeof t=="string"?{query:t}:t,{query:r,graph:o,view:s,viewEditorHidden:u,title:f,dzen:d,noedit:h,...g}=e,m=[];d&&m.push(["dzen"]),h&&m.push(["noedit"]),f&&m.push(["title",f]),r&&m.push(["q",ss(r)]),o&&m.push(["graph",ss(JSON.stringify(o))]),typeof s=="string"&&m.push(s?["v",ss(s)]:["v"]),u&&m.push(["vh"]);for(let[w,x]of Object.keys(g||{}).sort())sA.includes(w)||m.push([w,w.endsWith("-b64")&&typeof x=="string"?ss(x):x]);return m}function lA(t){let e=Object.fromEntries(t),r={title:$l(e.title),query:jr($l(e.q)),graph:JSON.parse(jr($l(e.graph))||"null"),view:"v"in e?jr($l(e.v)):void 0,viewEditorHidden:"vh"in e,dzen:"dzen"in e,noedit:"noedit"in e};for(let[o,s]of Object.entries(e))dI.includes(o)||(r[o]=o.endsWith("-b64")&&typeof s=="string"?jr(s):e[o]);return r}function pI(t){return Object.fromEntries(Object.entries(t).filter(([e])=>!sA.includes(e)))}function Cp(t,e,...r){for(let o of Object.keys(t))if(t[o]!==e[o]&&!r.includes(o))return!1;for(let o of Object.keys(e))if(t[o]!==e[o]&&!r.includes(o))return!1;return!0}function Vl(t,e={}){let r={...t,params:pI(t.params)};return!Cp(e,r,"params","actions")||!Cp(e.params,r.params)||!Cp(e.actions,r.actions)?r:e}function Xi(t){return t&&typeof t=="object"&&"params"in t?t.params:{}}var sA,dI,Ts=I(()=>{il();sA=["query","graph","view","viewEditorHidden","title","dzen","noedit"],dI=["q","graph","v","vh","title","dzen","noedit"]});function hI(t){return t.replace(/\\/g,"\\\\").replace(/\t/g,"\\t").replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/'/g,"\\'")}function gI(t){return`{
${Object.keys(t).reduce((e,r)=>typeof t[r]=="string"?e.concat(`    ${r}: '${hI(t[r])}'`):(r==="graph"||typeof t[r]=="boolean")&&t[r]?e.concat(`    ${r}: ${JSON.stringify(t[r])}`):e,[]).join(`,
`)}
}`}function mI(t){if(t&&(typeof t=="number"||typeof t=="string")){let e=new Date(t);return isNaN(Number(e))?null:e}return t instanceof Date?t:null}function uA(t){let e=mI(t);return e?e.toISOString().replace(/^(\d{4})-(\d{2})-(\d{2})T([\d:]+).*/,"$3/$2/$1 $4 UTC"):null}function cA(t,e){let r,o,s,u,f=new t.view.Popup({render:(m,w,x)=>t.view.render(m,{view:"menu",data:()=>[{text:"Copy page permalink",disabled:!t.action.has("permalink"),action:async()=>Ut(await t.action.call("permalink",t.pageHash))},{text:"Copy page hash",action:()=>Ut(t.pageHash)},{text:"Copy page as JSON",action:()=>Ut(gI(t.pageParams))}],onClick(D){x(),D.action()}})}),d=$("div","discovery-actions",[u=$("button",{class:"edit-mode discovery-hidden-in-dzen",title:"Toggle edit mode",onclick(){this.blur(),e({noedit:!t.pageParams.noedit})}}),$("button",{class:"share",title:"Sharing",onclick(){this.blur(),f.show(this)}}),$("button",{class:"toggle-fullscreen",title:"Toggle full page mode",onclick(){this.blur(),e({dzen:!t.pageParams.dzen})}})]),h=m=>{m.parentNode.dataset.title=m.value||m.placeholder},g=$("div","discovery-header",[$("div",{class:"discovery-header-text","data-title":"\xA0"},[r=$("input",{class:"discovery-hidden-in-dzen",placeholder:"Untitled discovery",oninput(){h(this)},onchange(){h(this),e({title:this.value},!0)},onkeypress(m){m.key==="Enter"&&this.blur()}}),$("span","timestamp",[o=$("span",null,"&nbsp;"),s=$("span")])])]);return{el:[d,g],render(m,w){let{title:x,noedit:D}=Xi(w),L=uA(w?.datasets?.[0]?.resource?.createdAt);r.value=x||"",h(r),u.classList.toggle("disabled",D),o.innerText=L?"Data collected at "+L+" | ":"",s.innerText="Rendered at "+uA(new Date)}}}var fA=I(()=>{ze();ms();Ts()});function dA(t,e,r){return t.length?`${t.length} ${t.length===1?e:r}`:"empty"}function Ap(t,e,r){return Math.min(r,Math.max(t,e))}function Dp(t){return Array.isArray(t)?`Array (${dA(t,"element","elements")})`:t&&typeof t=="object"?`Object (${dA(Object.keys(t),"entry","entries")})`:`Scalar (${t===null?"null":typeof t})`}function Ul(t){return $("span","num-delim-wrapper",yt(t))}function Sp(t,e){let r=document.createElementNS("http://www.w3.org/2000/svg",t);if(e)for(let[o,s]of Object.entries(e))r.setAttribute(o,String(s));return r}function yI(t,e,r){Array.isArray(e)||(e=[]);let o=e.map(s=>({type:s.resource?.type||"unknown",name:s.resource?.name||"unknown"}));if(zi(o,r))return r;t.replaceChildren();for(let s of o)t.appendChild($("div","dataset",[$("span","dataset__type",s.type),$("span","dataset__name",s.name)]));return o}function vI(t,e,r,o){function s(){return t.appendChild($("div","query-graph-layer"))}function u(){return $("div",{class:"query-graph-node",tabindex:-1,"data-action":"select"},[$("div","query-graph-node__dot"),$("div","query-graph-node__label")])}function f(C,k,M){let O=C.lastElementChild,{label:F,text:P}=d(M);C.dataset.path=k.join(" "),O.classList.toggle("has-label",F),O.textContent=P}function d(C){if(C.label)return{label:!0,text:C.label};let{query:k}=C;if(typeof k=="string"){let M=k.match(/^\s*\/\/![ \t]*(\S.*)/);return M?{label:!0,text:M[1].trim()}:{label:!1,text:k.trim()}}return{label:!1,text:""}}function h(C,k,M,O,F){Array.isArray(F)||(F=[]),C||(m.push(C=s()),w.set(C,[]),x.push(0),m.length===1&&C.append($("button",{class:"view-button",tabindex:-1,"data-action":"new-root-node"},"+")));let P=F.length===1,j=F.length>1,H=w.get(C)?.shift()||C.appendChild(u()),W=x[O.length-1],X={parent:M,children:[],node:k,nodeEl:H,layerIndex:O.length-1,layerPos:W,layerOptPos:W};if(g.push(X),x[O.length-1]++,f(H,O,P?{...k,...o}:k),H.classList.toggle("target",P),H.classList.toggle("current",j),r.view.attachTooltip(H,{className:"query-graph-tooltip",hideOnTriggerClick:!0,content:P?'badge:"Current query"':{view:"source",syntax:'=query | trim() ? "jora" : false',source:'=query | trim() ?: "<empty query>"',actionCopySource:!1,lineNum:!1}},{query:k.query}),Array.isArray(k.children))for(let q=0;q<k.children.length;q++){let K=h(C.nextSibling,k.children[q],X,O.concat(q),F[1]===q?F.slice(1):[]);X.children.push(K),D.push([H.lastChild,K.nodeEl])}return X}let g=[],m=[...t.querySelectorAll(":scope > .query-graph-layer")],w=m.reduce((C,k)=>C.set(k,[...k.querySelectorAll(":scope > .query-graph-node")]),new Map),x=new Array(w.size).fill(0),D=[],L=t.querySelector(":scope > svg")||t.appendChild(Sp("svg"));for(let C=0;C<e.children.length;C++)h(m[0],e.children[C],null,[C],e.current[0]===C?e.current:[]);for(let C of w.values())for(let k of C)k.remove();let N=x.reduce((C,k)=>Math.max(C,k)),T=x.map(()=>0);for(let C of g){let{parent:k}=C;if(k){let M=k.node.children?.length||1,O=T[C.layerIndex],F=N-(x[C.layerIndex]-C.layerPos),P=Ap(k.layerPos-Math.floor((M-1)/2),O,F);if(C.children.length>0&&O>0){let j=Ap(C.children[0].layerPos,Math.max(P,T[C.layerIndex+1]),F);P+=Ap(j-P,0,2)}C.layerPos=P}C.nodeEl.style.setProperty("--pad",String(C.layerPos-T[C.layerIndex])),T[C.layerIndex]=C.layerPos+1}requestAnimationFrame(()=>{let C=parseInt(getComputedStyle(t).gap),k=[],M=[];for(let[O,F]of D){let P=Wt(O,L),j=Wt(F,L),H=P.right+2,W=Math.max(j.left-C-10,H),X=P.top+P.height/2,q=j.left-3,K=j.top+j.height/2,E=(q-W)/3,Y=F.classList.contains("current")||F.classList.contains("target"),G=X===K?Sp("line",{stroke:"#888",x1:H,y1:X,x2:q,y2:K}):Sp("path",{stroke:"#888",fill:"none",d:`M ${H} ${X} H ${W} C ${W+2*E} ${X} ${q-2*E} ${K} ${q} ${K}`});Y?(M.push(G),G.classList.add("current")):k.push(G)}L.replaceChildren(...k,...M)})}function pA(t){let e={current:Array.isArray(t.current)?t.current:[],children:Array.isArray(t.children)?t.children:[]};return e.current.length===0&&e.current.push(0),e.children.length===0&&e.children.push({}),e}function Ep(t,e){let r=[],o=t;for(let s=0;s<e.length;s++)o=o.children?.[e[s]]||{},r.push(o);return r}function hA(t,e,r={}){let o=t.indexOf(e);if(o!==-1){let s=o+1;return t.splice(s,0,r),s}return t.push({})-1}function gA(t,e){let r=t.view.QueryEditor,o={},s,u=NaN,f=!1,d=NaN,h,g,m=pA({}),w,x=[],D=null,L=[],N=[],T=null,C=[],k,M,O=(te,de,pe,se)=>k.checked?t.querySuggestions(te,de,pe,se):null,F=new r(O).on("change",(te,de)=>{M.checked&&(de.origin!=="setValue"&&(N=N.slice(),t.cancelScheduledRender()),D&&(D.clear(),D=null),e({query:te},!0))}),P=t.getQueryEngineInfo(),j=$("div","query-graph-actions"),H=$("div","buttons"),W=$("div","query-input"),X=$("div","query-input-details"),q=$("div","data-query-result"),K=$("div","data-query-result-details"),E=$("div","query-datasets"),Y=$("div","query-graph"),G=$("div","query-path"),fe=$("div","form query-editor-form",[E,Y,G,$("div","query-editor",[F.el])]);F.inputPanelEl.append(j,W,X,$("a",{class:"view-link query-engine",href:P.link,target:"_blank"},[`${P.name} ${P.version||""}`])),F.outputPanelEl.append(q,H,K);let ke=te=>({position:"trigger",className:"hint-tooltip",showDelay:!0,content:{view:"context",data:typeof te=="function"?te:()=>te,content:"md"}});function Ie(te=""){Je(({nextGraph:de,last:pe})=>(Array.isArray(pe.children)||(pe.children=[]),pe.query=h,pe.view=g,de.current.push(pe.children.push({})-1),{query:te,view:void 0,graph:de}))}t.view.render(j,[{view:"button",className:"subquery",tooltip:ke("Create a new query for a result of current one"),onClick:Ie},{view:"button",className:"stash",tooltip:ke(()=>m.current.length<2?"Stash current query and create a new empty root query":"Stash current query and create a new empty query for current parent"),onClick(){Je(({nextGraph:te,last:de,preLast:pe})=>{let se=pe.children||[];return de.query=h,de.view=g,te.current[te.current.length-1]=hA(se,de),{query:"",view:void 0,graph:te}})}},{view:"button",className:"clone",tooltip:ke("Clone current query"),onClick(){Je(({nextGraph:te,last:de,preLast:pe})=>{let se=pe.children||[];return de.query=h,de.view=g,te.current[te.current.length-1]=hA(se,de),{graph:te}})}},{view:"button",className:"delete",tooltip:ke("Delete current query and all the descendants"),onClick(){Je(({nextGraph:te,last:de,preLast:pe})=>{let se=pe.children?.indexOf(de)??-1,we=pe.query,Fe=pe.view;if(pe.children?.splice(se,1),pe.children?.length||(pe.children=void 0),te.current.pop(),te.current.length===0){let Be=Math.max(0,Math.min(se-1,(te.children?.length||0)-1));te.current.push(Be),we=te.children?.[Be]?.query}return{query:we,view:Fe,graph:te}})}}]),H.append($("label",{class:"view-checkbox suggestions",tabindex:0},[k=$("input",{class:"live-update",type:"checkbox",checked:!0,onchange(){F.focus(),F.cm.showHint()}}),$("span","view-checkbox__label","suggestions")]),$("label",{class:"view-checkbox live-update",tabindex:0},[M=$("input",{class:"live-update",type:"checkbox",checked:!0,onchange({target:te}){F.focus(),te.checked&&e({query:F.getValue()},!0)}}),$("span","view-checkbox__label","process on input")])),t.view.attachTooltip(k.parentNode,ke(()=>k.checked?"Query suggestions enabled<br>(click to disable)":"Query suggestions disabled<br>(click to enable)")),t.view.attachTooltip(M.parentNode,ke(()=>M.checked?"Auto-perform query enabled<br>(click to disable)":"Auto-perform query disabled<br>(click to enable)")),t.view.render(H,{view:"button-primary",content:'text:"Process"',onClick:()=>{L=L.slice(0,m.current.length-1),e({query:F.getValue()},!0),t.scheduleRender("page")}}),G.addEventListener("click",({target:te})=>{let de=te.closest(".query-path > *"),pe=[...G.children].indexOf(de);pe!==-1&&Je(({nextGraph:se,currentPath:we,last:Fe})=>(Fe.query=h,se.current=se.current.slice(0,pe+1),{query:we[pe+1].query,graph:se}))}),Y.addEventListener("click",({target:te})=>{let de=te.closest("[data-action]");if(Y.contains(de))switch(de?.dataset.action){case"new-root-node":Je(({nextGraph:se,last:we})=>(we.query=h,we.view=g,se.current=[se.children.push({})-1],{query:"",view:void 0,graph:se}));break;case"select":let{path:pe}=de.dataset;typeof pe=="string"&&pe!==m.current.join(" ")&&Je(({nextGraph:se,last:we})=>{let Fe=pe.split(" ").map(Number),Be=Ep(se,Fe),ge=Be[Be.length-1],Ae=ge.query,U=ge.view;return ge.query=void 0,ge.view=void 0,we.query=h,we.view=g,se.current=Fe,{query:Ae,view:U,graph:se}},!1);break}});function Ye(te,de=!0,pe=!1){e(te,pe),de&&setTimeout(()=>{F.focus(),F.cm.setCursor(F.cm.lineCount(),0)},0)}function Je(te,de=!0){let pe=JSON.parse(JSON.stringify(m)),se=[pe,...Ep(pe,pe.current)],we=se[se.length-1],Fe=se[se.length-2],Be=te({nextGraph:pe,currentPath:se,last:we,preLast:Fe});Ye(Be,de)}function Ze(te){W.innerHTML="",W.append($("div",{class:"query-input-data",tabindex:-1,onclick(){s=s==="data"?void 0:"data",vt(te)}},[$("span",{class:"query-input-variable","data-name":"input"},["@"]),te.state==="awaiting"?"Computing...":te.state==="canceled"?"Not available (undefined)":Ul(Dp(te.data))]),$("div",{class:"query-input-context",tabindex:-1,onclick(){s=s==="context"?void 0:"context",vt(te)}},[$("span",{class:"query-input-variable","data-name":"context"},["#"]),te.state==="awaiting"?"Computing...":te.state==="canceled"?"Not available (undefined)":Ul(Dp(te.context))])),vt(te)}function vt(te){if(F.inputPanelEl.classList.toggle("details-expanded",s!==void 0),W.dataset.details=s,s){let de=te.state!=="awaiting"&&te.state!=="canceled"?te[s]:NaN;de!==u&&(u=de,te.state==="awaiting"?X.textContent='<div class="state-message">Computing...</div>':te.state==="canceled"?X.innerHTML='<div class="state-message">Not available because one of ancestor queries failed<div>':(X.innerHTML="",t.view.render(X,[{view:"struct",expanded:1}],u)))}else u=NaN,X.innerHTML=""}function Re(te,de,pe){let se=[$("span","query-output-message",Array.isArray(pe)?pe:[pe])];de&&se.unshift($("span","query-output-prelude",[de])),q.replaceChildren($("div",{class:"query-result-data"+(te.state==="failed"?" error":""),tabindex:-1,onclick(){f=!f,Ce(te)}},se))}function Ee(te){switch(te.state){case"canceled":{F.setValue(te.query),Re(te,"Result","Not available");break}case"awaiting":{F.setValue(te.query),Re(te,null,"Awaiting...");break}case"computing":{F.setValue(te.query,te.data,te.context),Re(te,null,"Computing...");break}case"successful":{F.setValue(te.query,te.data,te.context),Re(te,"Result",[Ul(Dp(te.computed))," in ",Ul(Math.floor(te.duration)),"ms"]);break}case"failed":{let{error:de}=te,pe=de?.details?.loc?.range,se=F.cm.doc;if(de&&Array.isArray(pe)&&pe.length===2){let[we,Fe]=pe;D=de.details?.token==="EOF"||we===Fe||te.query[we]===`
`?se.setBookmark(se.posFromIndex(we),{widget:$("span","discovery-editor-error"," ")}):se.markText(se.posFromIndex(we),se.posFromIndex(Fe),{className:"discovery-editor-error"})}F.setValue(te.query,te.data,te.context),Re(te,"Error",[de?.message.split(/\n/)[0].replace(/^(Parse error|Bad input).+/s,"Parse error")||"Error"]);break}}Ce(te)}function Ce(te){if(F.outputPanelEl.classList.toggle("details-expanded",f),f){let de=te.state!=="awaiting"&&te.state!=="canceled"&&te.state!=="computing"?te.error||te.computed:NaN;if(de!==d)switch(d=de,te.state){case"awaiting":K.innerHTML='<div class="state-message">Awaiting for all of ancestor queries done<div>';break;case"canceled":K.innerHTML='<div class="state-message">Not available because one of ancestor queries failed<div>';break;case"failed":K.innerHTML='<div class="discovery-error query-error">'+Ve(te.error?.message||"")+"</div>";break;case"successful":K.innerHTML="",t.view.render(K,{view:"struct",expanded:1},d);break}}else d=NaN,K.innerHTML=""}function Te(te){let de=Y.querySelector(`[data-path="${te.path}"]`);de&&(de.dataset.state=te.state),te===T&&(Ze(te),Ee(te))}function Pe(te,de,pe,se,we=Fe=>{setTimeout(Fe,1)}){if(te!==N)return Promise.reject("Computation plan is canceled");for(let Fe=de,Be=!1;Fe<te.length;Fe++){let ge=te[Fe];if(ge.state==="awaiting"&&(ge.state="computing"),Be?ge.state="canceled":ge.state==="failed"&&(Be=!0),ge.state!=="computing"){if(pe=ge.computed,se=ge.context,Te(ge),ge===T)return Promise.resolve(ge);continue}return new Promise((Ae,U)=>{ge.data=pe,ge.context=se,Te(ge),we(()=>{if(te!==N)return Promise.reject("Computation plan is canceled");let re=Date.now();try{ge.computed=t.query(ge.query,ge.data,ge.context),ge.state="successful"}catch(J){ge.error=J,ge.state="failed"}ge.duration=Date.now()-re,setTimeout(()=>Pe(te,Fe,pe,se).then(Ae,U),1)})})}return Promise.reject("No target computation found")}function Me(te,de,pe,se){let we=te.current,Fe=Ep(te,we),Be=[],ge=null;for(let Ae=0,U=Math.min(we.length,se.length);Ae<U;Ae++){let re=se[Ae],Oe=Ae===we.length-1?h:Fe[Ae].query||"";if(!Object.is(re.query,Oe)||!Object.is(re.data,de)||!Object.is(re.context,pe))break;Be.push(re),re.path=we.slice(0,Ae+1).join(" "),de=re.computed,ge=re.error}for(let Ae=Be.length;Ae<we.length;Ae++){let re=Ae===we.length-1?h:Fe[Ae].query||"",J=se[Ae]={state:ge?"canceled":"awaiting",path:we.slice(0,Ae+1).join(" "),query:re||"",data:void 0,context:void 0,computed:void 0,error:null,duration:0};se[Ae]=J,Be.push(J)}return Be}function ye(te,de){if(te===de)return!0;if(te.length!==de.length)return!1;for(let pe=0;pe<te.length;pe++)if(!Object.is(te[pe],de[pe]))return!1;return!0}function ut(te,de,pe){let se=Me(te,de,pe,L),we=se[se.length-1],Fe=!ye(N,se),Be=!ye(C,te.current);N=se,C=te.current,we!==T&&(T=we,Te(we));let ge=Pe(N,0,de,pe,Ae=>requestAnimationFrame(()=>setTimeout(Ae,1)));if(Fe||Be){let Ae=new Map(se.map(({path:re,state:J})=>[re,J]));for(let re of Y.querySelectorAll("[data-path]")){let J=re,Oe=J.dataset.state,ot=Ae.get(J.dataset.path);Oe!==ot&&(typeof ot=="string"?J.dataset.state=ot:delete J.dataset.state)}let U=document.createComment("");Y.replaceWith(U),U.replaceWith(Y)}return T!==we&&(T=we,Te(T)),ge}return{el:fe,createSubquery:Ie,appendToQuery(te){let de=typeof h=="string"&&h.trimRight()!==""?h.replace(/(\n[ \t]*)*$/,()=>`
| `+te):te;Ye({query:de},!0,!0)},perform(te,de){let pe=Vl(de,w),se=Xi(de),we=se.query,Fe=se.view,Be=pA({...se.graph||o});return j.classList.toggle("root",Be.current.length<2),x=yI(E,pe.datasets||[],x),vI(Y,Be,t,{query:we,view:Fe}),m=Be,w=pe,h=we,g=Fe,ut(m,te,pe)}}}var mA=I(()=>{ze();$t();qr();Ts();Hi()});function Gl(t){return!!(t&&t.nodeType===Node.TEXT_NODE)}function Tp(t,e=`
`){let r="";for(let o of t.childNodes)!Gl(o)&&o.previousSibling&&!Gl(o.previousSibling)&&(r+=e),r+=wI(o,e);return r}function wI(t,e=`
`){switch(t.nodeType){case Node.ELEMENT_NODE:let[r,o=""]=t.cloneNode().outerHTML.split(/(?=<\/[^>]+>$)/);return r+(t.firstChild&&!Gl(t.firstChild)?e+"  ":"")+Tp(t,e+"  ")+(t.lastChild&&!Gl(t.lastChild)?e:"")+o;case Node.TEXT_NODE:return t.nodeValue;case Node.COMMENT_NODE:return"<!--"+t.nodeValue+"-->";case Node.DOCUMENT_FRAGMENT_NODE:return Tp(t,e)}return""}function yA(t,e){let r=[],o=[...Array.isArray(t.highlight)?t.highlight:t.highlight?[t.highlight]:[]];Array.isArray(t.highlightProps)&&o.push(`(")?(?:${t.highlightProps.join("|")})\\1(?=:)`);for(let s of o){let u=new RegExp(s,"gm"),f=null;for(;f=u.exec(e);)r.push({range:[f.index,f.index+f[0].length]})}return r}function Yl(t){let e={view:"context",modifiers:[{view:"switch",when:"beforeDemo",content:[{when:({beforeDemo:r})=>typeof r=="string",content:'html:"<p>" + beforeDemo + "</p>"'},{content:{view:"render",config:"beforeDemo",context:"{ __demoContext: true, ...(viewDef | { name, group, options }) }"}}]},{view:"block",when:"demo or view",className:"usage-render",postRender(r,{onInit:o},{demoFixed:s},u){s&&(r.classList.add("demo-fixed"),r.style.height=s+"px"),r.dataset.renderType=u.render,o(r,"root")},content:{view:"render",config:'demo or view | #.render != "text" ?: [{ view: "text-render", content: $ }, { view: "text-render-tree", when: false, content: $ }]',data:"demoData",context:"{ __demoContext: true, ...(viewDef | { name, group, options }) }"}},{view:"switch",when:"afterDemo",content:[{when:({afterDemo:r})=>typeof r=="string",content:'html:"<p>" + afterDemo + "</p>"'},{content:{view:"render",config:"afterDemo",context:"{ __demoContext: true, ...(viewDef | { name, group, options }) }"}}]}],content:{view:"tabs",when:"source != false",className:"usage-sources",name:"code",tabs:[{value:"config",text:"Config (JS)"},{value:"config-json",text:"Config (JSON)"},{value:"html",text:"Rendered HTML"}],content:{view:"switch",content:[{when:'#.code="config"',content:[{view:"expand",when:'"demoData" in $',header:'text:"Input data"',content:{view:"struct",expanded:2,data:"demoData"}},{view:"source",className:"first-tab",data:r=>{let o=Wn(r.demo||r.view);return{syntax:"discovery-view",content:o,refs:yA(r,o)}}}]},{when:'#.code="config-json"',content:[{view:"expand",when:'"demoData" in $',header:'text:"Input data"',content:{view:"struct",expanded:2,data:"demoData"}},{view:"source",data:r=>{let o=JSON.stringify(r.demo||r.view,null,4);return{syntax:"json",content:o,refs:yA(r,o)}}}]},{when:'#.code="html"',content:{view:"source",data:(r,o)=>({syntax:"html",content:Tp(o.root)})}}]}}};return{view:"block",className:"discovery-view-usage",context:Mp(t),data({name:r,options:o},s){let u=s.views.selected.filter(f=>f.options.usage===o.usage).map(f=>f.name);return u.includes(r)||u.unshift(r),s.viewDef={demo:{view:r,data:'"'+r+'"'},...typeof o.usage=="function"?o.usage(r,u):Array.isArray(o.usage)?{examples:o.usage}:o.usage,name:r,group:u,options:o}},content:["h1:name",e,{view:"list",data:"examples",whenData:!0,itemConfig:{className:"usage-section"},item:["h2{ anchor: true, data: title }",e]}]}}var Mp,Lp=I(()=>{Bi();Mp=t=>(e,r)=>{let o=r.params?.render==="text"?"text":"web",s=[...t.view.values],u=[...t.textView.values];return{...r,render:o,views:{webViews:s,textViews:u,selected:o==="text"?u:s}}}});function xI(t,e,r){return $("div",{class:"discovery-editor-tab",onclick:()=>r({view:e})},t||"Untitled preset")}function wA(t,e){let r=t.view.ViewEditor,o=bI,s={},u,f,d,h,g,m=new r().on("change",L=>g.checked&&e({view:L},!0)),w=$("div","buttons"),x=$("div","form view-editor-form",[$("div","view-editor-form-header",[$("div","discovery-editor-tabs view-mode",h=["Default","Custom"].map(L=>$("div",{class:"discovery-editor-tab","data-mode":L.toLowerCase(),onclick(){this.classList.contains("active")?e({viewEditorHidden:!x.classList.contains("hide-editor")},!0):e({view:L==="Default"?void 0:vA,viewEditorHidden:!1},!0)}},L==="Custom"?[L,$("span","show-view-editor-toggle")]:L))),$("div","discovery-editor-tabs presets",o.map(({name:L,content:N})=>xI(L,N,e))),$("div","view-editor-form-header-links",'<a href="#views-showcase" class="view-link">Views showcase</a>')]),$("div","view-editor-form-content",[$("button",{class:"view-button formatting",title:"Prettify (input should be a JSON)",onclick(){m.focus();try{let L=m.getValue().trim(),N=new Function("return 0,"+L)();e({view:Wn(N)})}catch(L){t.logger.error("View editor prettify failed:",L)}}}),m.el,$("div","editor-toolbar",[u=$("div","view-expand",[$("div",{class:"header",onclick(){u.classList.toggle("expanded"),d.classList.toggle("visible")}},[f=$("div","header-content"),$("div","trigger")]),d=$("div","view-editor-view-list")]),$("label","view-checkbox",[g=$("input",{class:"live-update",type:"checkbox",checked:!0,onchange(){this.checked&&e({view:m.getValue()},!0)}}),$("span","view-checkbox__label","build on input")]),w])])]);t.view.render(w,{view:"button-primary",content:'text:"Build"',onClick(){s={},e({view:m.getValue()},!0),t.scheduleRender("page")}}),new t.view.Popup({className:"view-editor-view-list-hint",hoverTriggers:".view-editor-view-list .item.with-usage",render(L,N){t.view.render(L,Yl(t),t.view.get(N?.textContent),{})}}),f.textContent=`Available ${[...t.view.entries].filter(([,L])=>L.options.usage).length} views`;let D=()=>d.innerHTML='<a href="#views-showcase" class="view-link">Views showcase</a><br><br>'+[...t.view.entries].sort().map(([L,N])=>`<div><a class="item view-link${N.options.usage?" with-usage":""}" ${N.options.usage?'href="#views-showcase:'+L+'"':""}>${L}</a></div>`).join("");return D(),t.view.on("define",_r(D,100)),{el:x,render(L,N,T){let C=Vl(N,s.context),k=Xi(N),M=typeof k.view=="string"?"custom":"default",O=M==="default"||k.viewEditorHidden===!0,F=k.view,P=null;if(m.setValue(F),x.classList.toggle("hide-editor",O),h.forEach(j=>j.classList.toggle("active",j.dataset.mode===M)),!F&&M==="default"&&(F=vA),s.view!==F||s.data!==L||s.context!==C){T.innerHTML="";try{P=Function("return "+(F?"0,"+F:"null"))(),t.view.render(T,P,L,C)}catch(j){t.view.render(T,H=>{H.className="discovery-error render-error",H.innerHTML=Ve(String(j))+"<br>(see details in console)",t.logger.error(j)})}s={data:L,context:C,view:F}}}}}var vA,bI,bA=I(()=>{ps();ze();$t();Bi();Ts();Lp();vA=`{
    view: 'struct',
    expanded: 1
}`,bI=[{name:"Table",content:Wn({view:"table"})},{name:"Auto-link list",content:Wn({view:"ol",item:"auto-link"})},{name:"Signature",content:Wn({view:"signature",expanded:2})},{name:"Text render",content:Wn({view:"text-render",content:["table"]})}]});function xA(t){function e(h,g){return t.setPageParams({...t.pageParams,...h},g)}function r(){if(f!==null)return f;let h=cA(t,e),g=gA(t,e),m=wA(t,e),w=$("div",{class:"discovery-editor discovery-hidden-in-dzen",hidden:!0},[g.el,m.el]),x=$("div","discovery-render-content"),D=[...h.el,w,x];return f={header:h,queryEditor:g,viewEditor:m,discoverEditorEl:w,discoverContentEl:x,layout:D}}function o(h){return h===d}function s(h,g){o(g)&&r().queryEditor.createSubquery(h)}function u(h,g){o(g)&&r().queryEditor.appendToQuery(h)}let f=null,d=NaN;t.on("pageStateChange",h=>{t.pageId!==h.id&&(t.pageId===t.discoveryPageId?(t.action.define("queryAcceptChanges",o),t.action.define("querySubquery",s),t.action.define("queryAppend",u)):(t.action.revoke("queryAcceptChanges"),t.action.revoke("querySubquery"),t.action.revoke("queryAppend")))}),t.page.define("discovery",function(h,g,m){let{header:w,queryEditor:x,viewEditor:D,discoverEditorEl:L,discoverContentEl:N}=r();L.hidden=m?.params.noedit,w.render(g,m),d=NaN,x.perform(g,m).then(T=>{if(T.error){D.el.hidden=!0,N.hidden=!0;return}d=T.computed,D.el.hidden=!1,N.hidden=!1,D.render(d,m,N)},()=>{})},{reuseEl:!0,init(h){r().layout.forEach(g=>h.appendChild(g))},encodeParams:aA,decodeParams:lA})}var kA=I(()=>{ze();Ts();fA();mA();bA()});var CA,AA=I(()=>{CA=`
## Working with views

In Discovery.js, presentations are organized as a tree of views. Views are defined using object notation, where the \`view\` property specifies the type, and additional properties allow further customization.

\`\`\`discovery-view
{
    view: "view-name"
}
\`\`\`

A view definition takes \`data\` and \`context\` values, which can be used to define properties and control rendering. Views can transform data and context (using the \`data\` and \`context\` properties) for use by the view and its descendant views, enabling clear data flow. Views are rendered by calling the render method:

\`\`\`js
discovery.render(containerEl, viewDefinition, data, context)
\`\`\`

Discovery.js is designed to be declarative. For dynamic calculations or event handling, [jora](https://discoveryjs.github.io/jora/) queries are preferred over JavaScript functions.

Each view can use the following properties:

- \`view\` (required) \u2014 Specifies the view type.
- \`when\` \u2014 Controls whether the view should be rendered. Evaluated before \`data\` transformation.
- \`context\` \u2014 Transforms the input context for the view and its nested views.
- \`data\` \u2014 Transforms the input data for the view and its nested views.
- \`whenData\` \u2014 Controls rendering based on the computed \`data\`. Evaluated after \`context\` and \`data\` are set.
- \`className\` \u2014 Adds CSS class name(s) to the root element of the view (see [ClassName](#!classname)).
- \`postRender\` \u2014 A function executed after rendering the view but before placing it in the DOM.
- \`tooltip\` \u2014 Sets up a tooltip for the view (only applicable to views with a container element, see [Tooltips](#!tooltips)).

The sequence of property evaluation during rendering (view render lifecycle):

\`\`\`
[start]               render(data, context)
 \\                          |     |
  * when()                  |     | stop rendering when value is falsy
  |\\                        |     |
  | * context() ------------|-----* (async) replace \`context\` with new value
  |  \\                      |     |
  |   * data() -------------*     | (async) replace \`data\` with new value
  |    \\                    |     |
  |     * whenData()        |     | stop rendering when value is falsy
  |     |\\                  |     |
  |     | * (render)        |     | (async) main render logic
  |     |  \\                |     |
  |     |   * postRender()  |     | do something once (render) is done
  |     |    \\              |     |
  |     |     * className() |     | compute className and apply to root element
  |     |      \\            V     V
  +-----+-----> * [finish render]
\`\`\`

- \`context\` and \`data\` \u2014 Modify the flow of context or data based on the provided value:
  - **String** \u2014 Treated as a jora query, and its result is used.
  - **Function** (\`fn(data, context)\`) \u2014 The result of the function invocation is used.
  - **Other values** \u2014 Directly used as a new value for data or context.
- \`when\` and \`whenData\` \u2014 Determine if a view should be rendered:
  - **String** \u2014 Treated as a jora query.
  - \`true\` \u2014 Evaluated as an empty query, meaning the data itself is tested for truthiness.
  - \`undefined\` \u2014 Treated as not specified, allowing rendering.
  - **Function** (\`fn(data, context)\`) or other values \u2014 Evaluated for truthiness.
  > Note: In jora, empty arrays and objects with no own keys are falsy, unlike JavaScript where they are truthy.

\`\`\`discovery-view
{
    view: 'list',
    data: 'some.list.sort(name asc)', // Fetch an array for the list view, based on current data
    whenData: 'size() > 0',  // Check if the array has elements, skip rendering if empty
    item: 'text:name' // Render each element as text, displaying the name
}
\`\`\`

## Computable property values

If a property starts with \`=\`, it indicates a jora query used to compute the property's value before a rendering.

\`\`\`discovery-view
{
    view: 'list',
    limit: '=size() <= 12 ? false : 10' // Dynamically computes the limit based on flow data
}
\`\`\`

> To pass a literal string that starts with \`=\`, use a query like \`'="=some string"'\`.

## Shorthand notations

Discovery.js supports shorthand notations for defining views, making the configuration more concise:

| Shorthand notation                      | Expanded form                                      |
| --------------------------------------- | -------------------------------------------------- |
| \`'name'\`                                | \`{ view: 'name' }\`                                 |
| \`'name:<query>'\`                        | \`{ view: 'name', data: '<query>' }\`                |
| \`'name{ foo: size() / 2, bar: "qux" }'\` | \`{ view: 'name', foo: '=size() / 2', bar: 'qux' }\` |

## Lists of views

Multiple views can be combined into a list using an array:

\`\`\`discovery-view
{
    view: 'list',
    item: [ // render two views as a content of a list item
        'text:name',
        { view: 'badge', data: 'something.size()' }
    ]
}
\`\`\`

## ClassName

The \`className\` property uses a sequence of transformations to convert its input into a final array of class names. This process can start from different input forms \u2014 such as a jora query, a function, a string, or an array \u2014 and move through each step until a definitive result is obtained. At each stage, the current value is examined and transformed if applicable; if not, the process continues to the next step:

1. **Jora Query (String Starting with \`=\`)**  
   If the initial value begins with \`=\`, it is treated as a jora query and compiled into a function. That function is then processed as described in the next step.

   \`\`\`discovery-view
   {
       view: "text",
       className: "=isValid ? 'valid' : 'invalid'"
   }
   \`\`\`
   <br>

2. **Function**  
   Once a function is available (either provided directly or obtained from a jora query) it is called with \`(data, context)\`. The return value can be a string or an array, otherwise discarded.

   \`\`\`discovery-view
   {
       view: "text",
       className: (data, context) => data.flag ? "highlighted" : null
   }
   \`\`\`
   <br>

3. **String**  
   Any string (obtained from the previous steps or provided directly) is trimmed and split by whitespace to produce an array of class names, excluding empty entries.

   \`\`\`discovery-view
   {
       view: "text",
       className: "primary emphasized"
   }
   \`\`\`
   <br>

4. **Array**  
   When the value is or becomes an array, each element is processed:
   - If an element is a function, it is called with \`(data, context)\` and its result replaces the function.
   - All falsy or empty results are removed.

   \`\`\`discovery-view
   {
       view: "text",
       className: [
           "base-class",
           data => data.error && "error-indicator",
           ""
       ]
   }
   \`\`\`

   If \`data.error\` is true, this may result in \`class="base-class error-indicator"\`. If \`data.error\` is false, the array would become \`["base-class", false, ""]\`, and after filtering out falsy and empty values, it results in \`class="base-class"\`.

If, after all steps, there are no valid class names, the \`class\` attribute is not applied. This cascading process ensures any initial input \u2014 jora query, function, string, or array \u2014 is consistently transformed into a meaningful final list of class names.

## Tooltips

Tooltips can be configured using a simple view definition or an object with additional settings. When the \`tooltip\` value is a view definition, it becomes the \`content\` of the tooltip.

\`\`\`discovery-view
{
    view: 'button',
    tooltip: 'md:"Some **content**"'
}
\`\`\`

\`\`\`discovery-view
{
    view: 'button',
    tooltip: {
        position: 'trigger',
        content: 'md:"Some **content**"'
    }
}
\`\`\`

| Tooltip value                     | Normalized tooltip config                      |
| --------------------------------- | ---------------------------------------------- |
| \`'shorthand-view-notation'\`       | \`{ content: 'shorthand-view-notation' }\`       |
| \`{ view: 'name', ... }\`           | \`{ content: { view: 'name', ... } }\`           |
| \`['view', { view: 'name', ... }]\` | \`{ content: ['view', { view: 'name', ... }] }\` |

Tooltip options:

- \`className\` \u2014 Additional class names for the tooltip element.
- \`position\` \u2014 Where the tooltip is positioned. Options are \`'trigger'\` or \`'pointer'\` (default).
- \`positionMode\` \u2014 Positioning mode. Options are \`'natural'\` (default) or \`'safe'\`.
- \`pointerOffsetX\` \u2014 Horizontal offset from the pointer (default: 3).
- \`pointerOffsetY\` \u2014 Vertical offset from the pointer (default: 3).
- \`hideOnTriggerClick\` \u2013 Hide the tooltip when click a trigger element.
- \`showDelay\` \u2014 Delay before showing the tooltip. Options are \`true\` (300ms, default), \`false\` (0ms), a number, or a function that returns a boolean or numeric value.
- \`content\` \u2014 View configuration for tooltip content.
`});var DA,SA=I(()=>{DA=`
## Working with text views

Text views in Discovery.js adhere to the same underlying principles as standard web-based views but are simplified due to the constraints of textual representation (e.g., lack of interactivity and styling).

Text views are managed through the \`Model#textView\` interface, enabling text rendering for any model type (\`Model\`, \`ViewModel\`, \`ScriptModel\`, etc.):

\`\`\`js
model.textView.define('text-view-name', render);
// ...
const renderTree = model.textView.render(null, 'text-view-name:...', data, context);
const { text } = model.textView.serialize(renderTree);

console.log(text);
\`\`\`

Each text view supports a limited set of properties compared to regular views, but these retain the same semantics:

- \`view\` (required) \u2014 Specifies the view type.
- \`when\` \u2014 Controls whether the view should be rendered. Evaluated before \`data\` transformation.
- \`context\` \u2014 Transforms the input context for the view and its nested views.
- \`data\` \u2014 Transforms the input data for the view and its nested views.
- \`whenData\` \u2014 Controls rendering based on the computed \`data\`. Evaluated after \`context\` and \`data\` are set.

## Layout model

The text renderer builds a render tree composed of **box nodes** and **text nodes**.

- **Text nodes**: Represent direct text strings. Their values can include newline characters.
- **Box nodes**: Define the layout of their content and can optionally render a "border" around it. The content is generated by rendering child nodes, which can be a mix of box and text nodes. Box nodes support several display types:
    - \`inline\` \u2014 Inserts its content lines as-is.
    - \`inline-block\` \u2014 Ensures that whitespace is added before and after its content to prevent merging with adjacent boxes. If the content spans multiple lines, subsequent lines align with the first line.
    - \`line\` \u2014 Places the box's content on a new line within its parent box.
    - \`block\` \u2014 Similar to \`line\`, but also adds an extra empty line before and after the content when needed.

\`\`\`render:text
[
  'text:"\u2026text\u2026"',
  'inline:"<inline\\\\nwith multi-line\\\\ntext...>"',
  'text:"\u2026text\u2026"',
  'inline-block:"<inline-block\\\\nwith multi-line\\\\ntext...>"',
  'text:"\u2026text\u2026"',
  'line:"<line\\\\nwith multi-line\\\\ntext...>"',
  'text:"\u2026text\u2026"',
  'block:"<block\\\\nwith multi-line\\\\ntext...>"',
  'text:"\u2026text\u2026"'
]
\`\`\`

## Box border

A box border is an optional decorative frame that can be drawn around a box node\u2019s content. Although termed a "border", its appearance is highly customizable and might not resemble a traditional border. A border can consist of up to four sides \u2013 top, right, bottom, and left \u2013 and by default, boxes have no border.

There are slight differences in how vertical (left and right) and horizontal (top and bottom) borders are defined, though the corresponding pairs behave similarly.

### Vertical sides (left and right)

Left and right borders specify the characters to be prepended or appended to each line of the box\u2019s content, effectively drawing vertical lines along the sides. The value for these borders can be defined in several ways:

- **Falsy value:** A falsy value (e.g., \`null\`, empty string) means no border is drawn.
- **String:** A static string that is added to the beginning (for \`left\`) or end (for \`right\`) of each line. For the \`right\` border, lines are padded with spaces to ensure consistent line lengths.
- **Function:** A function with the signature \`(index, total) => string | undefined\` for fine-tuned control. This allows different characters for the first, middle, and last lines. For example:
  
  \`\`\`js
  const leftBorder = (index, total) =>
      total === 1 ? '[' :
      index === 0 ? '\u23A1' :
      index + 1 === total ? '\u23A3' : '\u23A2';
  \`\`\`
  
  If the function returns strings of varying lengths, they are padded with spaces (from the start for \`left\` and from the end for \`right\`) to equalize their lengths.
- **Array of strings:** An array of 1 to 4 strings representing \`start\`, \`middle\`, \`end\`, and \`single\` cases, respectively. For example:
  
  \`\`\`js
  const leftBorder = ['\u23A1', '\u23A2', '\u23A3', '['];
  \`\`\`

  This form is equivalent to a function that selects the appropriate border based on the line index and total number of lines:

  \`\`\`ts
  function borderLR(start: string, mid = start, end = mid, single = start) {
      return (idx: number, total: number) =>
          total === 1 ? single : idx === 0 ? start : idx + 1 === total ? end : mid;
  }
  \`\`\`

### Horizontal Sides (top and bottom)

Top and bottom borders define the first and last lines of the box after the left and right borders have been applied. Their value can be set in one of the following ways:

- **Falsy value:** No border is drawn if the value is falsy.
- **String:** A static string that is repeated to achieve the required total length (\`midLen + leftLen + rightLen\`).
- **Function:** A function with the signature \`(midLen, leftLen, rightLen) => string | undefined\` that returns a string. If the returned string is non-empty, it is truncated to match the total length. For example:

  \`\`\`js
  const topBorder = (midLength, leftLen, rightLen) =>
      \`\${<}\${''.padEnd(midLength + leftLen + rightLen, '-')}\${>}\`;
  \`\`\`

- **Array of strings:** An array of 1 to 3 strings representing \`start\`, \`middle\`, and \`end\` segments. This is equivalent to a function that constructs the border by concatenating the start, a repeated middle, and the end string. For example:
  
  \`\`\`js
  const topBorder = ['<', '-', '>'];
  \`\`\`

  This form is equivalent to a call the function:

  \`\`\`ts
  function borderTB(start: string, mid = start, end = mid) {
    return (m: number, l: number, r: number) =>
        \`\${start}\${''.padStart(m + l + r - start.length - end.length, mid)}\${end}\`;
  }
  \`\`\`

### Using borders in views

Most view definitions include a preset border that cannot be modified. However, any content can be wrapped in a basic box view (\`inline\`, \`inline-block\`, \`line\`, or \`block\`) to add a border.

For example, a full border definition using array notation for sides:

\`\`\`render:text
{
    view: 'inline-list',
    data: [1, 2, 3, 4, 5],
    item: {
        view: 'inline-block',
        data: '$seq:=>?[...$ - 1 | $seq(), "line " + $]:[];$seq().join("\\\\n")',
        border: {
            top: ['\u2190', '-', '\u2192'],
            left: ['\u2191 ', '|', '\u2193', '[ '],
            right: [' \u2191', '|', '\u2193', ' ]'],
            bottom: ['\u2190', '-', '\u2192']
        }
    }
}
\`\`\`

Borders can also be specified in a compact array notation following the TRBL (top, right, bottom, left) order, similar to CSS:

\`\`\`render:text
{
  view: 'block',
  border: ['T', 'R', 'B', 'L'],
  content: 'text:"    \\\\n "'
}
\`\`\`

If the bottom border element is undefined, it inherits the top border value (if defined). Similarly, if the left border is undefined while the right border is specified, the left border adopts the right border value. This mechanism allows you to define vertical and horizontal borders with just two elements.

\`\`\`render:text
{
  view: 'block',
  border: ['-', '|'],
  content: 'text:"    \\\\n "'
}
\`\`\`

The following example demonstrates the difference between \`undefined\` and a falsy value (such as \`null\`):

\`\`\`render:text
{
  view: 'block',
  border: [['+', '-', '+'], '|', undefined, null],
  content: 'text:"    \\\\n "'
}
\`\`\`

Each element in the concise notation accepts any value applicable for a side in object notation, i.e. a string, a function or array of strings.
`});function TA(t){t.on("pageAnchorChange",e=>{if(t.pageId==="views-showcase"&&e&&!t.pageAnchor){let r=t.dom.content.querySelector(".page-views-showcase > .content");r&&(r.scrollTop=0)}}),t.page.define("views-showcase",{view:"context",context:Mp(t),data:"#.views.selected",modifiers:[{view:"block",className:"sidebar",content:[{view:"block",className:"sidebar-header",content:[{view:"link",className:'="index-page-link" + (#.id ? " view-selected" : "")',href:'="".pageLink(#.page, #.params.render |? { render: $ })',text:"Intro"},{view:"context",content:{view:"toggle-group",className:"render-toggle",beforeToggles:'text:"Render:"',value:"=#.render",onChange(e){t.setPageParams(e==="text"?{render:"text"}:{})},data:[{value:"web"},{value:"text"}]}}]},{view:"content-filter",content:{view:"menu",name:"view",limit:!1,emptyText:"Nothing matched",item:"text-match:{ text: name, match: #.filter }",itemConfig:{postRender(e,r,o){e.dataset.name=o.name}},context:(e,r)=>({...r,selectedViewId:t.pageRef}),data:`
                                .[name ~= #.filter]
                                .sort(name asc)
                                .({ ..., disabled: no options.usage, selected: name = #.selectedViewId })
                            `}}]}],content:{view:"block",className:"content",data:"$[=> name=(#.view.name or #.id)]",content:{view:"switch",context(e,r){return t.overridePageHashStateWithAnchor({ref:e?.name,anchor:t.pageRef===(e?.name||null)?t.pageAnchor:null}),t.cancelScheduledRender(),setTimeout(()=>{let o=t.dom.root.querySelector("article > .view-block.sidebar .index-page-link"),s=t.dom.root.querySelector("article > .view-block.sidebar > .view-content-filter > .content");o&&o.classList.toggle("view-selected",t.pageRef),s&&(s.querySelector(":scope .view-menu-item.selected")?.classList?.remove("selected"),s.querySelector(`:scope .view-menu-item[data-name=${CSS.escape(e?.name)}]`)?.classList?.add("selected"))},50),{...r,id:t.pageRef}},content:[{when:"no $ and #.id",content:'alert-warning:"View \\"" + #.id + "\\" not found"'},{when:"no $",content:[`h1:#.render = "text" ? "Model's text views" : "Model's views"`,'alert:"\u2190 Select a view to get details"',{view:"markdown",when:'#.render = "web"',source:CA,codeConfig:EA},{view:"markdown",when:'#.render = "text"',source:DA,codeConfig:EA}]},{content:[Yl(t)]}]}}},{sidebar:!1})}var EA,MA=I(()=>{Lp();AA();SA();EA={view:"switch",content:[{when:'syntax="render:text"',content:{view:"block",className:"view-render",content:[{view:"block",className:"view-render__source",content:'source{ syntax: "discovery-view", source }'},{view:"block",className:"view-render__result",data:t=>({...t,config:{view:t.syntax==="render:text"?"text-render":"context",content:Function("return "+t.source)()}}),content:"render{ config }"}]}},{content:"source"}]}});var Ql={};Se(Ql,{default:()=>nA,discovery:()=>xA,notFound:()=>iA,viewsShowcase:()=>TA});var Fp=I(()=>{rA();oA();kA();MA()});function Np(t,e,r){r?t.dataset[e]=r:delete t.dataset[e]}function DI(t,e,r,o){let s=t.page.get(e)?.options;return s!==void 0&&De(s,r)?s[r]:o}function FA(t,e,r,o){let s=DI(t,e,r,o);return typeof s=="function"?s:o}var kI,LA,CI,AI,Ms,Op=I(()=>{ze();va();Hi();it();ed();lr();Ei();rd();Zw();fd();Xw();yd();kp();Fp();kI=["nav","sidebar","page"],LA=()=>{},CI=t=>t,AI=t=>Object.fromEntries(t);Ms=class extends us{compact;colorScheme;inspectMode;view;nav;preset;page;#e;#t;defaultPageId;discoveryPageId;reportToDiscoveryRedirect;pageId;pageRef;pageParams;pageAnchor;pageHash;dom;queryExtensions;constructor(e){let{container:r,styles:o,extensions:s,logLevel:u,compact:f,darkmode:d="light-only",darkmodePersistent:h=!1,colorScheme:g=d,colorSchemePersistent:m=h,defaultPage:w,defaultPageId:x,discoveryPageId:D,reportToDiscoveryRedirect:L=!0,inspector:N=!1}=e||{};super({...e,logLevel:u||"perf",extensions:void 0}),("darkmode"in e||"darkmodePersistent"in e)&&this.logger.warn('ViewModel "darkmode" option is deprecated, use "colorScheme" instead'),this.compact=!!f,this.colorScheme=new ga(g,m),this.inspectMode=new Et(!1),this.initDom(o),this.view=new gl(this),this.nav=new hl(this),this.preset=new yl(this.view),this.page=new ml(this,this.view),this.#e=new Set,this.#t=16,this.defaultPageId=x||"default",this.discoveryPageId=D||"discovery",this.reportToDiscoveryRedirect=!!L,this.pageId=this.defaultPageId,this.pageRef=null,this.pageParams={},this.pageAnchor=null,this.pageHash=this.encodePageHash(this.pageId,this.pageRef,this.pageParams,this.pageAnchor),this.apply(Wl),this.apply(Ql),w&&this.page.define(this.defaultPageId,w),N&&this.apply(md),this.apply(s),this.setPageHash(this.pageHash),this.setContainer(r),this.scheduleRender();for(let{name:T,page:C}of this.objectMarkers.values)C&&!this.page.isDefined(C)&&this.logger.error(`Page reference "${C}" in object marker "${T}" doesn't exist`)}initRenderTriggers(){this.on("context",()=>this.scheduleRender()),this.on("unloadData",()=>this.scheduleRender()),this.on("pageStateChange",()=>this.scheduleRender("nav","page")),this.on("pageAnchorChange",()=>this.applyPageAnchor()),this.action.on("define",()=>this.scheduleRender("nav","page")).on("revoke",()=>this.scheduleRender("nav","page")),this.page.on("define",e=>{this.pageId===e&&(this.setPageHash(this.pageHash),this.scheduleRender("page"))})}async setData(e,r){let{render:o=!0}=r||{};await super.setData(e,r),o&&this.scheduleRender()}async setDataProgress(e,r,o){let{dataset:s,progressbar:u}=o||{};this.cancelScheduledRender(),this.emit("startSetData",(...f)=>u?.subscribeSync(...f)||(()=>{})),await u?.setState({stage:"prepare"}),await this.setData(e,{dataset:s,setPrepareWorkTitle:u?.setStateStep.bind(u),render:!1}),await u?.setState({stage:"initui"}),this.scheduleRender(),await Promise.all([this.dom.wrapper.parentNode?this.dom.ready:!0,this.enforceScheduledRenders()]),u?.finish()}initDom(e){let r=$("div","discovery"),o=r.attachShadow({mode:"open"}),s=o.appendChild($("div")),u=$("article"),f=$("div","discovery-nav discovery-hidden-in-dzen"),d=$("nav","discovery-sidebar discovery-hidden-in-dzen"),h=$("main","discovery-content",[u]),g=jo(o,this.info.icon?e?.concat(`.discovery-root{--discovery-app-icon:url(${JSON.stringify(this.info.icon)}`):e);this.dom={ready:g,wrapper:r,root:o,container:s,nav:f,sidebar:d,content:h,pageContent:u,detachColorScheme:this.colorScheme.subscribe(m=>s.classList.toggle("discovery-root-darkmode",m==="dark"),!0)},s.classList.add("discovery-root","discovery"),s.append(f,d,h),o.addEventListener("click",m=>{let w=m.target?.closest("a");!w||w.getAttribute("target")||w.origin!==location.origin||w.pathname!==location.pathname||(m.preventDefault(),m.stopPropagation(),w.classList.contains("ignore-href")||this.setPageHash(w.hash)||this.applyPageAnchor())},!0)}setContainer(e){e instanceof HTMLElement?e.append(this.dom.wrapper):this.dom.wrapper.remove()}disposeDom(){typeof this.dom.detachColorScheme=="function"&&(this.dom.detachColorScheme(),this.dom.detachColorScheme=null),this.dom.container.remove(),this.dom=null}addGlobalEventListener(e,r,o){return document.addEventListener(e,r,o),()=>document.removeEventListener(e,r,o)}addHostElEventListener(e,r,o){let s=this.dom.container;return s.addEventListener(e,r,o),()=>s.removeEventListener(e,r,o)}scheduleRender(...e){let r=!1;e.length===0&&(r=!0,e=[...kI]);for(let o of e)this.#e.add(o);this.#e.timer&&clearTimeout(this.#e.timer),this.#e.timer=setTimeout(()=>this.enforceScheduledRenders(),this.#t),this.logger.debug(`Scheduled renders: ${[...this.#e].join(", ")} (requested: ${r?"all":e.join(", ")})`)}async enforceScheduledRenders(){let e=[...this.#e];this.logger.debug(`Enforce scheduled renders: ${e.join(", ")||"none"}`),this.cancelScheduledRender();for(let r of e)switch(r){case"nav":await this.renderNav();break;case"sidebar":await this.renderSidebar();break;case"page":await this.renderPage();break}this.initRenderTriggers!==LA&&(this.initRenderTriggers(),this.initRenderTriggers=LA,this.#t=0)}cancelScheduledRender(e){let r=[...this.#e];e?this.#e.delete(e):this.#e.clear(),this.#e.size===0&&this.#e.timer&&(clearTimeout(this.#e.timer),this.#e.timer=null),this.#e.size!==r.length&&this.logger.debug(`Canceled renders: ${r.join(", ")}`)}getRenderContext(){return{page:this.pageId,id:this.pageRef,params:this.pageParams,...this.getContext()}}renderNav(){return this.cancelScheduledRender("nav"),this.nav.render(this.dom.nav,this.data,this.getRenderContext())}renderSidebar(){if(this.cancelScheduledRender("sidebar"),this.hasDatasets()&&this.view.isDefined("sidebar")){let e=Date.now(),r=this.data,o=this.getRenderContext();return this.view.setViewRoot(this.dom.sidebar,"sidebar",{data:r,context:o}),this.dom.sidebar.innerHTML="",this.view.render(this.dom.sidebar,"sidebar",r,o).finally(()=>this.logger.perf(`Sidebar rendered in ${Date.now()-e}ms`))}}encodePageHash(e,r=null,o,s=null){let u=e||this.defaultPageId,d=FA(this,e,"encodeParams",CI)(o||{});return super.encodePageHash(u!==this.defaultPageId?u:"",r,d,s)}decodePageHash(e){let{pageId:r,pageRef:o,pageParams:s,pageAnchor:u}=super.decodePageHash(e,f=>FA(this,f||this.defaultPageId,"decodeParams",AI));return{pageId:r||this.defaultPageId,pageRef:o,pageParams:s,pageAnchor:u}}setPageHashState(e={},r=!1){return this.setPageHashStateWithAnchor({...e,anchor:null},r)}overridePageHashState(e,r=!1){return this.setPageHashState({...this.getPageHashState(),...e},r)}getPageHashState(){return{id:this.pageId,ref:this.pageRef,params:this.pageParams}}setPageHashStateWithAnchor(e,r=!1){let{id:o=null,ref:s=null,params:u={},anchor:f=null}=e;return this.setPageHash(this.encodePageHash(o||this.defaultPageId,s,u,f),r)}overridePageHashStateWithAnchor(e,r=!1){return this.setPageHashStateWithAnchor({...this.getPageHashStateWithAnchor(),...e},r)}getPageHashStateWithAnchor(){return{...this.getPageHashState(),anchor:this.pageAnchor}}setPage(e,r,o,s=!1){return this.setPageHashState({id:e,ref:r,params:o},s)}setPageRef(e=null,r=!1){return this.overridePageHashStateWithAnchor({ref:e},r)}setPageParams(e,r=!1){return this.overridePageHashStateWithAnchor({params:e},r)}setPageAnchor(e,r=!1){return this.overridePageHashStateWithAnchor({anchor:e},r)}setPageHash(e,r=!1){e.startsWith("#")||(e="#"+e),e.startsWith("#!")&&(e=this.stripAnchorFromHash(this.pageHash)+(e.length>2?"&!anchor="+e.slice(2):""));let{pageId:o,pageRef:s,pageParams:u,pageAnchor:f}=this.decodePageHash(e);if(this.reportToDiscoveryRedirect&&o==="report"&&this.discoveryPageId!=="report"&&setTimeout(()=>this.pageId==="report"&&this.setPageHashStateWithAnchor({id:this.discoveryPageId,ref:s,params:u,anchor:f},!0)),this.pageId!==o||this.pageRef!==s||!zi(this.pageParams,u)){let d=this.getPageHashState();this.pageId=o,this.pageRef=s,this.pageParams=u,this.emit("pageStateChange",d)}if(f!==this.pageAnchor){let d=this.pageAnchor;this.pageAnchor=f,this.emit("pageAnchorChange",d)}return e!==this.pageHash?(this.pageHash=e,this.emit("pageHashChange",r),!0):!1}applyPageAnchor(e=!1){let r=this.dom.pageContent;if(this.pageAnchor){let o=r.querySelector("#"+CSS.escape("!anchor:"+this.pageAnchor));if(o){let s=r.querySelector(".view-page-header");o.style.scrollMargin=s?s.offsetHeight+"px":"",o.scrollIntoView(!0)}}else e||(this.dom.content.scrollTop=0)}renderPage(){this.cancelScheduledRender("page");let{data:e,pageId:r,pageParams:o,compact:s}=this,u=this.getRenderContext();this.logger.debug(`Start page "${r}" rendering...`);let f=Date.now(),{pageEl:d,renderState:h,config:g}=this.page.render(this.dom.pageContent,r,e,u);return this.view.setViewRoot(d,`Page: ${r}`,{inspectable:!1,config:g,data:e,context:u}),this.dom.pageContent=d,Np(this.dom.container,"page",r),Np(this.dom.container,"dzen",!!o.dzen),Np(this.dom.container,"compact",!!s),h.then(async()=>{await this.dom.ready,this.applyPageAnchor(!0)}).catch(m=>{this.logger.error(`Page "${r}" render error:`,m)}),h.finally(()=>{this.logger.perf(`Page "${r}" render done in ${Date.now()-f}ms`)})}}});var NA,OA=I(()=>{NA=t=>{let e="";t.nav.remove("index-page"),t.nav.remove("discovery-page"),t.on("data",()=>{t.defaultPageId!==t.discoveryPageId&&(e=t.defaultPageId,t.defaultPageId=t.discoveryPageId,t.setPageHash(t.pageHash,!0),t.cancelScheduledRender())}),t.on("unloadData",()=>{e!==t.defaultPageId&&(t.defaultPageId=e,t.setPageHash(t.pageHash,!0))})}});function IA(t){return t={accept:"application/json,application/jsonxl,.json,.jsonxl",useAcceptForFilePicker:!1,dragdrop:!0,clipboard:!1,...t},function(e){let r=!!t.useAcceptForFilePicker,o=!!t.dragdrop,s=!!t.clipboard,u=String(t.accept),f=u.split(",");o&&(e.dom.container.addEventListener("drop",d=>{e.loadDataFromEvent(d)},!0),e.dom.container.addEventListener("dragover",d=>{d.stopPropagation(),d.preventDefault()},!0),document.addEventListener("paste",d=>{let{files:h}=d.clipboardData||{files:[]};h?.length>0&&e.loadDataFromEvent(d)})),e.preset.define("upload",[{view:"button-primary",text:'=`Open file${#.actions.uploadFile.fileExtensions |? " (" + join(", ") + ")" : "" | size() > 1 and size() <= 17 ?: "\u2026"}`',onClick:"=#.actions.uploadFile"},{view:"context",when:"#.actions.uploadDataFromClipboard",content:['html:"<span style=\\"color: #888; padding: 0 1ex\\"> or </span>"',{view:"button",text:"Paste from clipboard",onClick:"=#.actions.uploadDataFromClipboard"}]},{view:"context",when:"#.actions.uploadFile.dragdrop",content:['html:"<span style=\\"color: #888; padding: 0 1ex\\"> or </span>"','text:"drop a file on the page"']}]),e.action.define("unloadData",()=>{e.unloadData()}),e.action.define("uploadFile",Object.assign(()=>{$("input",{type:"file",accept:r?u:void 0,onchange:d=>e.loadDataFromEvent(d)}).click()},{fileExtensions:f.filter(d=>PA(d)),mimeTypes:f.filter(d=>!PA(d)),dragdrop:o,clipboard:s})),s&&e.action.define("uploadDataFromClipboard",async()=>{let d=await navigator.clipboard.readText();e.loadDataFromStream(new Blob([d]).stream())})}}var Kl,PA,Pp=I(()=>{ze();Kl=Object.assign(IA(),{setup:IA}),PA=t=>/^\./.test(t)});function Ip(t,e,r){let o=Array.isArray(r)?r:[];return JSON.parse(JSON.stringify(t),(s,u)=>typeof u=="string"&&o.includes(u)?()=>e("navMethod",u):u)}function zA(t){let e=t?.hostId||Di(),r=t?.postponeMessages,o=typeof t?.onNotify=="function"?t.onNotify:()=>{};return function(s){let u=null,f=jA,d=L=>{u?.finish(),u=null,L&&s.logger.debug("Cancel chunked data load from host with error:",L)},h=window.parent,g=new Map,m=(L,N)=>{let T={from:"discoveryjs-app",id:e,type:L,payload:N};h.postMessage(T,"*")},w=L=>{f=()=>{L!==null&&(f=jA,L())}},x=L=>{s.trackLoadDataProgress(L).catch(()=>{})},D=({data:L})=>{let{id:N,type:T,payload:C}=L||{};if(N===e)switch(T){case"notification":{let{name:k,details:M}=C;o(k,M);break}case"defineAction":{let k=C;s.action.define(k,(...M)=>new Promise((O,F)=>{let P=Di();g.set(P,{resolve:O,reject:F}),setTimeout(()=>{g.delete(P),F(new Error("Timeout"))},3e4),m("action",{callId:P,name:k,args:M})}));break}case"actionResult":{let{callId:k}=C;if(!g.has(k)){s.logger.error(`[Discovery.js] Unknown action call id "${k}"`);break}let{resolve:M,reject:O}=g.get(k);"error"in C?O(C.error):M(C.value);break}case"setPageHash":{let{replace:k,hash:M}=C||{};s.setPageHash(M||"",k||!1);break}case"setPageHashState":{let{replace:k,id:M,ref:O,params:F}=C||{};s.setPageHashState({id:M,ref:O,params:F},k);break}case"setPageHashStateWithAnchor":{let{replace:k,id:M,ref:O,params:F,anchor:P}=C||{};s.setPageHashStateWithAnchor({id:M,ref:O,params:F,anchor:P},k);break}case"setPage":{let{replace:k,id:M,ref:O,params:F}=C||{};s.setPage(M,O,F,k);break}case"setPageRef":{let{replace:k,ref:M}=C||{};s.setPageRef(M,k);break}case"setPageParams":{let{replace:k,params:M}=C||{};s.setPageParams(M,k);break}case"setPageAnchor":{let{replace:k,anchor:M}=C||{};s.setPageAnchor(M,k);break}case"setColorSchemeState":{let k=C;if(!ma.includes(k)){s.logger.warn(`Wrong value for colorScheme "${k}", supported values: ${ma.map(M=>JSON.stringify(M)).join(", ")}`);break}s.colorScheme.set(k);break}case"setRouterPreventLocationUpdate":{s.action.call("setPreventLocationUpdate",!!C);break}case"changeNavButtons":{let{section:k="primary",action:M="unknown"}=C;if(!BA.includes(k)){s.logger.warn(`Wrong value for nav button place "${k}", supported values: ${BA.map(O=>JSON.stringify(O)).join(", ")}`);break}switch(C.action){case"insert":{let{name:O,position:F,config:P,commands:j}=C;s.nav[k].insert(Ip(P,m,j),F,O);break}case"prepend":case"append":{let{config:O,commands:F}=C;s.nav[k][C.action](Ip(O,m,F));break}case"before":case"after":case"replace":{let{name:O,config:F,commands:P}=C;s.nav[k][C.action](O,Ip(F,m,P));break}case"remove":{let{name:O}=C;s.nav[k].remove(O);break}default:s.logger.warn(`Wrong value for nav button action "${M}", supported values: ${SI.map(O=>JSON.stringify(O)).join(", ")}`)}break}case"unloadData":{d(),s.unloadData();break}case"dataStream":{let{stream:k,resource:M}=C;d(),x(_o(k,{resource:M}));break}case"startChunkedDataUpload":{let{acceptToken:k,resource:M}=C;d(),u=Object.assign(gc({resource:M}),{acceptToken:k}),x(u);break}case"cancelChunkedDataUpload":{let{acceptToken:k,error:M}=C;u?.acceptToken===k&&d(M)}case"dataChunk":{let{acceptToken:k}=C;if(u===null){s.logger.warn("Loading data is not inited");break}if(u.acceptToken!==k){s.logger.warn("Bad accept token");break}"value"in C&&C.value!==void 0&&u.push(C.value),"done"in C&&C.done&&d();break}default:s.logger.warn(`Got a post-message addressed to discovery app but with unknown "${T}" type`)}};h!==window&&(s.on("pageHashChange",L=>{m("pageHashChanged",{replace:L,hash:s.pageHash||"#",id:s.pageId,ref:s.pageRef,params:s.pageParams,anchor:s.pageAnchor})}),s.on("startLoadData",L=>{f(),w(L(N=>m("loadingState",N)))}),s.on("startSetData",L=>{f(),w(L(N=>m("loadingState",N)))}),s.on("data",()=>{m("data",null)}),s.on("unloadData",()=>{f(),m("unloadData",null)}),s.colorScheme.subscribe((L,N)=>m("colorSchemeChanged",{state:N,value:Si(N)})),Array.isArray(r)&&Promise.resolve().then(()=>{for(let L of r)D({data:L})}),addEventListener("message",D,!1),addEventListener("unload",()=>m("destroy",null),!1),m("ready",{page:{hash:s.pageHash||"#",id:s.pageId,ref:s.pageRef,params:s.pageParams,anchor:s.pageAnchor},colorScheme:{state:s.colorScheme.state,value:s.colorScheme.serializedValue}}))}}var eo,jA,BA,SI,jp=I(()=>{Ei();da();Mi();eo=Object.assign(zA(),{setup:zA}),jA=()=>{},BA=["primary","secondary","menu"],SI=["insert","prepend","append","before","after","replace","remove"]});function Bp(t){function e(){return Pd(o=>t.setPageHash(o),t.logger)}let r=e();t.setPageHash(location.hash),t.cancelScheduledRender(),t.action.define("permalink",o=>new URL(o,String(location)).href),t.action.define("setPreventLocationUpdate",(o=!0)=>{o?(r?.dispose(),r=null):r===null&&(r=e())}),t.on("pageHashChange",o=>r?.set(t.pageHash,o))}var zp=I(()=>{Id()});var to,no,RA=I(()=>{it();ze();Mi();Op();Na();OA();Pp();jp();zp();nd();to=(t,e)=>t!==void 0?t:e,no=class extends Ms{constructor(e={}){let r=[];r.push(Ow),r.push(Pw),r.push(Bw),to(e.router,!0)&&r.push(Bp),e.mode==="modelfree"&&r.push(NA),to(e.upload,!1)&&(r.push(e.upload===!0?Kl:Kl.setup(e.upload||{})),r.push(Iw),r.push(jw)),to(e.inspector,!0)&&r.push(zw),to(e.embed,!1)&&r.push(e.embed===!0?eo:eo.setup(e.embed||{})),super({container:document.body,...e,extensions:e.extensions?[r,e.extensions]:r,colorScheme:to(e.colorScheme??e.darkmode,"auto"),colorSchemePersistent:to(e.colorSchemePersistent??e.darkmodePersistent,!0)})}setLoadingState(e,r){let o=this.dom.loadingOverlay,{progressbar:s}=r||{};switch(e){case"init":{if(o.classList.remove("error","done"),s?.el.parentNode)return;o.replaceChildren(s?.el||"");break}case"success":{o.classList.add("done");break}case"error":{let u=r?.error,f=this.getRenderContext(),d={stage:s?.value.stage,errorText:String(u),errorMessage:u.message||String(u),errorStack:(u.stack||"").replace(/^Error:\s*(\S+Error:)/,"$1")},h=["app-header:#.model",{view:"block",className:"action-buttons",content:[{view:"preset/upload",when:this.preset.isDefined("upload")}]},{view:"block",className:De(u,"renderContent")?"warning-message":"error-message",content:[{view:"block",className:"error-type-badge",postRender(g,m,w){w.stage&&(g.dataset.stage=` on ${w.stage}`)}},"h3:errorText",u.renderContent||'text:"(see details in the console)"']}];o.classList.add("error"),o.replaceChildren(),this.view.setViewRoot(o,"AppOverlay",{inspectable:!1,config:h,data:d,context:f}),this.view.render(o,h,d,f).then(()=>{this.logger.error(u),s?.setState({error:u})});break}}}async setDataProgress(e,r,o){let s=o?.dataset,u=o?.progressbar||this.progressbar({title:"Set data"});try{this.setLoadingState("init",{progressbar:u}),await super.setDataProgress(e,r,{dataset:s,progressbar:u}),this.setLoadingState("success")}catch(f){this.setLoadingState("error",{error:f,progressbar:u})}}progressbar(e){return new Lr({domReady:this.dom.ready,onFinish:r=>this.logger.perf.groupCollapsed(`${e.title||"Load data"} (${r[r.length-1].duration}ms)`,()=>[...r.map(o=>`${o.title}: ${o.duration}ms`),`(await repaint: ${r.awaitRepaintPenaltyTime}ms)`]),...e})}async trackLoadDataProgress(e){let r=this.progressbar({title:e.title});this.cancelScheduledRender(),this.setLoadingState("init",{progressbar:r}),this.emit("startLoadData",r.subscribeSync.bind(r)),Fa(e,r).then(o=>this.setDataProgress(o.data,null,{dataset:o,progressbar:r}),o=>this.setLoadingState("error",{error:o,progressbar:r})),await e.dataset}initDom(e){super.initDom(e),this.dom.container.append(this.dom.loadingOverlay=$("div","loading-overlay done"))}renderPage(){return document.title=this.info.name||document.title,super.renderPage()}}});var HA=I(()=>{ed();Op();RA()});var qA=I(()=>{Dc();HA();$f();kp();Fp();yd();Pp();zp();jp();rd();dc();Al()});var _A={};Se(_A,{default:()=>EI});function EI(t,e,r,o){let s=t.model,u={model:s},f=new no({name:s.name,version:s.version,description:s.description,icon:s.icon,mode:t.mode,styles:t.styles,...Pa(s),upload:s.upload,inspector:s.inspector,router:s.router,encodings:fa,context:u,setup:Cc,extensions:[s.embed&&eo.setup(r),!Cc&&Dm,...Gm]});t.mode==="multi"&&f.nav.menu.append({name:"switch-model",onClick:'=$handler:"openModelIndex".actionHandler(href); $hide: #.hide; $handler and => $hide() or $handler()',data:{text:"Switch model",href:t.indexUrl}});let d={progressbar:e,dataset:o};if(typeof f.setContext=="function"){if(o)return f.setDataProgress(o.data,null,d)}else return f.context=u,o?f.setDataProgress(o.data,u,d):f.scheduleRender()}var WA=I(()=>{Sm();Em();Gu();Ym();qA();kc()});var Ai={name:"Implicit config",version:null,description:null,icon:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9Ii02IC00IDEzNiAxNDAiPgogICAgPHJlY3QgeD0iNjUuNiIgeT0iMjQuNiIgdHJhbnNmb3JtPSJtYXRyaXgoMC45Mzk3IC0wLjM0MiAwLjM0MiAwLjkzOTcgLTkuOTQyNiAzMS44MjgpIiBmaWxsPSIjRkZGRkZGIiB3aWR0aD0iMzkuMyIgaGVpZ2h0PSIzOSI+PC9yZWN0PgogICAgPHJlY3QgeD0iNzAuNiIgeT0iNTIuNyIgdHJhbnNmb3JtPSJtYXRyaXgoLTAuOTM5NyAwLjM0MiAtMC4zNDIgLTAuOTM5NyAxOTQuNzg1MiA4MS4xMjA0KSIgZmlsbD0iI0M3RDdFMiIgd2lkdGg9IjM5LjMiIGhlaWdodD0iMTAiPjwvcmVjdD4KICAgIDxwYXRoIGZpbGw9IiM5OEJFRDgiIGQ9Ik0xMTEuNSw1NC42bC0xLjEsMS4xTDk3LjEsMTkuMWwxLjUsMC4yYzgsMC45LDE0LjcsNi4yLDE3LjQsMTMuN2wwLDBDMTE4LjgsNDAuNCwxMTcsNDguOCwxMTEuNSw1NC42eiI+PC9wYXRoPgogICAgPHBhdGggZmlsbD0iIzQ1NEI1NCIgZD0iTTczLjUsNzIuMmMtMS4yLDAtMi40LTAuOC0yLjgtMkw1Ny4zLDMzLjVjLTAuMy0wLjctMC4yLTEuNiwwLjEtMi4zYzAuMy0wLjcsMC45LTEuMywxLjctMS42bDM2LjktMTMuNGMxLjYtMC42LDMuMywwLjIsMy44LDEuOGwxMy4zLDM2LjZjMC4zLDAuNywwLjIsMS42LTAuMSwyLjNjLTAuMywwLjctMC45LDEuMy0xLjcsMS42TDc0LjUsNzJDNzQuMiw3Mi4xLDczLjgsNzIuMiw3My41LDcyLjJ6TTY0LDM0LjNsMTEuMywzMWwzMS4zLTExLjRsLTExLjMtMzFMNjQsMzQuM3oiPjwvcGF0aD4KICAgIDxyZWN0IHg9IjM1IiB5PSI0Ni43IiB0cmFuc2Zvcm09Im1hdHJpeCgwLjkzOTcgLTAuMzQyIDAuMzQyIDAuOTM5NyAtMTYuMjAxMSAyMC45ODgpIiBmaWxsPSIjRkZGRkZGIiB3aWR0aD0iMzIuOCIgaGVpZ2h0PSIxOS41Ij48L3JlY3Q+CiAgICA8cmVjdCB4PSIzNy4zIiB5PSI1OS44IiB0cmFuc2Zvcm09Im1hdHJpeCgtMC45Mzk3IDAuMzQyIC0wLjM0MiAtMC45Mzk3IDEyNS42NzYzIDEwMy4zOTQ2KSIgZmlsbD0iI0M3RDdFMiIgd2lkdGg9IjMyLjgiIGhlaWdodD0iNiI+PC9yZWN0PgogICAgPHBhdGggZmlsbD0iIzQ1NEI1NCIgZD0iTTM5LjQsNzQuMmMtMC40LDAtMC45LTAuMS0xLjMtMC4zYy0wLjctMC4zLTEuMy0wLjktMS42LTEuN2wtNi43LTE4LjNjLTAuMy0wLjctMC4yLTEuNiwwLjEtMi4zYzAuMy0wLjcsMC45LTEuMywxLjctMS42bDMwLjgtMTEuMmMwLjctMC4zLDEuNi0wLjIsMi4zLDAuMWMwLjcsMC4zLDEuMywwLjksMS42LDEuN0w3Myw1OWMwLjYsMS42LTAuMiwzLjMtMS44LDMuOEw0MC40LDc0QzQwLDc0LjEsMzkuNyw3NC4yLDM5LjQsNzQuMnogTTM2LjUsNTQuN2w0LjYsMTIuN2wyNS4yLTkuMmwtNC42LTEyLjdMMzYuNSw1NC43eiI+PC9wYXRoPgogICAgPHBhdGggZmlsbD0iIzQ1NEI1NCIgZD0iTTcwLDExOC45Yy0xLjIsMC0yLjQtMC43LTIuOC0xLjlsLTE0LTM3LjJsLTguNCwzLjFsLTE3LjIsMzQuNGMtMC43LDEuNS0yLjUsMi4xLTQsMS4zYy0xLjUtMC43LTIuMS0yLjUtMS4zLTRMNDAsNzljMC4zLTAuNywwLjktMS4yLDEuNy0xLjVMNTQsNzMuMWMxLjUtMC42LDMuMywwLjIsMy44LDEuOGwxNSw0MGMwLjYsMS42LTAuMiwzLjMtMS44LDMuOUM3MC43LDExOC44LDcwLjQsMTE4LjksNzAsMTE4Ljl6Ij48L3BhdGg+CiAgICA8cGF0aCBmaWxsPSIjNDU0QjU0IiBkPSJNMTMuNiw4MC4xYy0xLjIsMC0yLjQtMC44LTIuOC0yTDYuMyw2NS45Yy0wLjYtMS42LDAuMi0zLjMsMS44LTMuOGMxLjYtMC42LDMuMywwLjIsMy44LDEuOGw0LjQsMTIuMmMwLjYsMS42LTAuMiwzLjMtMS44LDMuOEMxNC4zLDgwLjEsMTQsODAuMSwxMy42LDgwLjF6Ij48L3BhdGg+CiAgICA8cGF0aCBmaWxsPSIjNDU0QjU0IiBkPSJNMTMuMiw3My4zYy0xLjIsMC0yLjQtMC44LTIuOC0yYy0wLjYtMS42LDAuMi0zLjMsMS44LTMuOEwzNSw1OS4yYzEuNi0wLjYsMy4zLDAuMiwzLjgsMS44YzAuNiwxLjYtMC4yLDMuMy0xLjgsMy44bC0yMi44LDguM0MxMy45LDczLjMsMTMuNiw3My4zLDEzLjIsNzMuM3oiPjwvcGF0aD4KPC9zdmc+Cg==",mode:"single",embed:!1,inspector:!0,router:!0,colorScheme:"auto",colorSchemePersistent:!0,model:{slug:"default",name:"Discovery.js",version:"1.0.0-beta.97",description:"Explore, analyze, share",icon:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9Ii02IC00IDEzNiAxNDAiPgogICAgPHJlY3QgeD0iNjUuNiIgeT0iMjQuNiIgdHJhbnNmb3JtPSJtYXRyaXgoMC45Mzk3IC0wLjM0MiAwLjM0MiAwLjkzOTcgLTkuOTQyNiAzMS44MjgpIiBmaWxsPSIjRkZGRkZGIiB3aWR0aD0iMzkuMyIgaGVpZ2h0PSIzOSI+PC9yZWN0PgogICAgPHJlY3QgeD0iNzAuNiIgeT0iNTIuNyIgdHJhbnNmb3JtPSJtYXRyaXgoLTAuOTM5NyAwLjM0MiAtMC4zNDIgLTAuOTM5NyAxOTQuNzg1MiA4MS4xMjA0KSIgZmlsbD0iI0M3RDdFMiIgd2lkdGg9IjM5LjMiIGhlaWdodD0iMTAiPjwvcmVjdD4KICAgIDxwYXRoIGZpbGw9IiM5OEJFRDgiIGQ9Ik0xMTEuNSw1NC42bC0xLjEsMS4xTDk3LjEsMTkuMWwxLjUsMC4yYzgsMC45LDE0LjcsNi4yLDE3LjQsMTMuN2wwLDBDMTE4LjgsNDAuNCwxMTcsNDguOCwxMTEuNSw1NC42eiI+PC9wYXRoPgogICAgPHBhdGggZmlsbD0iIzQ1NEI1NCIgZD0iTTczLjUsNzIuMmMtMS4yLDAtMi40LTAuOC0yLjgtMkw1Ny4zLDMzLjVjLTAuMy0wLjctMC4yLTEuNiwwLjEtMi4zYzAuMy0wLjcsMC45LTEuMywxLjctMS42bDM2LjktMTMuNGMxLjYtMC42LDMuMywwLjIsMy44LDEuOGwxMy4zLDM2LjZjMC4zLDAuNywwLjIsMS42LTAuMSwyLjNjLTAuMywwLjctMC45LDEuMy0xLjcsMS42TDc0LjUsNzJDNzQuMiw3Mi4xLDczLjgsNzIuMiw3My41LDcyLjJ6TTY0LDM0LjNsMTEuMywzMWwzMS4zLTExLjRsLTExLjMtMzFMNjQsMzQuM3oiPjwvcGF0aD4KICAgIDxyZWN0IHg9IjM1IiB5PSI0Ni43IiB0cmFuc2Zvcm09Im1hdHJpeCgwLjkzOTcgLTAuMzQyIDAuMzQyIDAuOTM5NyAtMTYuMjAxMSAyMC45ODgpIiBmaWxsPSIjRkZGRkZGIiB3aWR0aD0iMzIuOCIgaGVpZ2h0PSIxOS41Ij48L3JlY3Q+CiAgICA8cmVjdCB4PSIzNy4zIiB5PSI1OS44IiB0cmFuc2Zvcm09Im1hdHJpeCgtMC45Mzk3IDAuMzQyIC0wLjM0MiAtMC45Mzk3IDEyNS42NzYzIDEwMy4zOTQ2KSIgZmlsbD0iI0M3RDdFMiIgd2lkdGg9IjMyLjgiIGhlaWdodD0iNiI+PC9yZWN0PgogICAgPHBhdGggZmlsbD0iIzQ1NEI1NCIgZD0iTTM5LjQsNzQuMmMtMC40LDAtMC45LTAuMS0xLjMtMC4zYy0wLjctMC4zLTEuMy0wLjktMS42LTEuN2wtNi43LTE4LjNjLTAuMy0wLjctMC4yLTEuNiwwLjEtMi4zYzAuMy0wLjcsMC45LTEuMywxLjctMS42bDMwLjgtMTEuMmMwLjctMC4zLDEuNi0wLjIsMi4zLDAuMWMwLjcsMC4zLDEuMywwLjksMS42LDEuN0w3Myw1OWMwLjYsMS42LTAuMiwzLjMtMS44LDMuOEw0MC40LDc0QzQwLDc0LjEsMzkuNyw3NC4yLDM5LjQsNzQuMnogTTM2LjUsNTQuN2w0LjYsMTIuN2wyNS4yLTkuMmwtNC42LTEyLjdMMzYuNSw1NC43eiI+PC9wYXRoPgogICAgPHBhdGggZmlsbD0iIzQ1NEI1NCIgZD0iTTcwLDExOC45Yy0xLjIsMC0yLjQtMC43LTIuOC0xLjlsLTE0LTM3LjJsLTguNCwzLjFsLTE3LjIsMzQuNGMtMC43LDEuNS0yLjUsMi4xLTQsMS4zYy0xLjUtMC43LTIuMS0yLjUtMS4zLTRMNDAsNzljMC4zLTAuNywwLjktMS4yLDEuNy0xLjVMNTQsNzMuMWMxLjUtMC42LDMuMywwLjIsMy44LDEuOGwxNSw0MGMwLjYsMS42LTAuMiwzLjMtMS44LDMuOUM3MC43LDExOC44LDcwLjQsMTE4LjksNzAsMTE4Ljl6Ij48L3BhdGg+CiAgICA8cGF0aCBmaWxsPSIjNDU0QjU0IiBkPSJNMTMuNiw4MC4xYy0xLjIsMC0yLjQtMC44LTIuOC0yTDYuMyw2NS45Yy0wLjYtMS42LDAuMi0zLjMsMS44LTMuOGMxLjYtMC42LDMuMywwLjIsMy44LDEuOGw0LjQsMTIuMmMwLjYsMS42LTAuMiwzLjMtMS44LDMuOEMxNC4zLDgwLjEsMTQsODAuMSwxMy42LDgwLjF6Ij48L3BhdGg+CiAgICA8cGF0aCBmaWxsPSIjNDU0QjU0IiBkPSJNMTMuMiw3My4zYy0xLjIsMC0yLjQtMC44LTIuOC0yYy0wLjYtMS42LDAuMi0zLjMsMS44LTMuOEwzNSw1OS4yYzEuNi0wLjYsMy4zLDAuMiwzLjgsMS44YzAuNiwxLjYtMC4yLDMuMy0xLjgsMy44bC0yMi44LDguM0MxMy45LDczLjMsMTMuNiw3My4zLDEzLjIsNzMuM3oiPjwvcGF0aD4KPC9zdmc+Cg==",url:"index.html",data:null,cache:!1,cacheReset:!1,upload:!1,download:!1,embed:!1,colorScheme:"auto",colorSchemePersistent:!0,inspector:!0,router:!0,meta:null},indexUrl:"",assets:{"model.js":"./model.js","model.css":"model.css","model-loader.css":"model-loader.css"}};if(typeof location<"u"&&!location.pathname.endsWith(".html")&&(Ai.model&&(Ai.indexUrl=Ai.indexUrl.replace(/^\.\.\/|index\.html$/g,"")),Ai.models))for(let t of Ai.models)t.url=t.url.replace(/(^|\/|\\)index\.html$/,"$1");var Tr=Ai;Gu();kc();Cm(Promise.resolve().then(()=>(WA(),_A)).then(t=>t.default),[xc(Tr.assets["model.css"])],Tr,{styles:[xc(Tr.assets["model-loader.css"])],embed:Tr.model.embed,...Pa(Tr.model),encodings:fa,dataSource:"push",data:!!Tr.model.data||null});})();
</script>
</body>
